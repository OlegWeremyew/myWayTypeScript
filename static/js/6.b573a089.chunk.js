(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[6],{330:function(e,t,s){e.exports={chat__item:"Messages_chat__item__rvdcq"}},331:function(e,t,s){e.exports={message:"Message_message__3voQ6",message__item:"Message_message__item__34l0T",message__userName:"Message_message__userName__2hie8",message__img:"Message_message__img__2yvRa",message__text:"Message_message__text__36qp9"}},332:function(e,t,s){e.exports={form__btn:"AddMessageForm_form__btn__1A1Fo",textarea:"AddMessageForm_textarea__1SV0Q"}},333:function(e,t,s){e.exports={chatBlock:"Chat_chatBlock__3pIRB"}},334:function(e,t,s){e.exports={chatPageBlock:"ChatPage_chatPageBlock__1fsnk",chatPage__title:"ChatPage_chatPage__title__3SkW7"}},341:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),r=s(20),n=s(330),i=s.n(n),_=s(23),o=s(331),j=s.n(o),l=s(21),m=s(10),b=s(0),u=c.a.memo((function(e){var t=e.message,s="".concat(m.a.PROFILE,"/").concat(t.userId);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:j.a.message,children:[Object(b.jsxs)("div",{className:j.a.message__item,children:[Object(b.jsx)(l.b,{to:s,children:Object(b.jsx)("img",{className:j.a.message__img,src:t.photo,alt:"avatar",title:"avatar ".concat(t.userName)})}),Object(b.jsx)("div",{className:j.a.message__userName,children:t.userName}),Object(b.jsx)("br",{})]}),Object(b.jsx)("div",{className:j.a.message__text,children:t.message})]}),Object(b.jsx)("hr",{})]})})),g=s(39),h=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),s=t[0],c=t[1],n=Object(_.d)(g.a),o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e;s&&(null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[n]),Object(b.jsxs)("div",{className:i.a.chat__item,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop)-t.clientHeight<300?!s&&c(!0):s&&c(!1)},children:[n.map((function(e){return Object(b.jsx)(u,{message:e},e.id)})),Object(b.jsx)("div",{ref:o})]})},d=s(332),O=s.n(d),x=s(70),f=s(15),v=function(){var e=Object(_.c)(),t=Object(a.useState)(f.a),s=Object(r.a)(t,2),c=s[0],n=s[1],i=Object(_.d)(g.b);return Object(b.jsxs)("div",{children:[Object(b.jsx)("textarea",{className:O.a.textarea,placeholder:"write your message \u2709",value:c,onChange:function(e){return function(e){n(e)}(e.currentTarget.value)},onKeyPress:function(t){"Enter"===t.key&&(e(Object(x.b)(c)),n(f.a))}}),Object(b.jsx)("div",{className:O.a.form__btn,onClick:function(){c.trim()&&(e(Object(x.b)(c)),n(f.a))},children:Object(b.jsx)("button",{disabled:"ready"!==i,children:"Send"})})]})},p=s(333),N=s.n(p),k=function(){var e=Object(_.c)(),t=Object(_.d)(g.b);return Object(a.useEffect)((function(){return e(Object(x.c)()),function(){e(Object(x.d)())}}),[]),Object(b.jsxs)(b.Fragment,{children:["error"===t&&Object(b.jsx)("div",{children:"Some error occurred. Please refresh this page"}),Object(b.jsxs)("div",{className:N.a.chatBlock,children:[Object(b.jsx)(h,{}),Object(b.jsx)(v,{})]})]})},P=s(334),M=s.n(P);t.default=function(){return Object(b.jsxs)("section",{className:M.a.chatPageBlock,children:[Object(b.jsx)("div",{className:M.a.chatPage__title,children:"Common chat"}),Object(b.jsx)(k,{})]})}}}]);
//# sourceMappingURL=6.b573a089.chunk.js.map