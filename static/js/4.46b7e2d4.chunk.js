(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{231:function(t,e,s){"use strict";s.d(e,"b",(function(){return u})),s.d(e,"a",(function(){return j})),s.d(e,"c",(function(){return _}));var a=s(3),o=s(237),c=(s(0),s(232)),n=s.n(c),i=s(110),r=s(1),l=function(t){var e=t.meta,s=e.touched,a=e.error,o=t.children,c=s&&a,i=c?n.a.error:"";return Object(r.jsxs)("div",{className:n.a.formControl+" "+i,children:[Object(r.jsx)("div",{children:o}),Object(r.jsx)("div",{children:c&&Object(r.jsx)("span",{children:a})})]})},u=function(t){var e=t.input,s=(t.meta,Object(o.a)(t,["input","meta"]));return Object(r.jsx)(l,Object(a.a)(Object(a.a)({},t),{},{children:Object(r.jsx)("textarea",Object(a.a)(Object(a.a)({},e),s))}))},j=function(t){var e=t.input,s=(t.meta,Object(o.a)(t,["input","meta"]));return Object(r.jsx)(l,Object(a.a)(Object(a.a)({},t),{},{children:Object(r.jsx)("input",Object(a.a)(Object(a.a)({},e),s))}))};function _(t,e,s,o,c,n){return Object(r.jsxs)("div",{children:[Object(r.jsx)(i.a,Object(a.a)({placeholder:t,name:e,component:o,validate:s},c))," ",n]})}},232:function(t,e,s){t.exports={formControl:"FormsControls_formControl__2wdsi",error:"FormsControls_error__2ik_3",formSummaryError:"FormsControls_formSummaryError__3OqQc"}},234:function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"a",(function(){return o}));var a=function(t){if(!t)return"Field is required"},o=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},236:function(t,e,s){t.exports={login__block:"Login_login__block__3Z2Z2",login__title:"Login_login__title__r9PbQ",input__form:"Login_input__form__3jRkt",checkbox__form:"Login_checkbox__form__2CVW5",form__btn:"Login_form__btn__22JJo"}},244:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var a=s(3),o=s(237),c=(s(0),s(4)),n=s(19),i=s(18),r=s(1),l=function(t){return{isAuth:t.auth.isAuth}};function u(t){return Object(n.b)(l)((function(e){var s=e.isAuth,n=Object(o.a)(e,["isAuth"]);return s?Object(r.jsx)(t,Object(a.a)({},n)):Object(r.jsx)(c.a,{to:i.a.LOGIN})}))}},258:function(t,e,s){t.exports={profile:"ProfileInfo_profile__2Yo9y",avatarBlock:"ProfileInfo_avatarBlock__2ASvU",avatar:"ProfileInfo_avatar__22Iyr",mainPhoto:"ProfileInfo_mainPhoto__1HIt9",profile__inner:"ProfileInfo_profile__inner__2gQFC",addedPhoto__btn:"ProfileInfo_addedPhoto__btn__2LFy0"}},309:function(t,e,s){t.exports={profile:"Profile_profile__3Z-pR"}},310:function(t,e,s){t.exports={statusText:"ProfileStatus_statusText__17cZK",activeInput:"ProfileStatus_activeInput__y93fa",status__text:"ProfileStatus_status__text__1QW_f",status__pencil:"ProfileStatus_status__pencil__23GNR"}},311:function(t,e,s){t.exports={saveEdit__btn:"ProfileDataForm_saveEdit__btn__dBpLd",formContainer:"ProfileDataForm_formContainer__1dZzi",formBlock:"ProfileDataForm_formBlock__2TEvJ",contactsBlock:"ProfileDataForm_contactsBlock__24S0A",contacts__Title:"ProfileDataForm_contacts__Title__Lef2r",contact__item:"ProfileDataForm_contact__item__2obQ2"}},312:function(t,e,s){t.exports={activateEdit__btn:"ProfileData_activateEdit__btn__2kEEp",formBlock:"ProfileData_formBlock__3CfgK",contacts__container:"ProfileData_contacts__container__3T5li",contacts__Title:"ProfileData_contacts__Title__3gmX9",contact__item:"ProfileData_contact__item__GdbPj",contactsRow:"ProfileData_contactsRow__3xBuW",contactsBlock:"ProfileData_contactsBlock__2YCc8",contactsBlock__item:"ProfileData_contactsBlock__item__1ZGzu"}},313:function(t,e,s){t.exports={myPosts:"MyPosts_myPosts__FQQlZ",post__title:"MyPosts_post__title__3Ccz0",posts:"MyPosts_posts__YPrmi",form__btn:"MyPosts_form__btn__2ny5Z"}},314:function(t,e,s){t.exports={item:"Post_item__1LZi-",itemText:"Post_itemText__3jxIt",postAvatar:"Post_postAvatar__3nqPd",likeCounter:"Post_likeCounter__2nedA",active:"Post_active__28QVg",activeBlock:"Post_activeBlock__xoMef",fingerUp:"Post_fingerUp__pYmx6"}},330:function(t,e,s){"use strict";s.r(e);var a=s(3),o=s(54),c=s(55),n=s(62),i=s(60),r=s(0),l=s.n(r),u=s(309),j=s.n(u),_=s(6),d=s.n(_),b=s(8),f=s(23),p=s(258),m=s.n(p),h=s.p+"static/media/avatar_for_profile.e4c1e159.jpg",O=s(53),x=s(310),v=s.n(x),P=s(1),k=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(){var t;Object(o.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(t=e.call.apply(e,[this].concat(c))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateUserStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(P.jsxs)("div",{children:[!this.state.editMode&&Object(P.jsxs)("div",{className:v.a.statusText,children:[Object(P.jsx)("h3",{children:"Status: "})," ",Object(P.jsxs)("span",{className:v.a.status__text,onDoubleClick:this.activateEditMode,children:[this.props.status||"------",Object(P.jsx)("span",{className:v.a.status__pencil,children:"\xa0\u270e"})]})]}),this.state.editMode&&Object(P.jsxs)("div",{className:v.a.activeInput,children:[Object(P.jsx)("h3",{children:"Status:"}),Object(P.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,value:this.state.status,onBlur:this.deactivateEditMode})]})]})}}]),s}(l.a.Component),g=s(311),N=s.n(g),y=s(231),S=s(111),C=Object(S.a)({form:"edit-profile"})((function(t){var e=t.profile,s=t.handleSubmit,a=t.error;return e?Object(P.jsxs)("form",{className:N.a.formContainer,onSubmit:s,children:[Object(P.jsxs)("div",{className:N.a.saveEdit__btn,children:[Object(P.jsx)("button",{children:"Save"}),a&&Object(P.jsx)("div",{children:a})]}),Object(P.jsxs)("div",{className:N.a.formBlock,children:[Object(P.jsx)("span",{children:"Full name"})," :",Object(y.c)("Full name","fullname",[],y.a,{type:"text"},"")]}),Object(P.jsxs)("div",{className:N.a.formBlock,children:[Object(P.jsx)("span",{children:"Looking for a job"}),":",Object(y.c)("","lookingForAJob",[],y.a,{type:"checkbox"},"")]}),Object(P.jsxs)("div",{className:N.a.formBlock,children:[Object(P.jsx)("span",{children:"My professional skills"}),":",Object(y.c)("My professional skills","lookingForAJobDescription",[],y.b,{type:"textarea"},"")]}),Object(P.jsxs)("div",{className:N.a.formBlock,children:[Object(P.jsx)("span",{children:"About me"})," :",Object(y.c)("About me","aboutMe",[],y.b,{type:"textarea"},"")]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:N.a.contacts__Title,children:"Contacts:"}),Object(P.jsx)("div",{className:N.a.contactsBlock,children:Object.keys(e.contacts).map((function(t){return Object(P.jsx)("div",{className:N.a.contact__item,children:Object(P.jsxs)("b",{children:[t,":",Object(y.c)(t,"contacts.".concat(t),[],y.a,{type:"text"},"")]})},t)}))})]})]}):Object(P.jsx)(O.a,{})})),B=s(312),M=s.n(B),A=function(t){var e=t.contactTitle,s=t.contactValue;return Object(P.jsxs)("div",{className:m.a.formBlock,children:[Object(P.jsxs)("b",{children:[e," : "]})," ",s?Object(P.jsx)("span",{children:s}):"Information is not provided"]})},I=function(t){var e=t.profile,s=t.isOwner,a=t.goToEditMode;return e?Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{className:M.a.contacts__Title,children:"Little about me:"}),Object(P.jsxs)("div",{className:M.a.formBlock,children:[Object(P.jsx)("b",{children:"Full name : "})," ",e.fullName]}),Object(P.jsxs)("div",{className:M.a.formBlock,children:[Object(P.jsx)("b",{children:"Looking for a job : "})," ",e.lookingForAJob?"I'm looking for a job":"no, I'm not looking for a job at the moment"]}),Object(P.jsxs)("div",{className:M.a.formBlock,children:[Object(P.jsx)("b",{children:"My professional skills : "})," ",e.lookingForAJobDescription]}),Object(P.jsxs)("div",{className:M.a.formBlock,children:[Object(P.jsx)("b",{children:"About me : "})," ",e.aboutMe]}),Object(P.jsxs)("div",{className:M.a.contacts__container,children:[Object(P.jsx)("span",{className:M.a.contacts__Title,children:"My contacts:"}),Object(P.jsx)("div",{className:M.a.contactsBlock,children:Object.keys(e.contacts).map((function(t){return Object(P.jsx)("div",{className:M.a.contactsBlock__item,children:Object(P.jsx)(A,{contactTitle:t,contactValue:e.contacts[t]},t)})}))})]}),s&&Object(P.jsx)("div",{className:M.a.activateEdit__btn,onClick:a,children:Object(P.jsx)("button",{children:"Edit"})})]})}):Object(P.jsx)(O.a,{})},w=function(t){var e=t.editMode,s=t.profile,a=t.onSubmit,o=t.isOwner,c=t.setEditModeHandler;return Object(P.jsx)(P.Fragment,{children:e?Object(P.jsx)(C,{initialValues:s,profile:s,onSubmit:a}):Object(P.jsx)(I,{profile:s,isOwner:o,goToEditMode:c})})},F=function(t){var e=t.profile,s=t.status,a=t.updateUserStatus,o=t.savePhoto,c=t.isOwner,n=t.saveProfile,i=Object(r.useState)(!1),l=Object(f.a)(i,2),u=l[0],j=l[1];if(!e)return Object(P.jsx)(O.a,{});var _=function(){var t=Object(b.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:j(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:m.a.profile,children:[Object(P.jsxs)("div",{className:m.a.avatarBlock,children:[Object(P.jsx)("div",{className:m.a.avatar,children:Object(P.jsx)("img",{className:m.a.mainPhoto,alt:"main avatar",src:e&&null!==e.photos.large?e.photos.large:h})}),Object(P.jsxs)("div",{className:m.a.profile__inner,children:[Object(P.jsx)(k,{status:s,updateUserStatus:a}),Object(P.jsx)("div",{className:m.a.addedPhoto__btn,children:c&&Object(P.jsx)("input",{type:"file",onChange:function(t){return function(t){t.target.files&&t.target.files.length&&o(t.target.files[0])}(t)}})})]})]}),Object(P.jsx)("hr",{}),Object(P.jsx)(w,{editMode:u,profile:e,onSubmit:_,isOwner:c,setEditModeHandler:function(){j(!0)}}),Object(P.jsx)("hr",{})]})},D=s(63),E=s(313),T=s.n(E),U=s(314),L=s.n(U),J=function(t){var e=Object(r.useState)(!1),s=Object(f.a)(e,2),a=s[0],o=s[1],c=Object(r.useState)(!1),n=Object(f.a)(c,2),i=n[0],l=n[1],u=a?L.a.active:"";return Object(P.jsxs)("div",{className:L.a.item,children:[Object(P.jsx)("div",{className:L.a.postAvatar,children:Object(P.jsx)("img",{src:"https://slovami.net/wp-content/uploads/thumbs_dir/the-most-beautiful-guys-russia-4-1-nwkkkydf2f1mhw9a4ijzfs2ktasvevyjiyi4xibqis.jpg",alt:"ava",title:"ava"})}),Object(P.jsxs)("div",{className:L.a.itemText,children:[t.message,Object(P.jsxs)("div",{className:L.a.activeBlock,children:[Object(P.jsxs)("span",{className:L.a.likeCounter,onClick:function(){o(!a)},children:["like: ",a?t.likesCount+1:t.likesCount,Object(P.jsx)("span",{className:u,children:"\u2665"})]}),Object(P.jsxs)("span",{className:L.a.likeCounter,onClick:function(){l(!i)},children:["respect:",i?Object(P.jsx)("span",{children:"\ud83d\ude0e"}):Object(P.jsx)("span",{children:"\ud83d\udc4d"})]})]})]})]})},Z=s(110),Q=s(234),z=s(236),G=s.n(z),R=Object(Q.a)(10),V=l.a.memo((function(t){var e=t.profilePage,s=t.onAddPost,a=e.posts.map((function(t){return Object(P.jsx)(J,{message:t.message,likesCount:t.likesCount,id:t.id},t.id)}));return Object(P.jsxs)("div",{className:T.a.myPosts,children:[Object(P.jsx)("h3",{className:T.a.post__title,children:"My posts :"}),Object(P.jsx)(q,{onSubmit:function(t){s(t.AddNewPost)}}),Object(P.jsx)("div",{className:T.a.posts,children:a})]})})),q=Object(S.a)({form:"ProfileAddNewPostForm"})((function(t){var e=t.handleSubmit;return Object(P.jsxs)("form",{onSubmit:e,children:[Object(P.jsx)("div",{children:Object(P.jsx)(Z.a,{component:y.b,name:"AddNewPost",placeholder:"Write your message",validate:[Q.b,R]})}),Object(P.jsx)("div",{className:G.a.form__btn,children:Object(P.jsx)("button",{children:"Add post"})})]})})),H=s(19),W=Object(H.b)((function(t){return{profilePage:t.profilePage}}),{onAddPost:D.a.addPost})(V),Y=function(t){return Object(P.jsxs)("div",{className:j.a.profile,children:[Object(P.jsx)(F,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus,isOwner:t.isOwner,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),Object(P.jsx)(W,{})]})},K=s(40),X=s(4),$=s(244),tt=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(){return Object(o.a)(this,s),e.apply(this,arguments)}return Object(c.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.userId;if(t||(t=this.props.authorizedUserID)||this.props.history.push(PATH.LOGIN),!t)throw new Error("ID should be exists");this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.userId!==t.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(P.jsx)(Y,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component),et=Object(K.d)(Object(H.b)((function(t){return{profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authorizedUserID:t.auth.data.userId}}),{getUserProfile:D.b,getUserStatus:D.c,updateUserStatus:D.g,savePhoto:D.e,saveProfile:D.f}),(function(t){return function(e){var s=Object(X.h)(),o=Object(X.f)();return Object(P.jsx)(t,Object(a.a)(Object(a.a)({},e),{},{userId:s.userId,location:o}))}}),$.a)(tt);e.default=et}}]);
//# sourceMappingURL=4.46b7e2d4.chunk.js.map