(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[6],{240:function(e,t,c){e.exports={login__block:"Login_login__block__3Z2Z2",login__title:"Login_login__title__r9PbQ",input__form:"Login_input__form__3jRkt",checkbox__form:"Login_checkbox__form__2CVW5",form__btn:"Login_form__btn__22JJo"}},262:function(e,t,c){e.exports={page:"Users_page__18XrB",users:"Users_users__xCHdX",searchResult:"Users_searchResult__3QvNG"}},263:function(e,t,c){e.exports={userPhoto:"User_userPhoto__2sjWQ",userBlock:"User_userBlock__36S8q",user__btn:"User_user__btn__1etat",userInfo:"User_userInfo__krqka",user__text:"User_user__text__28Av2"}},321:function(e,t,c){e.exports={paginator:"Paginator_paginator__PwQWk",pageNumber:"Paginator_pageNumber__1k8yn",selectedPage:"Paginator_selectedPage__3QcoJ",user__btn:"Paginator_user__btn__1rLFG"}},326:function(e,t,c){e.exports={search:"UsersSearchForm_search__14qgv",searchForm:"UsersSearchForm_searchForm__3CETL",searchForm__block:"UsersSearchForm_searchForm__block__RUP-Z",searchForm__item__input:"UsersSearchForm_searchForm__item__input__1apqa",searchForm__item__select:"UsersSearchForm_searchForm__item__select__1Pq4c",form__btn:"UsersSearchForm_form__btn__1LJlB"}},336:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c.n(r),s=c(262),a=c.n(s),i=c(10),o=c(3),l=c(16),_=c(65),u=c(69),b=c(321),j=c.n(b),d=c(263),m=c.n(d),h=c(322),O=c.n(h),f=c(0),x=function(e){for(var t=e.totalItemsCount,c=e.pageSize,n=e.currentPage,s=e.onPageChanged,a=e.portionSize,i=void 0===a?10:a,o=Math.ceil(t/c),_=[],b=1;b<=o;b++)_.push(b);var d=Math.ceil(o/i),h=Object(r.useState)(1),x=Object(l.a)(h,2),g=x[0],p=x[1],v=(g-1)*i+1,N=g*i;return Object(r.useEffect)((function(){p(Math.ceil(n/i))}),[n]),Object(f.jsxs)("div",{className:O()(j.a.paginator),children:[Object(f.jsx)("div",{children:g>1&&Object(f.jsx)("div",{className:m.a.user__btn,onClick:function(){return p(g-1)},children:Object(f.jsx)("button",{children:"PREV"})})}),Object(f.jsx)("div",{children:_.filter((function(e){return e>=v&&e<=N})).map((function(e){return Object(f.jsx)("span",{className:O()(Object(u.a)({},j.a.selectedPage,n===e),j.a.pageNumber),onClick:function(){return s(e)},children:e},e)}))}),Object(f.jsx)("div",{children:d>g&&Object(f.jsx)("div",{className:m.a.user__btn,onClick:function(){return p(g+1)},children:Object(f.jsx)("button",{children:"NEXT"})})})]})},g=c(84),p=c(19),v=c(21),N=function(e){var t=e.user,c=e.followingInProgress,r=Object(i.c)();return Object(f.jsxs)("div",{className:m.a.userBlock,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)(p.b,{to:"".concat(v.a.PROFILE,"/").concat(t.id),children:Object(f.jsx)("img",{className:m.a.userPhoto,src:null!==t.photos.small?t.photos.small:g.a,alt:"".concat(t.name," photo")})})}),Object(f.jsx)("div",{className:m.a.user__btn,children:t.followed?Object(f.jsx)("button",{disabled:c.some((function(e){return e===t.id})),onClick:function(){return e=t.id,void r(Object(_.c)(e));var e},children:"Unfollow"}):Object(f.jsx)("button",{disabled:c.some((function(e){return e===t.id})),onClick:function(){return e=t.id,void r(Object(_.a)(e));var e},children:"Follow"})})]}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:m.a.userInfo,children:[Object(f.jsxs)("div",{className:m.a.userName,children:["User name : ",Object(f.jsx)("span",{className:m.a.user__text,children:t.name})]}),Object(f.jsxs)("div",{className:m.a.userStatus,children:["User status :",Object(f.jsx)("span",{className:m.a.user__text,children:t.status?t.status.slice(0,50):" empty"})]})]})})]})},k=c(332),F=c(326),P=c.n(F),S=c(57),U=c(240),w=c.n(U),C=function(e){return{}},L=n.a.memo((function(e){var t=e.onFilterChanged,c=Object(i.d)(S.g);return Object(f.jsx)("div",{className:P.a.search,children:Object(f.jsx)(k.c,{enableReinitialize:!0,initialValues:{term:c.term,friend:String(c.friend)},validate:C,onSubmit:function(e,c){var r=c.setSubmitting,n={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(n),r(!1)},children:function(e){var t=e.isSubmitting;return Object(f.jsxs)(k.b,{className:P.a.searchForm,children:[Object(f.jsxs)("div",{className:P.a.searchForm__block,children:[Object(f.jsx)(k.a,{className:P.a.searchForm__item__input,type:"text",name:"term",placeholder:"write user name"}),Object(f.jsxs)(k.a,{className:P.a.searchForm__item__select,name:"friend",as:"select",children:[Object(f.jsx)("option",{value:"null",children:"All"}),Object(f.jsx)("option",{value:"true",children:"Only followed"}),Object(f.jsx)("option",{value:"false",children:"Only unfollowed"})]})]}),Object(f.jsx)("div",{className:w.a.form__btn,children:Object(f.jsx)("button",{type:"submit",disabled:t,children:"Find"})})]})}})})})),I=c(4),R=function(){var e=Object(i.c)(),t=Object(I.g)(),c=Object(p.c)(),n=Object(l.a)(c,2),s=n[0],u=(n[1],s.get("page")),b=s.get("term"),j=s.get("friend"),d=Object(i.d)(S.e),m=Object(i.d)(S.a),h=Object(i.d)(S.d),O=Object(i.d)(S.g),g=Object(i.d)(S.f),v=Object(i.d)(S.b);return Object(r.useEffect)((function(){var t=m,c=O;switch(u&&(t=Number(u)),b&&(c=Object(o.a)(Object(o.a)({},c),{},{term:b})),j){case"null":c=Object(o.a)(Object(o.a)({},c),{},{friend:null});break;case"true":c=Object(o.a)(Object(o.a)({},c),{},{friend:!0});break;case"false":c=Object(o.a)(Object(o.a)({},c),{},{friend:!1})}e(Object(_.b)(t,h,c))}),[]),Object(r.useEffect)((function(){var e={};b&&(e.term=b),1!==m&&(e.page=String(m)),null!==j&&(e.friends=String(j)),t("?term=".concat(O.term,"&friend=").concat(O.friend,"&page=").concat(m))}),[O,m]),Object(f.jsxs)("div",{className:a.a.users,children:[Object(f.jsx)(L,{onFilterChanged:function(t){e(Object(_.b)(1,h,t))}}),Object(f.jsx)("div",{className:a.a.searchResult,children:g.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(N,{user:e,followingInProgress:v})},e.id)}))}),Object(f.jsx)(x,{totalItemsCount:d,pageSize:h,currentPage:m,onPageChanged:function(t){e(Object(_.b)(t,h,O))}})]})},E=c(34);t.default=function(){var e=Object(i.d)(S.c);return Object(f.jsxs)("div",{className:a.a.page,children:[e?Object(f.jsx)(E.a,{}):null,Object(f.jsx)(R,{})]})}}}]);
//# sourceMappingURL=6.725972c2.chunk.js.map