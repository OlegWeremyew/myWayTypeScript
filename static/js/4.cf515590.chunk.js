(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{241:function(t,e,a){"use strict";a.d(e,"b",(function(){return j})),a.d(e,"a",(function(){return d})),a.d(e,"c",(function(){return u}));var s=a(3),c=a(246),o=(a(1),a(242)),n=a.n(o),i=a(121),r=a(15),l=a(0),_=function(t){var e=t.meta,a=e.touched,s=e.error,c=t.children,o=a&&s,i=o?n.a.error:r.a;return Object(l.jsxs)("div",{className:n.a.FormControl+" "+i,children:[Object(l.jsx)("div",{children:c}),Object(l.jsx)("div",{children:o&&Object(l.jsx)("span",{children:s})})]})},j=function(t){var e=t.input,a=(t.meta,Object(c.a)(t,["input","meta"]));return Object(l.jsx)(_,Object(s.a)(Object(s.a)({},t),{},{children:Object(l.jsx)("textarea",Object(s.a)(Object(s.a)({className:n.a.textarea},e),a))}))},d=function(t){var e=t.input,a=(t.meta,Object(c.a)(t,["input","meta"]));return Object(l.jsx)(_,Object(s.a)(Object(s.a)({},t),{},{children:Object(l.jsx)("input",Object(s.a)(Object(s.a)({className:n.a.input},e),a))}))};function u(t,e,a,c,o,n){return Object(l.jsxs)("div",{children:[Object(l.jsx)(i.a,Object(s.a)({placeholder:t,name:e,component:c,validate:a},o))," ",n]})}},242:function(t,e,a){t.exports={formControl:"FormsControls_formControl__16I1n",error:"FormsControls_error__dMqpf",formSummaryError:"FormsControls_formSummaryError__2k5qi",textarea:"FormsControls_textarea__3h9ML"}},245:function(t,e,a){t.exports={login__block:"Login_login__block__2h76V",login__title:"Login_login__title__3yyRU",input__form:"Login_input__form__dPp6f",checkbox__form:"Login_checkbox__form__3rk2n",form__btn:"Login_form__btn__cQeTw"}},253:function(t,e,a){"use strict";a.d(e,"a",(function(){return _}));var s=a(3),c=a(246),o=(a(1),a(4)),n=a(23),i=a(10),r=a(0),l=function(t){return{isAuth:t.auth.isAuth}};function _(t){return Object(n.b)(l)((function(e){var a=e.isAuth,n=Object(c.a)(e,["isAuth"]);return a?Object(r.jsx)(t,Object(s.a)({},n)):Object(r.jsx)(o.a,{to:i.a.LOGIN})}))}},267:function(t,e,a){t.exports={profile:"ProfileInfo_profile__1E2Wo",avatarBlock:"ProfileInfo_avatarBlock__3KWpZ",avatar:"ProfileInfo_avatar__wS-3w",mainPhoto:"ProfileInfo_mainPhoto__2jaUi",profile__inner:"ProfileInfo_profile__inner__2ePf7",addedPhoto__btn:"ProfileInfo_addedPhoto__btn__7U_zc",avatarEdit:"ProfileInfo_avatarEdit__2tb83",view__btn:"ProfileInfo_view__btn__2WN46"}},318:function(t,e,a){t.exports={profile:"Profile_profile__Q5MtS"}},319:function(t,e,a){t.exports={main:"ProfileStatus_main__l_0PC",statusText:"ProfileStatus_statusText__2mACM",status__text:"ProfileStatus_status__text__PAAbK",status__pencil:"ProfileStatus_status__pencil__2u-qW",activeInput:"ProfileStatus_activeInput__iyvOh"}},320:function(t,e,a){t.exports={saveEdit__btn:"ProfileDataForm_saveEdit__btn__2WsjO",formContainer:"ProfileDataForm_formContainer__LljG_",form_edit:"ProfileDataForm_form_edit__3uCwa",formBlock:"ProfileDataForm_formBlock__2tDM3",formBlock__check:"ProfileDataForm_formBlock__check__3NICF",contacts__Title:"ProfileDataForm_contacts__Title__1zjbV",contactsBlock:"ProfileDataForm_contactsBlock__3oU5v",contact__item:"ProfileDataForm_contact__item__2wrSC"}},321:function(t,e,a){t.exports={activateEdit__btn:"ProfileData_activateEdit__btn__iC6UV",formBlock:"ProfileData_formBlock__3foQI",formBlock__title:"ProfileData_formBlock__title__36jJX",contacts__Title:"ProfileData_contacts__Title__3QFQY",contacts__container:"ProfileData_contacts__container__2CIuv",contacts__text:"ProfileData_contacts__text__1P9LS",contactsBlock:"ProfileData_contactsBlock__1W9WY",contactsBlock__item:"ProfileData_contactsBlock__item__1kCdy",icon:"ProfileData_icon__msuWl",contact__item:"ProfileData_contact__item__1NSSp",contactsRow:"ProfileData_contactsRow__2auxE"}},322:function(t,e,a){t.exports={formBlock:"Contact_formBlock__2IEAZ"}},323:function(t,e,a){t.exports={myPosts:"MyPosts_myPosts__1rwov",post__title:"MyPosts_post__title__1TX5C",form__btn:"MyPosts_form__btn__1gEVb"}},324:function(t,e,a){t.exports={item:"Post_item__1IXMP",itemText:"Post_itemText__SWuJm",postAvatar:"Post_postAvatar__1ZQwr",likeCounter:"Post_likeCounter__1pOG2",notActive:"Post_notActive__33AF-",active:"Post_active__39ydp",activeBlock:"Post_activeBlock__2WzRg",fingerUp:"Post_fingerUp__exwo2",reaction:"Post_reaction__1kzv4",form__btn:"Post_form__btn__S9M8w",delete__btn:"Post_delete__btn__pVhkS"}},339:function(t,e,a){"use strict";a.r(e);var s=a(3),c=a(66),o=a(67),n=a(77),i=a(76),r=a(1),l=a.n(r),_=a(318),j=a.n(_),d=a(6),u=a.n(d),b=a(9),f=a(20),m=a(267),p=a.n(m),O=a.p+"static/media/avatar_for_profile.e4c1e159.jpg",h=a(319),x=a.n(h),v=a(0),k=function(t){Object(n.a)(a,t);var e=Object(i.a)(a);function a(){var t;Object(c.a)(this,a);for(var s=arguments.length,o=new Array(s),n=0;n<s;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))).state={editMode:!1,status:t.props.status,isOwner:t.props.isOwner},t.activateEditMode=function(){t.props.isOwner&&t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateUserStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:x.a.main,children:[!this.state.editMode&&Object(v.jsxs)("div",{className:x.a.statusText,children:[Object(v.jsx)("h3",{children:"Status: "}),Object(v.jsxs)("span",{className:x.a.status__text,onDoubleClick:this.activateEditMode,children:[this.props.status||"------",Object(v.jsx)("span",{className:x.a.status__pencil,children:"\xa0\u270e"})]})]}),this.state.editMode&&Object(v.jsxs)("div",{className:x.a.activeInput,children:[Object(v.jsx)("h3",{children:"Status:"}),Object(v.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,value:this.state.status,onBlur:this.deactivateEditMode})]})]})}}]),a}(l.a.Component),P=a(320),N=a.n(P),g=a(65),S=a(241),w=a(122),y=a(15),C=Object(w.a)({form:"edit-profile"})((function(t){var e=t.profile,a=t.handleSubmit,s=t.error;return e?Object(v.jsxs)("form",{className:N.a.formContainer,onSubmit:a,children:[Object(v.jsx)("span",{className:N.a.contacts__Title,children:"Little about me:"}),Object(v.jsxs)("div",{className:N.a.form_edit,children:[Object(v.jsxs)("div",{className:N.a.formBlock,children:[Object(v.jsx)("span",{children:"Full name:"}),Object(S.c)("Full name","fullname",[],S.a,{type:"text"},y.a)]}),Object(v.jsxs)("div",{className:N.a.formBlock__check,children:[Object(v.jsx)("span",{children:"Looking for a job:"}),Object(S.c)("","lookingForAJob",[],S.a,{type:"checkbox"},y.a)]}),Object(v.jsxs)("div",{className:N.a.formBlock,children:[Object(v.jsx)("span",{children:"My professional skills:"}),Object(S.c)("My professional skills","lookingForAJobDescription",[],S.a,{type:"textarea"},y.a)]}),Object(v.jsxs)("div",{className:N.a.formBlock,children:[Object(v.jsx)("span",{children:"About me:"}),Object(S.c)("About me","aboutMe",[],S.a,{type:"textarea"},y.a)]}),Object(v.jsx)("span",{className:N.a.contacts__Title,children:"My contacts:"}),Object(v.jsx)("div",{className:N.a.contactsBlock,children:Object.keys(e.contacts).map((function(t){return Object(v.jsx)("div",{className:N.a.contact__item,children:Object(v.jsxs)("span",{children:[t,":",Object(S.c)(t,"contacts.".concat(t),[],S.a,{type:"text"},y.a)]})},t)}))})]}),Object(v.jsxs)("div",{className:N.a.saveEdit__btn,children:[Object(v.jsx)("button",{children:"Save"}),s&&Object(v.jsx)("div",{children:s})]})]}):Object(v.jsx)(g.a,{})})),B=a(321),M=a.n(B),I=a(322),A=a.n(I),D=function(t){var e=t.contactTitle,a=t.contactValue;return Object(v.jsxs)("div",{className:A.a.formBlock,children:[Object(v.jsxs)("b",{children:[Object(v.jsxs)("a",{href:a||y.a,children:[" ",e]}),":"]}),a?Object(v.jsx)("span",{children:a}):Object(v.jsx)("span",{children:'"Information is not provided"'})]})},F=function(t){var e=t.profile,a=t.isOwner,s=t.goToEditMode;return e?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)("span",{className:M.a.contacts__Title,children:"Little about me:"}),Object(v.jsxs)("div",{className:M.a.formBlock,children:[Object(v.jsx)("div",{className:M.a.formBlock__title,children:"Full name:"}),Object(v.jsx)("div",{children:e.fullName})]}),Object(v.jsxs)("div",{className:M.a.formBlock,children:[Object(v.jsx)("div",{className:M.a.formBlock__title,children:"Looking for a job:"}),Object(v.jsx)("div",{children:e.lookingForAJob?"I'm looking for a job":"no, I'm not looking for a job at the moment"})]}),Object(v.jsxs)("div",{className:M.a.formBlock,children:[Object(v.jsx)("div",{className:M.a.formBlock__title,children:"My professional skills:"}),Object(v.jsx)("div",{children:e.lookingForAJobDescription})]}),Object(v.jsxs)("div",{className:M.a.formBlock,children:[Object(v.jsx)("div",{className:M.a.formBlock__title,children:"About me:"}),Object(v.jsx)("div",{children:e.aboutMe})]}),Object(v.jsxs)("div",{className:M.a.contacts__container,children:[Object(v.jsx)("span",{className:M.a.contacts__Title,children:"My contacts:"}),Object(v.jsxs)("div",{className:M.a.contacts__text,children:["If you want to go to my web pages - click on the title below",Object(v.jsx)("span",{children:" \u261f"})]}),Object(v.jsx)("div",{className:M.a.contactsBlock,children:Object.keys(e.contacts).map((function(t){return Object(v.jsxs)("div",{className:M.a.contactsBlock__item,children:[Object(v.jsx)("span",{className:M.a.icon,children:"\u2713 "}),Object(v.jsx)(D,{contactTitle:t,contactValue:e.contacts[t]})]},t)}))})]}),a&&Object(v.jsx)("div",{className:M.a.activateEdit__btn,onClick:s,children:Object(v.jsx)("button",{type:"button",children:"Edit contacts"})})]})}):Object(v.jsx)(g.a,{})},E=function(t){var e=t.editMode,a=t.profile,s=t.onSubmit,c=t.isOwner,o=t.setEditModeHandler,n=t.disableViewMode;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:p.a.view__btn,onClick:n,children:Object(v.jsx)("button",{type:"button",children:"Hide contacts"})}),e?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(C,{initialValues:a,profile:a,onSubmit:s})}):Object(v.jsx)(F,{profile:a,isOwner:c,goToEditMode:o})]})},U=a(35),T=function(t){var e=t.profile,a=t.status,s=t.updateUserStatus,c=t.savePhoto,o=t.isOwner,n=t.saveProfile,i=Object(r.useState)(!1),l=Object(f.a)(i,2),_=l[0],j=l[1],d=Object(r.useState)(!1),m=Object(f.a)(d,2),h=m[0],x=m[1];if(!e)return Object(v.jsx)(U.d,{});var P=function(){var t=Object(b.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:j(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:p.a.profile,children:[Object(v.jsxs)("div",{className:p.a.avatarBlock,children:[Object(v.jsx)("div",{className:p.a.avatar,children:Object(v.jsx)("img",{className:p.a.mainPhoto,alt:"main avatar",src:e&&null!==e.photos.large?e.photos.large:O})}),Object(v.jsxs)("div",{className:p.a.profile__inner,children:[Object(v.jsx)(k,{isOwner:o,status:a,updateUserStatus:s}),Object(v.jsx)("div",{className:p.a.addedPhoto__btn,children:o&&Object(v.jsxs)("div",{className:p.a.avatarEdit,children:[Object(v.jsx)("input",{type:"file",onChange:function(t){return function(t){t.target.files&&t.target.files.length&&c(t.target.files[y.b])}(t)},id:"imageUpload",accept:".png, .jpg, .jpeg"}),Object(v.jsx)("label",{htmlFor:"imageUpload",children:" "})]})})]})]}),Object(v.jsx)("hr",{}),h?Object(v.jsx)(E,{editMode:_,profile:e,onSubmit:P,isOwner:o,setEditModeHandler:function(){j(!0)},disableViewMode:function(){x(!1)}}):Object(v.jsx)("div",{className:p.a.view__btn,onClick:function(){return x(!0)},children:Object(v.jsx)("button",{type:"button",children:"View contacts"})}),Object(v.jsx)("hr",{})]})},L=a(23),V=a(64),W=a(323),J=a.n(W),z=a(324),Q=a.n(z),G=a(38),H=function(t){var e=Object(L.c)(),a=Object(r.useState)(!1),s=Object(f.a)(a,2),c=s[0],o=s[1],n=Object(r.useState)(!1),i=Object(f.a)(n,2),l=i[0],_=i[1],j=Object(L.d)(G.h),d=c?Q.a.active:Q.a.notActive;return Object(v.jsxs)("div",{className:Q.a.item,children:[Object(v.jsx)("div",{className:Q.a.postAvatar,children:Object(v.jsx)("img",{src:j||y.a,alt:"ava",title:"ava"})}),Object(v.jsxs)("div",{className:Q.a.itemText,children:[t.message,Object(v.jsxs)("div",{className:Q.a.activeBlock,children:[Object(v.jsxs)("span",{className:Q.a.likeCounter,onClick:function(){o(!c)},children:["like: ",c?t.likesCount+1:t.likesCount,Object(v.jsx)("span",{className:d,children:"\u2665"})]}),Object(v.jsxs)("span",{className:Q.a.likeCounter,onClick:function(){_(!l)},children:["respect:",l?Object(v.jsx)("span",{className:Q.a.reaction,children:"\ud83d\ude0e"}):Object(v.jsx)("span",{className:Q.a.reaction,children:"\ud83d\udc4d"})]})]})]}),Object(v.jsx)("div",{onClick:function(){return a=t.id,void e(V.a.deletePost(a));var a},className:Q.a.delete__btn,children:"\u274c"})]})},R=a(121),q=a(245),X=a.n(q),Z=a(53),K=Object(Z.a)(10),Y=l.a.memo((function(t){var e=t.profilePage,a=t.onAddPost,s=e.posts.map((function(t){return Object(v.jsx)(H,{message:t.message,likesCount:t.likesCount,id:t.id},t.id)}));return Object(v.jsxs)("div",{className:J.a.myPosts,children:[Object(v.jsx)("h3",{className:J.a.post__title,children:"My posts :"}),Object(v.jsx)($,{onSubmit:function(t){a(t.AddNewPost)}}),Object(v.jsx)("div",{className:J.a.posts,children:s})]})})),$=Object(w.a)({form:"ProfileAddNewPostForm"})((function(t){var e=t.handleSubmit,a=t.reset;return Object(v.jsxs)("form",{onSubmit:function(t){e(t),a()},children:[Object(v.jsx)("div",{children:Object(v.jsx)(R.a,{component:S.b,name:"AddNewPost",placeholder:"Write your message \u2709",validate:[Z.b,K]})}),Object(v.jsx)("div",{className:X.a.form__btn,children:Object(v.jsx)("button",{type:"submit",children:"Add post"})})]})})),tt=Object(L.b)((function(t){return{profilePage:Object(G.j)(t)}}),{onAddPost:V.a.addPost})(Y),et=function(t){var e=t.profile,a=t.status,s=t.updateUserStatus,c=t.isOwner,o=t.savePhoto,n=t.saveProfile;return Object(v.jsxs)("section",{className:j.a.profile,children:[Object(v.jsx)(T,{profile:e,status:a,updateUserStatus:s,isOwner:c,savePhoto:o,saveProfile:n}),c&&Object(v.jsx)(tt,{})]})},at=a(48),st=a(253),ct=a(4),ot=function(t){Object(n.a)(a,t);var e=Object(i.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"refreshProfile",value:function(){var t=this.props.userId;if(t||(t=this.props.authorizedUserID)||this.props.history.push(PATH.LOGIN),!t)throw new Error("ID should be exists");this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,a){this.props.userId!==t.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(et,Object(s.a)(Object(s.a)({},this.props),{},{isOwner:!this.props.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),a}(l.a.Component),nt=Object(at.d)(Object(L.b)((function(t){return{profile:Object(G.i)(t),isAuth:Object(G.d)(t),status:Object(G.k)(t),authorizedUserID:Object(G.a)(t)}}),{getUserProfile:V.b,getUserStatus:V.c,updateUserStatus:V.g,savePhoto:V.e,saveProfile:V.f}),(function(t){return function(e){var a=Object(ct.h)(),c=Object(ct.f)();return Object(v.jsx)(t,Object(s.a)(Object(s.a)({},e),{},{userId:a.userId,location:c}))}}),st.a)(ot);e.default=nt}}]);
//# sourceMappingURL=4.cf515590.chunk.js.map