(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[7],{244:function(e,t,s){e.exports={login__block:"Login_login__block__2h76V",login__title:"Login_login__title__3yyRU",input__form:"Login_input__form__dPp6f",checkbox__form:"Login_checkbox__form__3rk2n",form__btn:"Login_form__btn__cQeTw"}},265:function(e,t,s){e.exports={page:"Users_page__n11Z0",users:"Users_users__K2iz2",searchResult:"Users_searchResult__3ThpB"}},322:function(e,t,s){e.exports={userBlock:"User_userBlock__ZXH-z",userPhoto:"User_userPhoto__3oRhX",user__btn:"User_user__btn__3yr8R",user__btn_unFollow:"User_user__btn_unFollow__qM96s",userInfo:"User_userInfo__2kJLk",user__text:"User_user__text__4wlZw"}},326:function(e,t,s){e.exports={search:"UsersSearchForm_search__1ZjOY",searchForm:"UsersSearchForm_searchForm__1ISU8",searchForm__block:"UsersSearchForm_searchForm__block__2GvvU",searchForm__item__input:"UsersSearchForm_searchForm__item__input__3JP42",searchForm__item__select:"UsersSearchForm_searchForm__item__select__1VpsQ",form__btn:"UsersSearchForm_form__btn__1sDFc"}},339:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s.n(c),n=s(265),a=s.n(n),i=s(21),o=s(2),_=s(22),l=s(322),b=s.n(l),u=s(16),j=s(89),d=s(8),m=s(71),h=s(0),O=function(e){var t=e.user,s=e.followingInProgress,c=Object(i.c)();return Object(h.jsxs)("div",{className:b.a.userBlock,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(u.b,{to:"".concat(d.a.PROFILE,"/").concat(t.id),children:Object(h.jsx)("img",{className:b.a.userPhoto,src:null!==t.photos.small?t.photos.small:j.a,alt:"".concat(t.name," photo")})})}),t.followed?Object(h.jsx)("div",{className:b.a.user__btn,onClick:function(){return e=t.id,void c(Object(m.c)(e));var e},children:Object(h.jsx)("button",{disabled:s.some((function(e){return e===t.id})),children:"Unfollow"})}):Object(h.jsx)("div",{className:b.a.user__btn_unFollow,onClick:function(){return e=t.id,void c(Object(m.a)(e));var e},children:Object(h.jsx)("button",{disabled:s.some((function(e){return e===t.id})),children:"Follow"})})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:b.a.userInfo,children:[Object(h.jsx)(u.b,{to:"".concat(d.a.PROFILE,"/").concat(t.id),children:Object(h.jsxs)("div",{className:b.a.userName,children:["User name : ",Object(h.jsx)("span",{className:b.a.user__text,children:t.name})]})}),Object(h.jsxs)("div",{className:b.a.userStatus,children:["User status :",Object(h.jsx)("span",{className:b.a.user__text,children:t.status?t.status.slice(0,50):" empty"})]})]})})]})},f=s(334),x=s(326),p=s.n(x),g=s(244),v=s.n(g),F=s(24),k=function(e){return{}},U=r.a.memo((function(e){var t=e.onFilterChanged,s=Object(i.d)(F.o);return Object(h.jsx)("div",{className:p.a.search,children:Object(h.jsx)(f.c,{enableReinitialize:!0,initialValues:{term:s.term,friend:String(s.friend)},validate:k,onSubmit:function(e,s){var c=s.setSubmitting,r={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(r),c(!1)},children:function(e){var t=e.isSubmitting;return Object(h.jsxs)(f.b,{className:p.a.searchForm,children:[Object(h.jsxs)("div",{className:p.a.searchForm__block,children:[Object(h.jsx)(f.a,{className:p.a.searchForm__item__input,type:"text",name:"term",placeholder:"Write user name \ud83d\udd0e"}),Object(h.jsxs)(f.a,{className:p.a.searchForm__item__select,name:"friend",as:"select",children:[Object(h.jsx)("option",{value:"null",children:"All"}),Object(h.jsx)("option",{value:"true",children:"Only followed"}),Object(h.jsx)("option",{value:"false",children:"Only unfollowed"})]})]}),Object(h.jsx)("div",{className:v.a.form__btn,children:Object(h.jsx)("button",{type:"submit",disabled:t,children:"Find"})})]})}})})})),N=s(11),w=s(4),S=s(34),P=function(){var e=Object(i.c)(),t=Object(w.g)(),s=Object(u.c)(),r=Object(_.a)(s,1)[0],n=r.get("page"),l=r.get("term"),b=r.get("friend"),j=Object(i.d)(N.e),d=Object(i.d)(N.a),f=Object(i.d)(N.d),x=Object(i.d)(N.g),p=Object(i.d)(N.f),g=Object(i.d)(N.b);return Object(c.useEffect)((function(){var t=d,s=x;switch(n&&(t=Number(n)),l&&(s=Object(o.a)(Object(o.a)({},s),{},{term:l})),b){case"null":s=Object(o.a)(Object(o.a)({},s),{},{friend:null});break;case"true":s=Object(o.a)(Object(o.a)({},s),{},{friend:!0});break;case"false":s=Object(o.a)(Object(o.a)({},s),{},{friend:!1})}e(Object(m.b)(t,f,s))}),[]),Object(c.useEffect)((function(){var e={};l&&(e.term=l),1!==d&&(e.page=String(d)),null!==b&&(e.friends=String(b));var s="?term=".concat(x.term,"&friend=").concat(x.friend,"&page=").concat(d);t(s)}),[x,d]),Object(h.jsxs)("div",{className:a.a.users,children:[Object(h.jsx)(U,{onFilterChanged:function(t){e(Object(m.b)(1,f,t))}}),Object(h.jsx)("div",{className:a.a.searchResult,children:p.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(O,{user:e,followingInProgress:g})},e.id)}))}),Object(h.jsx)(S.c,{totalItemsCount:j,pageSize:f,currentPage:d,onPageChanged:function(t){e(Object(m.b)(t,f,x))}})]})};t.default=function(){var e=Object(i.d)(F.h);return Object(h.jsxs)("section",{className:a.a.page,children:[e?Object(h.jsx)(S.d,{}):null,Object(h.jsx)(P,{})]})}}}]);
//# sourceMappingURL=7.a87a73ec.chunk.js.map