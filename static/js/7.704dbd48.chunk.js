(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[7],{245:function(e,t,s){e.exports={login__block:"Login_login__block__2h76V",login__title:"Login_login__title__3yyRU",input__form:"Login_input__form__dPp6f",checkbox__form:"Login_checkbox__form__3rk2n",form__btn:"Login_form__btn__cQeTw"}},268:function(e,t,s){e.exports={page:"Users_page__n11Z0",users:"Users_users__K2iz2",searchResult:"Users_searchResult__3ThpB"}},325:function(e,t,s){e.exports={userBlock:"User_userBlock__ZXH-z",userPhoto:"User_userPhoto__3oRhX",user__btn:"User_user__btn__3yr8R",user__btn_unFollow:"User_user__btn_unFollow__qM96s",userInfo:"User_userInfo__2kJLk",user__text:"User_user__text__4wlZw"}},329:function(e,t,s){e.exports={search:"UsersSearchForm_search__1ZjOY",searchForm:"UsersSearchForm_searchForm__1ISU8",searchForm__block:"UsersSearchForm_searchForm__block__2GvvU",searchForm__item__input:"UsersSearchForm_searchForm__item__input__3JP42",searchForm__item__select:"UsersSearchForm_searchForm__item__select__1VpsQ",form__btn:"UsersSearchForm_form__btn__1sDFc"}},342:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s.n(c),n=s(268),a=s.n(n),i=s(23),o=s(3),_=s(20),l=s(69),b=s(325),u=s.n(b),j=s(21),d=s(91),m=s(10),h=s(0),O=function(e){var t=e.user,s=e.followingInProgress,c=Object(i.c)();return Object(h.jsxs)("div",{className:u.a.userBlock,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(j.b,{to:"".concat(m.a.PROFILE,"/").concat(t.id),children:Object(h.jsx)("img",{className:u.a.userPhoto,src:null!==t.photos.small?t.photos.small:d.a,alt:"".concat(t.name," photo")})})}),t.followed?Object(h.jsx)("div",{className:u.a.user__btn,onClick:function(){return e=t.id,void c(Object(l.c)(e));var e},children:Object(h.jsx)("button",{disabled:s.some((function(e){return e===t.id})),children:"Unfollow"})}):Object(h.jsx)("div",{className:u.a.user__btn_unFollow,onClick:function(){return e=t.id,void c(Object(l.a)(e));var e},children:Object(h.jsx)("button",{disabled:s.some((function(e){return e===t.id})),children:"Follow"})})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:u.a.userInfo,children:[Object(h.jsx)(j.b,{to:"".concat(m.a.PROFILE,"/").concat(t.id),children:Object(h.jsxs)("div",{className:u.a.userName,children:["User name : ",Object(h.jsx)("span",{className:u.a.user__text,children:t.name})]})}),Object(h.jsxs)("div",{className:u.a.userStatus,children:["User status :",Object(h.jsx)("span",{className:u.a.user__text,children:t.status?t.status.slice(0,50):" empty"})]})]})})]})},f=s(337),x=s(329),p=s.n(x),g=s(245),v=s.n(g),F=s(38),k=function(e){return{}},U=r.a.memo((function(e){var t=e.onFilterChanged,s=Object(i.d)(F.l);return Object(h.jsx)("div",{className:p.a.search,children:Object(h.jsx)(f.c,{enableReinitialize:!0,initialValues:{term:s.term,friend:String(s.friend)},validate:k,onSubmit:function(e,s){var c=s.setSubmitting,r={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(r),c(!1)},children:function(e){var t=e.isSubmitting;return Object(h.jsxs)(f.b,{className:p.a.searchForm,children:[Object(h.jsxs)("div",{className:p.a.searchForm__block,children:[Object(h.jsx)(f.a,{className:p.a.searchForm__item__input,type:"text",name:"term",placeholder:"Write user name \ud83d\udd0e"}),Object(h.jsxs)(f.a,{className:p.a.searchForm__item__select,name:"friend",as:"select",children:[Object(h.jsx)("option",{value:"null",children:"All"}),Object(h.jsx)("option",{value:"true",children:"Only followed"}),Object(h.jsx)("option",{value:"false",children:"Only unfollowed"})]})]}),Object(h.jsx)("div",{className:v.a.form__btn,children:Object(h.jsx)("button",{type:"submit",disabled:t,children:"Find"})})]})}})})})),N=s(11),w=s(4),S=s(35),P=function(){var e=Object(i.c)(),t=Object(w.g)(),s=Object(j.c)(),r=Object(_.a)(s,2),n=r[0],b=(r[1],n.get("page")),u=n.get("term"),d=n.get("friend"),m=Object(i.d)(N.e),f=Object(i.d)(N.a),x=Object(i.d)(N.d),p=Object(i.d)(N.g),g=Object(i.d)(N.f),v=Object(i.d)(N.b);return Object(c.useEffect)((function(){var t=f,s=p;switch(b&&(t=Number(b)),u&&(s=Object(o.a)(Object(o.a)({},s),{},{term:u})),d){case"null":s=Object(o.a)(Object(o.a)({},s),{},{friend:null});break;case"true":s=Object(o.a)(Object(o.a)({},s),{},{friend:!0});break;case"false":s=Object(o.a)(Object(o.a)({},s),{},{friend:!1})}e(Object(l.b)(t,x,s))}),[]),Object(c.useEffect)((function(){var e={};u&&(e.term=u),1!==f&&(e.page=String(f)),null!==d&&(e.friends=String(d));var s="?term=".concat(p.term,"&friend=").concat(p.friend,"&page=").concat(f);t(s)}),[p,f]),Object(h.jsxs)("div",{className:a.a.users,children:[Object(h.jsx)(U,{onFilterChanged:function(t){e(Object(l.b)(1,x,t))}}),Object(h.jsx)("div",{className:a.a.searchResult,children:g.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(O,{user:e,followingInProgress:v})},e.id)}))}),Object(h.jsx)(S.c,{totalItemsCount:m,pageSize:x,currentPage:f,onPageChanged:function(t){e(Object(l.b)(t,x,p))}})]})};t.default=function(){var e=Object(i.d)(F.e);return Object(h.jsxs)("section",{className:a.a.page,children:[e?Object(h.jsx)(S.d,{}):null,Object(h.jsx)(P,{})]})}}}]);
//# sourceMappingURL=7.704dbd48.chunk.js.map