{"version":3,"sources":["enums/index.ts","selectors/usersSelectors/usersSelectors.ts","components/Header/Header.module.scss","constants/index.ts","common/Paginator/Paginator.module.scss","Api/enums/index.ts","redux/AppReducer.ts","redux/reduxStore.ts","components/PageNotFound/PageNotFound.tsx","components/Navbar/Navbar.tsx","assets/images/contacts/phone.svg","assets/images/contacts/operator_mts.svg","assets/images/contacts/mail.svg","components/Footer/Footer.tsx","assets/images/header/logo.png","components/Header/Header.tsx","assets/images/header/exit.png","assets/images/login/login.png","App.tsx","index.tsx","components/Footer/Footer.module.scss","redux/authReducer.ts","common/Loading/Loading.tsx","common/Clock/Clock.tsx","common/Paginator/Paginator.tsx","selectors/authSelectors/authSelectors.ts","selectors/dialogSelectors/dialogSelectors.ts","selectors/newsSelectors/newsSelectors.ts","selectors/profileSelectors/profileSelectors.ts","selectors/chatSelectors/chatSelectors.ts","utils/validators/validators.tsx","utils/objectsHellper/objectsHellper.ts","App.module.scss","components/PageNotFound/PageNotFound.module.scss","common/Loading/Loading.module.scss","redux/profileReducer.ts","assets/images/preloader.gif","common/Preloader/Preloader.tsx","redux/messagesReducer.ts","redux/usersReducer.ts","Api/chatApi/chatApi.ts","Api/apiConfig/index.ts","Api/authApi/authApi.ts","Api/profileAPI/profileAPI.ts","Api/securityApi/securityApi.ts","Api/usersAPI/usersAPI.ts","redux/chatReducer.ts","redux/NewsReducer.tsx","components/Navbar/Navbar.module.scss","assets/images/user.png","common/Preloader/Preloader.module.scss"],"names":["PATH","getUsers","createSelector","state","usersPage","users","filter","user","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","getUsersFilter","module","exports","EMPTY_STRING","ZERO_VALUE","FIRST_ELEMENT_IN_ARRAY","ResultCodesEnum","UserReducerEnum","initialAppState","initialized","AppAction","type","SET_INITIALIZED","rootReducer","combineReducers","profilePage","profileReducer","messagesPage","messagesReducer","usersReducer","auth","authReducer","form","formReducer","app","action","chat","chatReducer","news","newsReducer","store","createStore","applyMiddleware","thunkMiddleware","window","PageNotFound","className","style","notFound__page","title","Navbar","nav","nav__block","item","navData","isActive","activeLink","to","PROFILE","nav__text","active","DIALOGS","USERS","CHAT","NEWS","Footer","footer","copyright__text","copyright__header","phoneBlock","phone","src","operator_mts","alt","href","mail","Header","dispatch","useDispatch","isAuth","useSelector","getAuthIsAuthSelector","login","getAuthDataLoginSelector","userAvatar","getProfilePageProfilePhotosLargeSelector","header","headerInformBlock","header__logo","logo","headerClock","header__loginBlock","login__item","location","useLocation","pathname","substring","login__information","login__avatarPhoto","avatarDefault","login__userName","login__exitBlock","onClick","logout","exitIcon","LOGIN","login__btn","login__image","DialogsContainer","React","lazy","ProfileContainer","UsersPage","Login","ChatPage","News","App","this","props","initializeApp","appContent","appContentWindow","path","MAIN_PAGE","element","PAGE_NOTE_FOUND","Component","AppContainer","connect","promise","getAuthUserData","Promise","all","then","MainApp","Suspense","fallback","ReactDOM","render","document","getElementById","AuthReducerEnum","initialState","data","userID","email","captchaUrl","SET_USER_DATA","payload","userId","GET_CAPTCHA_URL_SUCCESS","AuthActions","a","authApi","getAuth","MyData","resultCode","Success","id","password","rememberMe","captcha","loginData","Error","getCaptchaUrl","message","messages","length","stopSubmit","_error","securityApi","captchaData","url","Loading","styles","container","loader_three","get2DigitsString","num","Clock","useState","Date","date","setDate","useEffect","intervalID","setInterval","clearInterval","secondsStrings","getSeconds","minutesStrings","getMinutes","hoursStrings","getHours","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","DisplayNone","user__btn","DisplayBlock","page","map","selectedPage","pageNumber","getAuthAuthorizedUserIDSelector","getAuthCaptchaUrlSelector","getMessagesPageSelector","getNewsSelector","getProfilePageSelector","getProfilePageProfileSelector","profile","getProfilePageStatusSelector","status","photos","large","getChatStatusSelector","getChatMessagesSelector","required","value","maxLengthCreator","maxLength","updateObjectInArray","items","itemId","objPropName","newObjProps","m","ProfileReducerEnum","posts","likesCount","ADD_POST","newPost","getTime","newPostText","DELETED_POST","f","postId","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO","ProfileActions","addPost","deletePost","setUserProfile","setStatus","savePhotoSuccess","getUserProfile","profileAPI","getProfile","getProfileData","getUserStatus","getStatus","getStatusData","updateUserStatus","updateStatus","console","log","savePhoto","file","response","saveProfile","getState","saveProfileData","reject","Preloader","preloader","name","img","ADD_MESSAGE","newMessage","newMessageText","DELETED_MESSAGE","messageId","MessageActions","addMessage","deleteMessage","term","friend","FOLLOW","followed","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","count","TOGGLE_IS_FETCHING","SET_FILTER","TOGGLE_IS_FOLLOWING_IN_PROGRESS","UserActions","totalCount","requestUsers","usersAPI","getUsersData","followUnfollowFlow","apiMethod","actionCreator","follow","bind","unFollow","unfollow","ws","instance","axios","create","withCredentials","baseURL","process","headers","get","res","endpoint","post","delete","subscribers","notifySubscribersAboutStatus","forEach","subscriber","closeHandler","setTimeout","createChanel","messageHandler","e","newMessages","JSON","parse","openHandler","errorHandler","cleanUp","removeEventListener","close","WebSocket","addEventListener","chatApi","start","stop","subscribe","eventName","callback","unSubscribe","sendMessage","send","put","photoFile","formData","FormData","append","ChatReducerEnum","MESSAGES_RECEIVED","v1","index","array","STATUS_CHANGED","chatActions","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","startMessagesListening","stopMessagesListening","NewsReducerEnum","image","text","images","imageForBackground","ADD_NEWS","newsItem","round","random","newTitle","CHANGE_NEWS_TEXT","CHANGE_NEWS_TITLE","DELETE_NEWS","NewsActions","addNews","changeNewsText","changeNewsTitle","deleteNews"],"mappings":"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","file":"static/js/main.b5c94582.chunk.js","sourcesContent":["export enum PATH {\r\n    PROFILE = '/profile',\r\n    DIALOGS = '/dialogs',\r\n    USERS = '/users',\r\n    NEWS = '/news',\r\n    LOGIN = '/login',\r\n    CHAT = '/chat',\r\n    PAGE_NOTE_FOUND = '/*',\r\n    MAIN_PAGE = '/',\r\n}","import {AppStateType} from \"../../redux/reduxStore\";\r\nimport {createSelector} from \"reselect\";\r\nimport {FilterType, UserType} from \"../../redux/usersReducer\";\r\n\r\nexport const getUsersSelector = (state: AppStateType): UserType[] => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users: UserType[]): Array<UserType> => {\r\n    return users.filter(user => true)\r\n})\r\n\r\nexport const getPageSize = (state: AppStateType): number => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType): number => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType): number => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType): boolean => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType): Array<string> => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getUsersFilter = (state: AppStateType): FilterType => {\r\n    return state.usersPage.filter\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1Aq29\",\"headerInformBlock\":\"Header_headerInformBlock__2fJje\",\"header__logo\":\"Header_header__logo__3Yoxv\",\"headerClock\":\"Header_headerClock__3l8gf\",\"header__loginBlock\":\"Header_header__loginBlock__1ushe\",\"login__item\":\"Header_login__item__11RPQ\",\"location\":\"Header_location__30mbO\",\"login__information\":\"Header_login__information__10eeT\",\"login__avatarPhoto\":\"Header_login__avatarPhoto__Ghwe_\",\"login__userName\":\"Header_login__userName__1i_xZ\",\"login__exitBlock\":\"Header_login__exitBlock__2TCc1\",\"exitIcon\":\"Header_exitIcon__3OjQ2\",\"login__btn\":\"Header_login__btn__X4mmV\",\"login__image\":\"Header_login__image__25hmT\"};","export const EMPTY_STRING = '';\r\nexport const ZERO_VALUE = 0;\r\n\r\nexport const FIRST_ELEMENT_IN_ARRAY = 0;\r\nexport const SECOND_ELEMENT_IN_ARRAY = 1;\r\nexport const THIRD_ELEMENT_IN_ARRAY = 2;\r\nexport const FOURTH_ELEMENT_IN_ARRAY = 3;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__yuyp3\",\"pageNumber\":\"Paginator_pageNumber__fAi3c\",\"selectedPage\":\"Paginator_selectedPage__32d_P\",\"DisplayNone\":\"Paginator_DisplayNone__2m9q_\",\"user__btn\":\"Paginator_user__btn__gYFLt\",\"DisplayBlock\":\"Paginator_DisplayBlock__2HRth\"};","export enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1,\r\n    CaptchaIsRequired = 10,\r\n}\r\n","import {getAuthUserData} from \"./authReducer\";\r\nimport {InferActionTypes} from \"./reduxStore\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nexport enum UserReducerEnum {\r\n    SET_INITIALIZED = \"SOCIAL_NETWORK/APP/SET-INITIALIZED\",\r\n}\r\n\r\nconst initialAppState = {\r\n    initialized: false\r\n}\r\n\r\nexport const appReducer = (state: initialStateAppType = initialAppState, action: ActionAppReducerType): initialStateAppType => {\r\n    switch (action.type) {\r\n        case UserReducerEnum.SET_INITIALIZED : {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst AppAction = {\r\n    initializedSuccess : () => {return {type: UserReducerEnum.SET_INITIALIZED} as const}\r\n}\r\n\r\nexport const initializeApp = () => (dispatch: Dispatch<any>) => {\r\n    const promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(AppAction.initializedSuccess())\r\n        })\r\n}\r\n\r\n//Types======================================\r\nexport type ActionAppReducerType = InferActionTypes<typeof AppAction>\r\n\r\nexport type initialStateAppType = typeof initialAppState","import {Action, applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport {messagesReducer} from \"./messagesReducer\";\r\nimport {usersReducer} from \"./usersReducer\";\r\nimport {authReducer} from \"./authReducer\";\r\nimport {appReducer} from \"./AppReducer\";\r\nimport {chatReducer} from \"./chatReducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\"\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport {newsReducer} from \"./NewsReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    chat: chatReducer,\r\n    news: newsReducer,\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\nexport type PropertiesTypes<T> = T extends { [key: string]: infer U } ? U : never\r\n\r\nexport type InferActionTypes<T extends { [key: string]: (...args: any[]) => any }> = ReturnType<PropertiesTypes<T>>\r\n\r\nexport type BaseThunkType<A extends Action, RT = Promise<void>> = ThunkAction<RT, AppStateType, unknown, A>\r\n\r\n//@ts-ignore\r\nwindow.store = store","import React from 'react';\r\nimport style from './PageNotFound.module.scss'\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\n\r\nconst PageNotFound = (): ReturnComponentType => {\r\n    return (\r\n        <section className={style.notFound__page}>\r\n            <h1 className={style.title}>\r\n                404. Page not found\r\n            </h1>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PageNotFound\r\n","import React from 'react';\r\nimport style from \"./Navbar.module.scss\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {PATH} from \"../../enums\";\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\nimport {EMPTY_STRING} from \"../../constants\";\r\n\r\nconst Navbar = (): ReturnComponentType => {\r\n    return (\r\n        <nav className={style.nav}>\r\n            <div className={style.nav__block}>\r\n\r\n                <div className={style.item}>\r\n                    <NavLink className={(navData) => navData.isActive ? style.activeLink : EMPTY_STRING} to={PATH.PROFILE}>\r\n                       <span className={style.nav__text}>\r\n                           Profile\r\n                       </span>\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <div className={`${style.item} ${style.active}`}>\r\n                    <NavLink className={(navData) => navData.isActive ? style.activeLink : EMPTY_STRING} to={PATH.DIALOGS}>\r\n                        <span className={style.nav__text}>\r\n                        Dialogs\r\n                        </span>\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <div className={`${style.item} ${style.active}`}>\r\n                    <NavLink className={(navData) => navData.isActive ? style.activeLink : EMPTY_STRING} to={PATH.USERS}>\r\n                        <span className={style.nav__text}>\r\n                        Users\r\n                         </span>\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <div className={style.item}>\r\n                    <NavLink className={(navData) => navData.isActive ? style.activeLink : EMPTY_STRING} to={PATH.CHAT}>\r\n                        <span className={style.nav__text}>\r\n                        Chat\r\n                        </span>\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <div className={style.item}>\r\n                    <NavLink className={(navData) => navData.isActive ? style.activeLink : EMPTY_STRING} to={PATH.NEWS}>\r\n                        <span className={style.nav__text}>\r\n                        News\r\n                        </span>\r\n                    </NavLink>\r\n                </div>\r\n\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar","export default __webpack_public_path__ + \"static/media/phone.efd4d2f0.svg\";","export default __webpack_public_path__ + \"static/media/operator_mts.43e65996.svg\";","export default __webpack_public_path__ + \"static/media/mail.9198e6b0.svg\";","import React from 'react';\r\nimport style from \"./Footer.module.scss\"\r\n\r\nimport phone from '../../assets/images/contacts/phone.svg'\r\nimport operator_mts from '../../assets/images/contacts/operator_mts.svg'\r\nimport mail from '../../assets/images/contacts/mail.svg'\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\n\r\nconst Footer = (): ReturnComponentType => {\r\n    return (\r\n        <div className={style.footer}>\r\n\r\n            <div className={style.copyright__text}>\r\n\r\n                <div>\r\n                    Copyright © 2022 Social network. All Rights Reserved\r\n                </div>\r\n\r\n                <div>\r\n                    Made with <span className={style.copyright__header}>&#10084;</span> <span>by Oleg Veremyev</span>\r\n                </div>\r\n\r\n                <div className={style.phoneBlock}>\r\n                    <div className={style.phone}>\r\n                        <img src={operator_mts} alt=\"operator mts\"/>\r\n                        <a href=\"tel:+375298413953\">\r\n                            +375 (29) 841-39-53\r\n                        </a>\r\n                    </div>\r\n\r\n                    <div className={style.phone}>\r\n                        <img src={phone} alt=\"phone\"/>\r\n                        <a href=\"tel:+375173582979\">\r\n                            +375 (17) 358-29-79\r\n                        </a>\r\n                    </div>\r\n\r\n                    <div className={style.phone}>\r\n                        <img src={mail} alt=\"mail\"/>\r\n                        <a href=\"mailto:olegweremey1994@mail.ru\">\r\n                            <span>olegweremey1994@mail.ru</span>\r\n                        </a>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","export default __webpack_public_path__ + \"static/media/logo.66a89a81.png\";","import React from 'react';\r\nimport style from \"./Header.module.scss\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {NavLink, useLocation} from \"react-router-dom\";\r\n\r\nimport logo from \"../../assets/images/header/logo.png\"\r\nimport exit from \"../../assets/images/header/exit.png\"\r\nimport avatarDefault from '../../assets/images/user.png'\r\nimport loginImage from \"../../assets/images/login/login.png\"\r\n\r\nimport {Nullable} from \"../../types/Nullable\";\r\nimport {logout} from \"../../redux/authReducer\";\r\nimport {Undetectable} from \"../../types/Undetectable\";\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\nimport {PATH} from \"../../enums\";\r\nimport {\r\n    getAuthDataLoginSelector,\r\n    getAuthIsAuthSelector,\r\n    getProfilePageProfilePhotosLargeSelector\r\n} from \"../../selectors\";\r\nimport {Clock} from \"../../common\";\r\n\r\nconst Header = (): ReturnComponentType => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const isAuth: boolean = useSelector(getAuthIsAuthSelector)\r\n    const login: Nullable<string> = useSelector(getAuthDataLoginSelector)\r\n    const userAvatar: Nullable<Undetectable<string>> = useSelector(getProfilePageProfilePhotosLargeSelector)\r\n\r\n    const logoutHandler = (): void => {\r\n        dispatch(logout())\r\n    }\r\n\r\n    const HeaderView = (): string => {\r\n        return useLocation().pathname.substring(1)\r\n    }\r\n\r\n    return (\r\n        <header className={style.header}>\r\n\r\n            <div className={style.headerInformBlock}>\r\n                <img\r\n                    className={style.header__logo}\r\n                    src={logo}\r\n                    alt='logo'\r\n                    title=\"image logo\"\r\n                />\r\n                <div className={style.headerClock}>\r\n                    <Clock/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={style.header__loginBlock}>\r\n                {\r\n                    isAuth\r\n                        ? (\r\n                            <div className={style.login__item}>\r\n                                <div className={style.location}>\r\n                                    {HeaderView()}\r\n                                </div>\r\n                                <div className={style.login__information}>\r\n                                    <img\r\n                                        className={style.login__avatarPhoto}\r\n                                        alt='avatar'\r\n                                        src={userAvatar ? userAvatar : avatarDefault}/>\r\n                                    <div className={style.login__userName}>\r\n                                        {login}\r\n                                    </div>\r\n                                    <div className={style.login__exitBlock}>\r\n                                        <img\r\n                                            onClick={logoutHandler}\r\n                                            className={style.exitIcon}\r\n                                            src={exit}\r\n                                            alt=\"exit\"\r\n                                            title=\"exit\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <NavLink to={PATH.LOGIN}>\r\n                                <div className={style.login__btn}>\r\n                                    <img\r\n                                        className={style.login__image}\r\n                                        src={loginImage}\r\n                                        alt=\"login\"\r\n                                        title=\"login\"\r\n                                    />\r\n                                </div>\r\n                            </NavLink>\r\n                        )\r\n                }\r\n\r\n            </div>\r\n\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAHHElEQVR4nO2ae3BU1R3HP+fuJtkNSUx4JYRoQWVkAJMOEysPCYJFido4Tk1LUTHQsaOgDP+0tVYeOlNLh5lSGhKiVZKFjiiMVm3aVEEeEZtNGhxITIniYCApBhA3EpLd7N69p39AMNnn3d27oTPdz193fud3vr9zfvdxXhcSJEiQIEGCBAkS/H8irmn03QfS6LMWgShCaNMRYgqS8UDaFY9LwFkQJxCyDWQ9VteH/GjBJaOaMPIJkFKww74YxHKkKAGZEqGCC8S7SG81ZbPfQwgZS3NGNgHVjaUIuRa41RA9wTE0+QLLZ78VvcRIUG2fgpDbQNwVpwh7MWkreXTO55FWjH8Cauw/BF4FrvML7nSS3NqKcu4cQlV1yUmzGW3cODzTp6GlpQ8t6kWKJ1h++2uRNC9+CZBSUGNfjxDrAwZ2OrHsP4DwuKOTT07CtWAh0mr1KRC/o+x7v9L7bVCiih4OKQU2e2WwzgMkt7RE3XkA4faQ3PpJgAL5S2xNFUip6+bGJwE7Gl8E8USwYuF0oXR3xxxGOX82SIl8ElvjC7o0Ym6FL7aGHyN5Jmi5ppHS0ICQMY1elwl9k5+jpuHhcBLGJqDaPgUpXgnlYu7oQLn4jSHh5KhRYTxEJTUf3RTKw9gECLmNb2dxATF3dhoaMgwZYNoWysG4BNjsD+kZ55Xei4aFVPp69bgtwtb4YLBCsyEtkVJga1yny1f1AnDmmakxhczd2H5VKzxyPVK+HWhoNOYJ2GFfjFHT23ggKWBn092BiqJOgKuWkoFavhyo5cslrje343RG38CRQJNlgcxRJ0BAlYAcATnbczfnlKrvQF9/9A2MPw/wUnOqrzGWBEwYvDYLLzsm/5Gl8i/Q1xfQv8h0nn3WQwDkZsT+6ZmQngTAXms9d5i+0lPFSop6h6/RsFHAhMarkypYytsBn4S1yccZLwbIzTCzqXhCAIXI2FSczYT0JLKFi3XJ/9Zb7U5fg9+tUGu5T8JLEiZG2igTGq/cUImnw8Sevh/AkIlKtnAB0Lzy5khlA7LwxjSOrErj9OnT5FzRDotkmq/J7wmQUBVN5wcxCy+2SeWUan/93/smCG7xNQVKQF6scQaTUOKtA+flJJyVllhlg9KtX3usryE+q0EuJ2FL3nZwOAB43j0tLknolhaed0/X6S3SfS3GzASDIAVXV2yHvWNZ5CyiS/uMNEUzRL9XU7jbWRSTRtyeAFWaWNO5AkZnDrN3eZIMixG5lvRbPPglQEBX1C26gipNPNbxNO+aisE6fO5xsN9vLhI1+yPXOu9r8E+Aws9iScJg5/coJTDKv4G2nkz0LmFC4QV29mSG9RuG5DNfk983wHwvdcD14bTctfitrLwo/PTUyqCdBzg+kMJ2RxaPZzn0NToIf3Jk0T4Q6ZmKbPO1GPYN8KKwomMVu8SDQTs/yK/PjedQX7jdnOAc7E9l7bnxUdQUB30tsawFzgxeq9LEsi9W6+o8gFsKSrvyeNmRFdHr4AWqHFmUdl6PR9+m71D6cZs/8jVGfS6g/o37pWSbFMhHOn+etFvem4PvHr0OpqYMsOy6b3g8rRtzkhkhht8TKTVUj8rLfdns7MmM4rG/yi7KZi31NRpzMFL9z8UIpS4WiZbU90OW5/cH3M+IhHsom+UXxJhvQNns94CPDdGKD0d57Pa9gQqMmQkKIalu+A1CvDloyuvqoqi+nultbYy5cIHvKpNCSsiqAoTFFLjQ6cW+cmPI+ke1Di6MGcMnM2bw4bx5dOUNXdLI9cGOyow9G6yx/92sqsU/2bWLBQcOoGjfTnmnpobeBE1ZfSOmmYHHdbXJgbvyi5D12/vbr15risL+hQt5fckSVLP5fcpm3ROsnrFTYZO2+qmKrepdH3wwrPN6cO8+g+z3PyGWl1Q8r0c2L1M0je/v28eqigoPmunJkL4RKYfj0TmfXxg9ZosUkT9YstuF67l2vE09SJcX6fKiNjlwrTuO/NoTuZ4QODIzq1hx28lQfnE5Hn+q8JHDhc3Nc4fawr0CsTL0FQBoLiys39r85/nh6sVlNbj1XzvnHS0oCHB2PTIcLSho1dN5iNdyWAi5+dgb+UdmztwXF/0QtOTnH9l87I0Cvf5x2w8QIMs/fm3R4blz/uCyWAw4Cw+Ny2KRB+fPL/99y+5Cgf9CLRgj8pPUQ/evuXPxSfeeGR1n/PbkjKBtcu75f9yQUrqnbvOhSOuO6G9yq0t+u2Fu64lffOfs15EvGgJwKnu083D+zRvL33lW198ggbgmP0oue3jLqltPdq0p/PTUTdaByIY4d5KJtsm5p09MHF+ZcZt304YNG2LaYLymv8o+XfziOCVJlmVddN438aueW9L7nZmjnAPJGU6XAnDRatH6rCnu3lRrz3/GZn7ak26p9aqKrbzuWb+trQQJEiRIkCBBggQJIuO/6rVnWIRcgRkAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport style from './App.module.scss';\r\nimport {HashRouter, Navigate, Route, Routes} from \"react-router-dom\";\r\nimport {connect, Provider} from \"react-redux\";\r\n\r\nimport {AppStateType, store} from \"./redux/reduxStore\";\r\nimport {initializeApp} from \"./redux/AppReducer\";\r\nimport PageNotFound from \"./components/PageNotFound/PageNotFound\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport Header from \"./components/Header/Header\";\r\nimport {PATH} from \"./enums\";\r\nimport {Loading, Preloader} from \"./common\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/MainWindow/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./components/MainWindow/Profile/ProfileContainer'))\r\nconst UsersPage = React.lazy(() => import('./components/MainWindow/Users/UsersPage'))\r\nconst Login = React.lazy(() => import('./components/Login/Login'))\r\nconst ChatPage = React.lazy(() => import('./pages/Chat/ChatPage'))\r\nconst News = React.lazy(() => import('./components/MainWindow/News/News'))\r\n\r\nclass App extends React.Component<AppContainerType, AppContainerType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <main className={style.appContent}>\r\n                <Header/>\r\n                <Navbar/>\r\n                <div className={style.appContentWindow}>\r\n                    <Routes>\r\n                        <Route path={PATH.MAIN_PAGE} element={<Navigate to={PATH.PROFILE}/>}/>\r\n\r\n                        <Route path={PATH.PROFILE} element={<ProfileContainer/>}>\r\n                            <Route path=\":userId\" element={<ProfileContainer/>}/>\r\n                        </Route>\r\n\r\n                        <Route path={PATH.DIALOGS} element={<DialogsContainer/>}>\r\n                            <Route path=\":userId\" element={<DialogsContainer/>}/>\r\n                        </Route>\r\n\r\n                        <Route path={PATH.USERS} element={<UsersPage/>}/>\r\n                        <Route path={PATH.NEWS} element={<News/>}/>\r\n                        <Route path={PATH.LOGIN} element={<Login/>}/>\r\n                        <Route path={PATH.CHAT} element={<ChatPage/>}/>\r\n                        <Route path={PATH.PAGE_NOTE_FOUND} element={<PageNotFound/>}/>\r\n                    </Routes>\r\n                </div>\r\n                <Footer/>\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nconst AppContainer = connect<mapStateToPropsType, mapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {\r\n    initializeApp,\r\n})(App)\r\n\r\nexport const MainApp = () => {\r\n    return (\r\n        <React.Suspense fallback={<Loading/>}>\r\n            <HashRouter>\r\n                <Provider store={store}>\r\n                    <AppContainer/>\r\n                </Provider>\r\n            </HashRouter>\r\n        </React.Suspense>\r\n    )\r\n}\r\n\r\n\r\n//Types=====================================================================\r\n\r\ntype mapStateToPropsType = {\r\n    initialized: boolean\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    initializeApp: () => void\r\n}\r\n\r\ntype AppContainerType = mapStateToPropsType & mapDispatchToPropsType\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport {MainApp} from './App';\r\n\r\nReactDOM.render(\r\n        <MainApp/>,\r\n    document.getElementById('root')\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3xxH8\",\"copyright__text\":\"Footer_copyright__text__3Vz85\",\"copyright__header\":\"Footer_copyright__header__3Nuvw\",\"phoneBlock\":\"Footer_phoneBlock__2hAgr\",\"phone\":\"Footer_phone__2zpJz\"};","import {FormAction, stopSubmit} from \"redux-form\";\r\nimport {BaseThunkType, InferActionTypes} from \"./reduxStore\";\r\nimport {Nullable} from \"../types/Nullable\";\r\nimport {ResultCodesEnum} from \"../Api/enums\";\r\nimport {authApi, securityApi} from \"../Api\";\r\n\r\nexport enum AuthReducerEnum {\r\n    SET_USER_DATA = \"SOCIAL_NETWORK/AUTH/SET-USER-DATA\",\r\n    GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\",\r\n}\r\n\r\nconst initialState = {\r\n    data: {} as dataType,\r\n    isFetching: true,\r\n    isAuth: false,\r\n    userID: null as Nullable<string>,\r\n    email: null as Nullable<string>,\r\n    login: null as Nullable<string>,\r\n    captchaUrl: null as Nullable<string>,\r\n}\r\n\r\nexport const authReducer = (state: initialAuthStateType = initialState, action: ActionAuthReducerType): initialAuthStateType => {\r\n    switch (action.type) {\r\n        case AuthReducerEnum.SET_USER_DATA : {\r\n            return {\r\n                ...state,\r\n                data: {\r\n                    ...state.data,\r\n                    email: action.payload.email,\r\n                    login: action.payload.login,\r\n                    userId: action.payload.userId,\r\n                },\r\n                userID: action.payload.userId,\r\n                isAuth: action.payload.isAuth,\r\n            }\r\n        }\r\n        case AuthReducerEnum.GET_CAPTCHA_URL_SUCCESS : {\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst AuthActions = {\r\n    setAuthUserData: (userId: Nullable<string>, email: Nullable<string>, login: Nullable<string>, isAuth: boolean) => {\r\n        return {type: AuthReducerEnum.SET_USER_DATA, payload: {userId, email, login, isAuth}} as const\r\n    },\r\n    getCaptchaUrlSuccess: (captchaUrl: string) => {\r\n        return {type: AuthReducerEnum.GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}} as const\r\n    },\r\n}\r\n\r\n//Thunk\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n    const MyData = await authApi.getAuth()\r\n    if (MyData.resultCode === ResultCodesEnum.Success) {\r\n        let {id, email, login} = MyData.data\r\n        dispatch(AuthActions.setAuthUserData(id, email, login, true))\r\n    }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch: any) => {\r\n    const loginData = await authApi.login(email, password, rememberMe, captcha)\r\n    if (loginData.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (loginData.resultCode === ResultCodesEnum.Error) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = loginData.messages.length > 0\r\n            ? loginData.messages[0]\r\n            : \"Some error\"\r\n        dispatch(stopSubmit(\"Login\", {_error: message}))\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n    const captchaData = await securityApi.getCaptchaUrl()\r\n    const captchaUrl = captchaData.url\r\n    dispatch(AuthActions.getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n    const logoutData = await authApi.logout()\r\n    if (logoutData.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(AuthActions.setAuthUserData(null, null, null, false))\r\n    }\r\n}\r\n\r\n\r\n//Types========================================\r\ntype ThunkType = BaseThunkType<ActionAuthReducerType | FormAction>\r\n\r\nexport type initialAuthStateType = typeof initialState\r\n\r\nexport type ActionAuthReducerType = InferActionTypes<typeof AuthActions>\r\n\r\ntype dataType = {\r\n    userId: Nullable<string>\r\n    email: Nullable<string>\r\n    login: Nullable<string>\r\n}","import React from 'react';\r\nimport styles from './Loading.module.scss';\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\n\r\nexport const Loading = (): ReturnComponentType => {\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.loader_three}>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\n\r\nconst get2DigitsString = (num: number) => num < 10 ? \"0\" + num : num\r\n\r\nexport const Clock: React.FC<PropsType> = (): ReturnComponentType => {\r\n\r\n    const [date, setDate] = useState(new Date())\r\n\r\n    useEffect(() => {\r\n        const intervalID = setInterval(() => {\r\n            setDate(new Date())\r\n        }, 1000)\r\n        return () => {\r\n            clearInterval(intervalID)\r\n        }\r\n    }, [])\r\n\r\n    const secondsStrings = get2DigitsString(date.getSeconds())\r\n\r\n    const minutesStrings = get2DigitsString(date.getMinutes())\r\n\r\n    const hoursStrings = get2DigitsString(date.getHours())\r\n\r\n    return (\r\n        <div>\r\n            <span>\r\n                {hoursStrings}\r\n            </span>\r\n            :\r\n            <span>\r\n                {minutesStrings}\r\n            </span>\r\n            :\r\n            <span>\r\n                {secondsStrings}\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\n//type\r\ntype PropsType = {}\r\n","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./Paginator.module.scss\"\r\nimport cn from 'classnames'\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\n\r\nexport const Paginator: React.FC<UsersPropsType> = ({\r\n                                                        totalItemsCount,\r\n                                                        pageSize,\r\n                                                        currentPage,\r\n                                                        onPageChanged,\r\n                                                        portionSize = 10\r\n                                                    }): ReturnComponentType => {\r\n\r\n    const pagesCount = (Math.ceil(totalItemsCount / pageSize))\r\n    const pages: number[] = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState<number>(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    useEffect(() => {\r\n        setPortionNumber(Math.ceil(currentPage / portionSize))\r\n    }, [currentPage])\r\n\r\n    return (\r\n        <div className={cn(styles.paginator)}>\r\n            <div  className={styles.DisplayNone}>\r\n                {\r\n                    portionNumber > 1\r\n                    && <div className={styles.user__btn} onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                        <button>\r\n                            &#10096;\r\n                        </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div  className={styles.DisplayBlock}>\r\n                {\r\n                    portionNumber > 1\r\n                    && <div className={styles.user__btn} onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                        <button>\r\n                            &#10096; &#10096; &#10096;\r\n                        </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div>\r\n                {\r\n                    pages\r\n                        .filter(page => (page >= leftPortionPageNumber) && (page <= rightPortionPageNumber))\r\n                        .map(page => {\r\n                            return (\r\n                                <span className={cn({[styles.selectedPage]: currentPage === page}, styles.pageNumber)}\r\n                                      key={page}\r\n                                      onClick={() => onPageChanged(page)}>\r\n                            {page}\r\n                        </span>\r\n                            )\r\n                        })\r\n                }\r\n            </div>\r\n            <div  className={styles.DisplayNone}>\r\n                {\r\n                    portionCount > portionNumber\r\n                    && <div className={styles.user__btn} onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                        <button>\r\n                            &#10097;\r\n                        </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div   className={styles.DisplayBlock}>\r\n                {\r\n                    portionCount > portionNumber\r\n                    && <div className={styles.user__btn} onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                        <button>\r\n                            &#10097; &#10097; &#10097;\r\n                        </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// types=========\r\n\r\ntype UsersPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionSize?: number\r\n}\r\n","import {AppStateType} from \"../../redux/reduxStore\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\n\r\nexport const getAuthIsAuthSelector = (state: AppStateType): boolean => {\r\n    return state.auth.isAuth\r\n}\r\n\r\nexport const getAuthAuthorizedUserIDSelector = (state: AppStateType): Nullable<string> => {\r\n    return state.auth.data.userId\r\n}\r\n\r\nexport const getAuthCaptchaUrlSelector = (state: AppStateType): Nullable<string> => {\r\n    return state.auth.captchaUrl\r\n}\r\n\r\nexport const getAuthDataLoginSelector = (state: AppStateType): Nullable<string> => {\r\n    return state.auth.data.login\r\n}","import {AppStateType} from \"../../redux/reduxStore\";\r\nimport {initialStateType} from \"../../redux/messagesReducer\";\r\n\r\nexport const getMessagesPageSelector = (state: AppStateType): initialStateType => {\r\n    return state.messagesPage\r\n}","import {AppStateType} from \"../../redux/reduxStore\";\r\nimport {NewsType} from \"../../redux/NewsReducer\";\r\n\r\n\r\nexport const getNewsSelector = (state: AppStateType): NewsType[] => {\r\n    return state.news.news\r\n}","import {AppStateType} from \"../../redux/reduxStore\";\r\nimport {initialStateProfileType, ProfileType} from \"../../redux/profileReducer\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\nimport {Undetectable} from \"../../types/Undetectable\";\r\n\r\nexport const getProfilePageSelector = (state: AppStateType): initialStateProfileType => {\r\n    return state.profilePage\r\n}\r\n\r\nexport const getProfilePageProfileSelector = (state: AppStateType): ProfileType => {\r\n    return state.profilePage.profile\r\n}\r\n\r\nexport const getProfilePageStatusSelector = (state: AppStateType): string => {\r\n    return state.profilePage.status\r\n}\r\n\r\nexport const getProfilePageProfilePhotosLargeSelector = (state: AppStateType): Nullable<Undetectable<string>> => {\r\n    return state.profilePage.profile?.photos.large\r\n}","import {AppStateType} from \"../../redux/reduxStore\";\r\nimport {ReadyStatusType} from \"../../Api/chatApi/types\";\r\nimport {ChatMessageType} from \"../../redux/chatReducer\";\r\n\r\nexport const getChatStatusSelector = (state: AppStateType): ReadyStatusType => {\r\n    return state.chat.status\r\n}\r\n\r\nexport const getChatMessagesSelector = (state: AppStateType): ChatMessageType[] => {\r\n    return state.chat.messages\r\n}","import React from 'react';\r\nimport {ReturnValidatorType} from \"./types\";\r\n\r\nexport const required = (value: string): ReturnValidatorType => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string): ReturnValidatorType => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","import {newObjPropsType} from \"./types\";\r\n\r\nexport const updateObjectInArray = (items: any[], itemId: string, objPropName: string, newObjProps: newObjPropsType) => {\r\n    return items\r\n        .map(m => {\r\n            if (m[objPropName] === itemId) {\r\n                return {...m, ...newObjProps}\r\n            }\r\n            return m\r\n        })\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appContent\":\"App_appContent__3tGLO\",\"appContentWindow\":\"App_appContentWindow__3DIIF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notFound__page\":\"PageNotFound_notFound__page__1MF-v\",\"title\":\"PageNotFound_title__3ENlZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loading_container__2Teyl\",\"loader_three\":\"Loading_loader_three__g4nCL\",\"rotation1\":\"Loading_rotation1__3caXo\",\"rotation2\":\"Loading_rotation2__OziOb\"};","import {Dispatch} from \"redux\";\r\nimport {BaseThunkType, InferActionTypes} from \"./reduxStore\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {Nullable} from \"../types/Nullable\";\r\nimport {profileAPI} from \"../Api\";\r\nimport {ResultCodesEnum} from \"../Api/enums\";\r\nimport {FIRST_ELEMENT_IN_ARRAY} from \"../constants\";\r\n\r\nexport enum ProfileReducerEnum {\r\n    ADD_POST = \"SOCIAL_NETWORK/PROFILE/ADD_POST\",\r\n    DELETED_POST = \"SOCIAL_NETWORK/PROFILE/DELETED_POST\",\r\n    SET_USER_PROFILE = \"SOCIAL_NETWORK/PROFILE/SET-USER-PROFILE\",\r\n    SET_STATUS = \"SOCIAL_NETWORK/PROFILE/SET-STATUS\",\r\n    SAVE_PHOTO = \"SOCIAL_NETWORK/PROFILE/SAVE_PHOTO_SUCCESS\",\r\n}\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {message: \"Hi all. My name is Oleg and. I am a front-end developer\", likesCount: 12, id: 1},\r\n        {message: \"Dinosaurs are great. I love them so much\", likesCount: 17, id: 2}\r\n    ] as Array<PostType>,\r\n    profile: null as Nullable<ProfileType>,\r\n    status: \"\",\r\n}\r\n\r\nexport const profileReducer = (state = initialState, action: ActionProfileTypes): initialStateProfileType => {\r\n\r\n    switch (action.type) {\r\n        case ProfileReducerEnum.ADD_POST: {\r\n            let newPost: PostType = {\r\n                id: new Date().getTime(),\r\n                message: action.payload.newPostText,\r\n                likesCount: 0,\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [newPost, ...state.posts],\r\n            }\r\n        }\r\n        case ProfileReducerEnum.DELETED_POST: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(f => f.id !== action.payload.postId),\r\n            }\r\n        }\r\n        case ProfileReducerEnum.SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.payload.profile\r\n            }\r\n        }\r\n        case ProfileReducerEnum.SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.payload.status\r\n            }\r\n        }\r\n        case ProfileReducerEnum.SAVE_PHOTO: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.payload.photos} as ProfileType\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const ProfileActions = {\r\n    addPost: (newPostText: string) => {\r\n        return {type: ProfileReducerEnum.ADD_POST, payload: {newPostText}} as const\r\n    },\r\n    deletePost: (postId: number) => {\r\n        return {type: ProfileReducerEnum.DELETED_POST, payload: {postId}} as const\r\n    },\r\n    setUserProfile: (profile: ProfileType) => {\r\n        return {type: ProfileReducerEnum.SET_USER_PROFILE, payload: {profile}} as const\r\n    },\r\n    setStatus: (status: string) => {\r\n        return {type: ProfileReducerEnum.SET_STATUS, payload: {status}} as const\r\n    },\r\n    savePhotoSuccess: (photos: PhotosType) => {\r\n        return {type: ProfileReducerEnum.SAVE_PHOTO, payload: {photos}} as const\r\n    },\r\n}\r\n\r\n// thunks=========================================================\r\nexport const getUserProfile = (userId: string): ThunkType => async (dispatch) => {\r\n    const getProfileData = await profileAPI.getProfile(userId)\r\n    dispatch(ProfileActions.setUserProfile(getProfileData))\r\n}\r\n\r\nexport const getUserStatus = (userId: string): ThunkType => async (dispatch) => {\r\n    const getStatusData = await profileAPI.getStatus(userId)\r\n    dispatch(ProfileActions.setStatus(getStatusData))\r\n}\r\n\r\nexport const updateUserStatus = (status: string): ThunkType => async (dispatch) => {\r\n    try {\r\n        const updateStatusData = await profileAPI.updateStatus(status)\r\n        if (updateStatusData.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(ProfileActions.setStatus(status))\r\n        } else {\r\n            console.log('resultCode < 0')\r\n        }\r\n    } catch (error) {\r\n        console.log('error')\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file: File) => (dispatch: Dispatch<ActionProfileTypes>) => {\r\n    profileAPI.savePhoto(file)\r\n        .then(response => {\r\n            if (response.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(ProfileActions.savePhotoSuccess(response.data.photos))\r\n            }\r\n        })\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType): ThunkType => async (dispatch: Dispatch<any>, getState: any) => {\r\n    const userId = getState().auth.userID\r\n    const saveProfileData = await profileAPI.saveProfile(profile)\r\n\r\n    if (saveProfileData.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(getUserProfile(userId))\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: saveProfileData.messages[FIRST_ELEMENT_IN_ARRAY]}))\r\n        return Promise.reject(saveProfileData.messages[FIRST_ELEMENT_IN_ARRAY])\r\n    }\r\n}\r\n\r\n//Types=========================================================\r\ntype ThunkType = BaseThunkType<ActionProfileTypes | ReturnType<typeof stopSubmit>>\r\n\r\nexport type initialStateProfileType = typeof initialState\r\n\r\nexport type ActionProfileTypes = InferActionTypes<typeof ProfileActions>\r\n\r\nexport type PostType = {\r\n    message: string\r\n    likesCount: number\r\n    id: number\r\n}\r\n\r\nexport type ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\n\r\nexport type ProfileType = {\r\n    aboutMe: string\r\n    contacts: ContactsType\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    userId: number\r\n    photos: PhotosType\r\n} | null\r\n\r\nexport type PhotosType = {\r\n    small: string\r\n    large: string\r\n}","export default __webpack_public_path__ + \"static/media/preloader.1952935e.gif\";","import React from 'react';\r\nimport style from \"./Preloader.module.scss\";\r\nimport preloader from \"../../assets/images/preloader.gif\";\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\n\r\nexport const Preloader = (): ReturnComponentType => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} className={style.preloader} alt=\"preloader\"/>\r\n        </div>\r\n    )\r\n}\r\n","import {InferActionTypes} from \"./reduxStore\";\r\n\r\nexport enum UserReducerEnum {\r\n    ADD_MESSAGE = \"SOCIAL_NETWORK/MESSAGES/ADD_MESSAGE\",\r\n    DELETED_MESSAGE = \"SOCIAL_NETWORK/MESSAGES/DELETED_MESSAGE\",\r\n}\r\n\r\nconst initialState = {\r\n    users: [\r\n        {\r\n            name: \"Oleg\",\r\n            id: 1,\r\n            img: \"https://avatars.mds.yandex.net/get-zen_doc/3986249/pub_607ecd1d13c71c1ca8a34192_607ee065330a4f14d551104b/scale_1200\"\r\n        },\r\n        {\r\n            name: \"Diana\",\r\n            id: 2,\r\n            img: \"https://avatars.mds.yandex.net/i?id=64b380ea3aa0d80cad94cb1a24a3b3f5-4233014-images-thumbs&ref=rim&n=33&w=150&h=150\"\r\n        },\r\n        {name: \"Fat cat\", id: 3, img: \"https://data.whicdn.com/images/310252363/original.jpg\"},\r\n        {\r\n            name: \"Dmitriy\",\r\n            id: 4,\r\n            img: \"https://i.pinimg.com/originals/b7/44/46/b744464dd3d970ad96745be8de69d755.jpg\"\r\n        },\r\n        {\r\n            name: \"Ella\",\r\n            id: 5,\r\n            img: \"https://st.depositphotos.com/1023162/5099/i/950/depositphotos_50991807-stock-photo-sexy-woman-in-fashion-sunglasses.jpg\"\r\n        },\r\n        {\r\n            name: \"Marat\",\r\n            id: 6,\r\n            img: \"https://avatars.mds.yandex.net/i?id=55d09aa1629f72a149098b2c3127e039-5222024-images-thumbs&ref=rim&n=33&w=150&h=150\"\r\n        },\r\n    ] as Array<UserType>,\r\n    messages: [\r\n        {\r\n            message: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Atque deleniti, eos hic ipsam iusto officiis? Ea magnam quam quasi temporibus!\",\r\n            id: 1\r\n        },\r\n        {message: \"Lorem ipsum dolor sit amet, consectetur adipisicing\", id: 2},\r\n        {message: \"Atque deleniti, eos hic ipsam iusto officiis? Ea magnam quam quasi temporibus!\", id: 3},\r\n        {message: \"Lorem ipsum dolor sit amet? Ea magnam quam quasi temporibus!\", id: 4},\r\n        {message: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Temporibus!\", id: 5},\r\n        {message: \"Consectetur adipisicing elit. Atque deleniti, eos temporibus!\", id: 6},\r\n    ] as Array<MessageType>,\r\n}\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nexport const messagesReducer = (state: initialStateType = initialState, action: ActionMessageTypes): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case UserReducerEnum.ADD_MESSAGE: {\r\n            let newMessage: MessageType = {\r\n                id: new Date().getTime(),\r\n                message: action.payload.newMessageText,\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage],\r\n            }\r\n        }\r\n        case UserReducerEnum.DELETED_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                messages: state.messages.filter(f => f.id !== action.payload.messageId),\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const MessageActions = {\r\n    addMessage: (newMessageText: string) => {\r\n        return {type: UserReducerEnum.ADD_MESSAGE, payload: {newMessageText}} as const\r\n    },\r\n    deleteMessage: (messageId: number) => {\r\n        return {type: UserReducerEnum.DELETED_MESSAGE, payload: {messageId}} as const\r\n    },\r\n}\r\n\r\n//Types ======================================\r\nexport type ActionMessageTypes = InferActionTypes<typeof MessageActions>\r\n\r\nexport type UserType = {\r\n    name: string\r\n    id: number\r\n    img: string\r\n}\r\n\r\nexport type MessageType = {\r\n    message: string\r\n    id: number\r\n}","\r\nimport {BaseThunkType, InferActionTypes} from \"./reduxStore\";\r\nimport {Dispatch} from \"redux\";\r\nimport {Nullable} from \"../types/Nullable\";\r\nimport {usersAPI} from \"../Api\";\r\nimport {ResultCodesEnum} from \"../Api/enums\";\r\nimport {APIResponseType} from \"../Api/types\";\r\nimport {EMPTY_STRING, ZERO_VALUE} from \"../constants\";\r\nimport {updateObjectInArray} from \"../utils\";\r\n\r\nexport enum UserReducerEnum {\r\n    FOLLOW = \"SOCIAL_NETWORK/USERS/FOLLOW\",\r\n    UNFOLLOW = \"SOCIAL_NETWORK/USERS/UNFOLLOW\",\r\n    SET_USERS = \"SOCIAL_NETWORK/USERS/SET_USERS\",\r\n    SET_CURRENT_PAGE = \"SOCIAL_NETWORK/USERS/SET-CURRENT-PAGE\",\r\n    SET_TOTAL_USERS_COUNT = \"SOCIAL_NETWORK/USERS/SET-TOTAL-USERS-COUNT\",\r\n    TOGGLE_IS_FETCHING = \"SOCIAL_NETWORK/USERS/TOGGLE-IS-FETCHING\",\r\n    TOGGLE_IS_FOLLOWING_IN_PROGRESS = \"SOCIAL_NETWORK/USERS/TOGGLE-IS-FOLLOWING-IN-PROGRESS\",\r\n    SET_FILTER = \"SOCIAL_NETWORK/USERS/SET_FILTER\",\r\n}\r\n\r\nconst initialState: initialStateType = {\r\n    users: [] as UserType[],\r\n    pageSize: 9,\r\n    totalUsersCount: ZERO_VALUE,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [] as string[],\r\n    filter: {\r\n        term: EMPTY_STRING,\r\n        friend: null as Nullable<boolean>,\r\n    },\r\n}\r\n\r\nexport const usersReducer = (state: initialStateType = initialState, action: ActionUsersTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case UserReducerEnum.FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.payload.userID, \"id\", {followed: true})\r\n            }\r\n        }\r\n        case UserReducerEnum.UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.payload.userID, \"id\", {followed: false})\r\n            }\r\n        }\r\n        case UserReducerEnum.SET_USERS: {\r\n            return {\r\n                ...state, users: [...action.payload.users]\r\n            }\r\n        }\r\n        case UserReducerEnum.SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state, currentPage: action.payload.currentPage\r\n            }\r\n        }\r\n        case UserReducerEnum.SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state, totalUsersCount: action.payload.count\r\n            }\r\n        }\r\n        case UserReducerEnum.TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state, isFetching: action.payload.isFetching\r\n            }\r\n        }\r\n        case UserReducerEnum.SET_FILTER: {\r\n            return {\r\n                ...state, filter: action.payload\r\n            }\r\n        }\r\n        case UserReducerEnum.TOGGLE_IS_FOLLOWING_IN_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgress: action.payload.followingInProgress\r\n                    ? [...state.followingInProgress, action.payload.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.payload.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const UserActions = {\r\n    followSuccess: (userID: string) => {\r\n        return {\r\n            type: UserReducerEnum.FOLLOW,\r\n            payload: {\r\n                userID,\r\n            }\r\n        } as const\r\n    },\r\n    unfollowSuccess: (userID: string) => {\r\n        return {\r\n            type: UserReducerEnum.UNFOLLOW,\r\n            payload: {\r\n                userID,\r\n            }\r\n        } as const\r\n    },\r\n    setUsers: (users: Array<UserType>) => {\r\n        return {\r\n            type: UserReducerEnum.SET_USERS,\r\n            payload: {\r\n                users,\r\n            }\r\n        } as const\r\n    },\r\n    setCurrentPage: (currentPage: number) => {\r\n        return {\r\n            type: UserReducerEnum.SET_CURRENT_PAGE,\r\n            payload: {\r\n                currentPage,\r\n            }\r\n        } as const\r\n    },\r\n    setFilter: (filter: FilterType) => {\r\n        return {\r\n            type: UserReducerEnum.SET_FILTER,\r\n            payload: filter\r\n        } as const\r\n    },\r\n    setTotalUsersCount: (totalCount: number) => {\r\n        return {\r\n            type: UserReducerEnum.SET_TOTAL_USERS_COUNT,\r\n            payload: {\r\n                count: totalCount,\r\n            }\r\n        } as const\r\n    },\r\n    toggleIsFetching: (isFetching: boolean) => {\r\n        return {\r\n            type: UserReducerEnum.TOGGLE_IS_FETCHING,\r\n            payload: {\r\n                isFetching,\r\n            }\r\n        } as const\r\n    },\r\n    toggleFollowingProgress: (followingInProgress: boolean, userId: string) => {\r\n        return {\r\n            type: UserReducerEnum.TOGGLE_IS_FOLLOWING_IN_PROGRESS,\r\n            payload: {\r\n                followingInProgress,\r\n                userId,\r\n            }\r\n        } as const\r\n    },\r\n}\r\n\r\n//=======================thunk\r\n\r\nexport const requestUsers = (page: number, pageSize: number, filter: FilterType): ThunkType => async (dispatch) => {\r\n    dispatch(UserActions.toggleIsFetching(true))\r\n    dispatch(UserActions.setCurrentPage(page))\r\n    dispatch(UserActions.setFilter(filter))\r\n\r\n    const getUsersData = await usersAPI.getUsers(page, pageSize, filter.term, filter.friend)\r\n\r\n    dispatch(UserActions.toggleIsFetching(false))\r\n    dispatch(UserActions.setUsers(getUsersData.items))\r\n    dispatch(UserActions.setTotalUsersCount(getUsersData.totalCount))\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch: Dispatch<ActionUsersTypes>, userId: string, apiMethod: (userId: string) => Promise<APIResponseType>, actionCreator: (userId: string) => ActionUsersTypes) => {\r\n    dispatch(UserActions.toggleFollowingProgress(true, userId))\r\n    const response = await apiMethod(userId)\r\n\r\n    if (response.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(UserActions.toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId: string): ThunkType => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), UserActions.followSuccess)\r\n}\r\n\r\nexport const unFollow = (userId: string): ThunkType => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), UserActions.unfollowSuccess)\r\n}\r\n\r\n//Types======================================================\r\ntype ThunkType = BaseThunkType<ActionUsersTypes>\r\n\r\nexport type initialStateType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: string[]\r\n    filter: {\r\n        term: string\r\n        friend: Nullable<boolean>\r\n    }\r\n}\r\n\r\nexport type ActionUsersTypes = InferActionTypes<typeof UserActions>\r\nexport type FilterType = typeof initialState.filter\r\n\r\nexport type UserType = {\r\n    name: string\r\n    id: string\r\n    uniqueUrlName: string\r\n    photos: { small: Nullable<string>, large: Nullable<string> }\r\n    status: string\r\n    followed: boolean\r\n}\r\n","import {Nullable} from \"../../types/Nullable\";\r\nimport {\r\n    CallBackType,\r\n    EventNamesType,\r\n    MessagesReceivedSubscriberType,\r\n    ReadyStatusType,\r\n    StatusChangedSubscriberType\r\n} from \"./types\";\r\n\r\nconst subscribers = {\r\n    'messages-received': [] as MessagesReceivedSubscriberType[],\r\n    'status-changed': [] as StatusChangedSubscriberType[],\r\n}\r\n\r\nlet ws: Nullable<WebSocket>\r\n\r\nconst notifySubscribersAboutStatus = (status: ReadyStatusType) => {\r\n    subscribers['status-changed'].forEach(subscriber => subscriber(status))\r\n}\r\n\r\nconst closeHandler = () => {\r\n    notifySubscribersAboutStatus('pending')\r\n    setTimeout(createChanel, 3000)\r\n}\r\n\r\nconst messageHandler = (e: MessageEvent) => {\r\n    const newMessages = JSON.parse(e.data)\r\n    subscribers['messages-received'].forEach(subscriber => subscriber(newMessages))\r\n}\r\n\r\nconst openHandler = () => {\r\n    notifySubscribersAboutStatus('ready')\r\n}\r\n\r\nconst errorHandler = () => {\r\n    notifySubscribersAboutStatus('error')\r\n}\r\n\r\nconst cleanUp = () => {\r\n    ws?.removeEventListener('close', closeHandler)\r\n    ws?.removeEventListener('message', messageHandler)\r\n    ws?.removeEventListener('open', openHandler)\r\n    ws?.removeEventListener('error', errorHandler)\r\n}\r\n\r\nexport function createChanel() {\r\n    const endpoint = 'wss://social-network.samuraijs.com/handlers/ChatHandler.ashx'\r\n    cleanUp()\r\n    ws?.close()\r\n    ws = (new WebSocket(endpoint))\r\n    notifySubscribersAboutStatus('pending')\r\n    ws.addEventListener('close', closeHandler)\r\n    ws.addEventListener('message', messageHandler)\r\n    ws.addEventListener('open', openHandler)\r\n    ws.addEventListener('error', errorHandler)\r\n}\r\n\r\nexport const chatApi = {\r\n    start() {\r\n        createChanel()\r\n    },\r\n    stop() {\r\n        subscribers['messages-received'] = []\r\n        subscribers['status-changed'] = []\r\n        cleanUp()\r\n        ws?.close()\r\n    },\r\n    subscribe(eventName: EventNamesType, callback: CallBackType) {\r\n        // @ts-ignore\r\n        subscribers[eventName].push(callback)\r\n        return () => {\r\n            // @ts-ignore\r\n            subscribers[eventName] = subscribers[eventName].filter(subscriber => subscriber !== callback)\r\n        }\r\n    },\r\n    unSubscribe(eventName: EventNamesType, callback: CallBackType) {\r\n        // @ts-ignore\r\n        subscribers[eventName] = subscribers[eventName].filter(subscriber => subscriber !== callback)\r\n    },\r\n    sendMessage(message: string) {\r\n        ws?.send(message)\r\n    },\r\n}","import axios from 'axios';\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: process.env.REACT_APP_BASE_URL,\r\n    headers: {\r\n        'API-KEY': process.env.REACT_APP_API_KEY as string,\r\n    },\r\n});\r\n","import {instance} from \"../apiConfig\";\r\nimport {APIResponseType} from \"../types\";\r\nimport {LoginResponseDataType, MeResponseType} from \"./types\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\n\r\nexport const authApi = {\r\n    getAuth() {\r\n        const endpoint = `auth/me`;\r\n        return instance.get<APIResponseType<MeResponseType>>(endpoint)\r\n            .then(res => res.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false, captcha: Nullable<string> = null) {\r\n        const endpoint = `auth/login`;\r\n        return instance.post<APIResponseType<LoginResponseDataType>>(endpoint, {email, password, rememberMe, captcha})\r\n            .then(res => res.data)\r\n    },\r\n    logout() {\r\n        const endpoint = `auth/login`;\r\n        return instance.delete<APIResponseType>(endpoint)\r\n            .then(res => res.data)\r\n    },\r\n}\r\n","import {ProfileType} from \"../../redux/profileReducer\";\r\nimport {instance} from \"../apiConfig\";\r\nimport {SavePhotoResponseDataType} from \"./types\";\r\nimport {APIResponseType} from \"../types\";\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        const endpoint = `profile/${userId}`\r\n        return instance.get<ProfileType>(endpoint)\r\n            .then(res => res.data)\r\n    },\r\n    getStatus(userId: string) {\r\n        const endpoint = `profile/status/${userId}`\r\n        return instance.get<string>(endpoint)\r\n            .then(res => res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        const endpoint = `profile/status`\r\n        return instance.put<APIResponseType>(endpoint, {status})\r\n            .then(res => res.data)\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const endpoint = `profile/photo`\r\n        const formData = new FormData()\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put<APIResponseType<SavePhotoResponseDataType>>(endpoint, formData, {\r\n            headers: {\r\n                \"Content-Type\": 'multipart/form-data'\r\n            }\r\n        })\r\n            .then(res => res.data)\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        const endpoint = `profile`\r\n        return instance.put<APIResponseType>(endpoint, profile).then(res => res.data)\r\n    },\r\n}\r\n","import {instance} from \"../apiConfig\";\r\nimport {captchaType} from \"./types\";\r\n\r\nexport const securityApi = {\r\n    getCaptchaUrl() {\r\n        const endpoint = `security/get-captcha-url`\r\n        return instance.get<captchaType>(endpoint)\r\n            .then(res => res.data)\r\n    },\r\n}","import {instance} from \"../apiConfig\";\r\nimport {APIResponseType, GetItemType} from \"../types\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 5, term: string = \"\", friend: Nullable<boolean> = null) {\r\n        const endpoint = `users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' : `&friend=${friend}`)\r\n        return instance.get<GetItemType>(endpoint)\r\n            .then(res => res.data)\r\n    },\r\n    follow(userId: string) {\r\n        const endpoint = `follow/${userId}`\r\n        return instance.post<APIResponseType>(endpoint)\r\n            .then(res => res.data)\r\n    },\r\n    unfollow(userId: string) {\r\n        const endpoint = `follow/${userId}`\r\n        return instance.delete<APIResponseType>(endpoint)\r\n            .then(res => res.data)\r\n    },\r\n}\r\n\r\n","\r\nimport {BaseThunkType, InferActionTypes} from \"./reduxStore\";\r\nimport {ChatMessageAPIType} from \"../pages/Chat/ChatPage\";\r\nimport {Dispatch} from \"redux\";\r\nimport {v1} from \"uuid\";\r\nimport {ReadyStatusType} from \"../Api/chatApi/types\";\r\nimport {chatApi} from \"../Api\";\r\nimport {Nullable} from \"../types/Nullable\";\r\n\r\nexport enum ChatReducerEnum {\r\n    MESSAGES_RECEIVED = \"SOCIAL_NETWORK/CHAT/MESSAGES_RECEIVED\",\r\n    STATUS_CHANGED = \"SOCIAL_NETWORK/CHAT/STATUS_CHANGED\",\r\n}\r\n\r\nconst initialState = {\r\n    messages: [] as ChatMessageType[],\r\n    status: 'pending' as ReadyStatusType,\r\n}\r\n\r\nconst subtractedLength: number = 100\r\n\r\nexport const chatReducer = (state: initialStateType = initialState, action: ActionChatTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case  ChatReducerEnum.MESSAGES_RECEIVED : {\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages,  ...action.payload.messages.map( m => ({...m, id: v1() }))]\r\n                    .filter((message, index, array) => index >= array.length - subtractedLength)\r\n            }\r\n        }\r\n        case  ChatReducerEnum.STATUS_CHANGED : {\r\n            return {\r\n                ...state,\r\n                status: action.payload.status\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const chatActions = {\r\n    messagesReceived: (messages: ChatMessageType[]) => {\r\n        return {\r\n            type: ChatReducerEnum.MESSAGES_RECEIVED,\r\n            payload: {messages}\r\n        } as const\r\n    },\r\n    statusChanged: (status: ReadyStatusType) => {\r\n        return {\r\n            type: ChatReducerEnum.STATUS_CHANGED,\r\n            payload: {status},\r\n        } as const\r\n    },\r\n}\r\n\r\n//thunk\r\n\r\nlet _newMessageHandler: ((messages: ChatMessageType[]) => void) | null = null\r\n\r\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\r\n\r\n    if (_newMessageHandler === null) {\r\n        _newMessageHandler = (messages) => {\r\n            dispatch(chatActions.messagesReceived(messages))\r\n        }\r\n    }\r\n\r\n    return _newMessageHandler\r\n}\r\n\r\nlet _statusChangedHandler: Nullable<((status: ReadyStatusType) => void)> = null\r\n\r\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\r\n\r\n    if (_statusChangedHandler === null) {\r\n        _statusChangedHandler = (status) => {\r\n            dispatch(chatActions.statusChanged(status))\r\n        }\r\n    }\r\n\r\n    return _statusChangedHandler\r\n}\r\n\r\nexport const startMessagesListening = (): ThunkType => async (dispatch: Dispatch) => {\r\n    chatApi.start()\r\n    chatApi.subscribe('messages-received', newMessageHandlerCreator(dispatch))\r\n    chatApi.subscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n}\r\n\r\nexport const stopMessagesListening = (): ThunkType => async (dispatch: Dispatch) => {\r\n    chatApi.unSubscribe('messages-received', newMessageHandlerCreator(dispatch))\r\n    chatApi.unSubscribe('status-changed', statusChangedHandlerCreator(dispatch))\r\n    chatApi.stop()\r\n}\r\n\r\nexport const sendMessage = (message: string): ThunkType => async (dispatch: Dispatch) => {\r\n    chatApi.sendMessage(message)\r\n}\r\n\r\n//types\r\n\r\ntype ThunkType = BaseThunkType<ActionChatTypes>\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nexport type ActionChatTypes = InferActionTypes<typeof chatActions>\r\n\r\nexport type ChatMessageType = ChatMessageAPIType & {id: string}\r\n","import {v1} from \"uuid\";\r\nimport {InferActionTypes} from \"./reduxStore\";\r\n\r\nexport enum NewsReducerEnum {\r\n    ADD_NEWS = \"SOCIAL_NETWORK/NEWS/ADD_POST\",\r\n    CHANGE_NEWS_TITLE = \"SOCIAL_NETWORK/NEWS/CHANGE_NEWS_TITLE\",\r\n    CHANGE_NEWS_TEXT = \"SOCIAL_NETWORK/NEWS/CHANGE_NEWS_TEXT\",\r\n    DELETE_NEWS = \"SOCIAL_NETWORK/NEWS/DELETE_NEWS\",\r\n}\r\n\r\nconst initialState = {\r\n    news: [\r\n        {\r\n            id: v1(),\r\n            image: \"https://s9.travelask.ru/system/images/files/000/336/893/wysiwyg_jpg/makro-fotografiya.jpg?1502197661\",\r\n            text: 'Articles about mushrooms will be useful and interesting for both experienced mushroom pickers and beginners who know only the basics of mushroom gathering. In this section, you will certainly find something that you did not know about before. Picking mushrooms is not just a casual pastime, but a rather serious hobby that will require more and more new, extensive and complete knowledge from you.',\r\n            title: \"Mushrooms\",\r\n        },\r\n        {\r\n            id: v1(),\r\n            image: \"https://funart.pro/uploads/posts/2021-03/1617075044_6-p-oboi-krasota-russkoi-prirodi-7.jpg\",\r\n            text: 'I remember the disdainful attitude of the authorities towards people and their problems, which, due to circumstances, constantly arose. I remember skinny collective farm cows that gave a liter of milk a day, and constantly drunk shepherds. It was impossible to buy something officially, but “for a bottle” you could get a lot: hay, straw, grain, silage, and so on. Something to bring, take, plow, mow turned into a big problem. In general, then life in the village was quite difficult. Half a century has passed. What has changed during this time?',\r\n            title: \"Village\",\r\n        },\r\n        {\r\n            id: v1(),\r\n            image: \"https://i.pinimg.com/originals/5a/df/1b/5adf1b97742a65d0a3c98299c545570b.jpg\",\r\n            text: 'Full Moon (lat. Luna plena, plenilunium) is the phase of the Moon, at which the difference between the ecliptic longitudes of the Sun and the Moon is 180 °. This means that the plane through the Sun, Earth and Moon is perpendicular to the plane of the ecliptic. If all three objects are on the same line, a lunar eclipse occurs. The full moon looks like a fully illuminated circle.t',\r\n            title: \"Full moon\",\r\n        },\r\n    ] as NewsType[],\r\n    images: [\r\n        {imageForBackground : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTPiDO89QlCqt5rl7UI4XOUCQzYA6HBkMNsbA&usqp=CAU\"},\r\n        {imageForBackground : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFxS2hQOJC-Aycw9EdLQp90JL3aibHWVB2FQ&usqp=CAU\"},\r\n        {imageForBackground : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQYIKDro5BiB_9ovMAVV9tsnoUXolUwkS63ZQ&usqp=CAU\"},\r\n        {imageForBackground : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROO-MgGXP9Ryb20_YWCA8VUKPIWeEgdbzjxA&usqp=CAU\"},\r\n        {imageForBackground : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS7trf0SnVCbXTPBMFbspsf3LDx3RmcpQrNJw&usqp=CAU\"},\r\n        {imageForBackground : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQM_nbxbH9uzFOkLNcI-LmE5xShJhbx_nV8-g&usqp=CAU\"},\r\n        {imageForBackground : \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQhPeeqnU_7s16RI8bOLs4giqKOUorM7iiW2g&usqp=CAU\"},\r\n    ] as ImagesType[]\r\n}\r\n\r\nexport const newsReducer = (state = initialState, action: ActionNewsTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case NewsReducerEnum.ADD_NEWS: {\r\n            let newsItem: NewsType = {\r\n                id: v1(),\r\n                image: state.images[(Math.round(Math.random() * state.images.length))].imageForBackground,\r\n                text: \"Введите ваш текст\",\r\n                title: action.payload.newTitle\r\n            }\r\n            return {\r\n                ...state,\r\n                news: [...state.news, newsItem],\r\n            }\r\n        }\r\n        case NewsReducerEnum.CHANGE_NEWS_TEXT: {\r\n            return {\r\n                ...state,\r\n                news: state.news.map(m => m.id === action.payload.id ? {...m, text: action.payload.text} : m)\r\n            }\r\n        }\r\n        case NewsReducerEnum.CHANGE_NEWS_TITLE: {\r\n            return {\r\n                ...state,\r\n                news: state.news.map(m => m.id === action.payload.id ? {...m, title: action.payload.title} : m)\r\n            }\r\n        }\r\n        case NewsReducerEnum.DELETE_NEWS: {\r\n            return {\r\n            ...state,\r\n                news: state.news.filter(f => f.id !== action.payload.id)\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const NewsActions = {\r\n    addNews: (newTitle: string) => {\r\n        return {\r\n            type: NewsReducerEnum.ADD_NEWS,\r\n            payload: {\r\n                newTitle\r\n            }\r\n        } as const\r\n    },\r\n    changeNewsText: (id: string, text: string) => {\r\n        return {\r\n            type: NewsReducerEnum.CHANGE_NEWS_TEXT,\r\n            payload: {\r\n                id,\r\n                text,\r\n            }\r\n        } as const\r\n    },\r\n    changeNewsTitle: (id: string, title: string) => {\r\n        return {\r\n            type: NewsReducerEnum.CHANGE_NEWS_TITLE,\r\n            payload: {\r\n                id,\r\n                title,\r\n            }\r\n        } as const\r\n    },\r\n    deleteNews: (id: string) => {\r\n        return {\r\n            type: NewsReducerEnum.DELETE_NEWS,\r\n            payload: {\r\n                id,\r\n            }\r\n        } as const\r\n    },\r\n}\r\n\r\n//types\r\nexport type initialStateType = typeof initialState\r\n\r\ntype ActionNewsTypes = InferActionTypes<typeof NewsActions>\r\n\r\nexport type NewsType = {\r\n    id: string\r\n    image: string\r\n    text: string\r\n    title: string\r\n}\r\n\r\nexport type ImagesType = {\r\n    imageForBackground: string\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2-aty\",\"nav__block\":\"Navbar_nav__block__3v9zj\",\"item\":\"Navbar_item__327v4\",\"activeLink\":\"Navbar_activeLink__3zjHO\",\"nav__text\":\"Navbar_nav__text__33QCt\"};","export default __webpack_public_path__ + \"static/media/user.00d92f05.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2pRMo\"};"],"sourceRoot":""}