(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{226:function(t,e,s){"use strict";s.d(e,"b",(function(){return j})),s.d(e,"a",(function(){return l})),s.d(e,"c",(function(){return d}));var r=s(3),n=s(230),i=(s(0),s(227)),o=s.n(i),a=s(107),c=s(1),u=function(t){var e=t.meta,s=e.touched,r=e.error,n=t.children,i=s&&r,a=i?o.a.error:"";return Object(c.jsxs)("div",{className:o.a.formControl+" "+a,children:[Object(c.jsx)("div",{children:n}),Object(c.jsx)("div",{children:i&&Object(c.jsx)("span",{children:r})})]})},j=function(t){var e=t.input,s=(t.meta,Object(n.a)(t,["input","meta"]));return Object(c.jsx)(u,Object(r.a)(Object(r.a)({},t),{},{children:Object(c.jsx)("textarea",Object(r.a)(Object(r.a)({},e),s))}))},l=function(t){var e=t.input,s=(t.meta,Object(n.a)(t,["input","meta"]));return Object(c.jsx)(u,Object(r.a)(Object(r.a)({},t),{},{children:Object(c.jsx)("input",Object(r.a)(Object(r.a)({},e),s))}))};function d(t,e,s,n,i,o){return Object(c.jsxs)("div",{children:[Object(c.jsx)(a.a,Object(r.a)({placeholder:t,name:e,component:n,validate:s},i))," ",o]})}},227:function(t,e,s){t.exports={formControl:"FormsControls_formControl__3bb8c",error:"FormsControls_error__17NH9",formSummaryError:"FormsControls_formSummaryError__1kRrY"}},229:function(t,e,s){"use strict";s.d(e,"b",(function(){return r})),s.d(e,"a",(function(){return n}));var r=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},237:function(t,e,s){"use strict";s.d(e,"a",(function(){return u}));var r=s(3),n=s(230),i=(s(0),s(4)),o=s(23),a=s(1),c=function(t){return{isAuth:t.auth.isAuth}};function u(t){return Object(o.b)(c)((function(e){var s=e.isAuth,o=Object(n.a)(e,["isAuth"]);return s?Object(a.jsx)(t,Object(r.a)({},o)):Object(a.jsx)(i.a,{to:"/login"})}))}},250:function(t,e,s){t.exports={ground:"ProfileInfo_ground__tDaWn",ava:"ProfileInfo_ava__9e5p9",avatar:"ProfileInfo_avatar__WJ8zq",mainPhoto:"ProfileInfo_mainPhoto__3Y96K",contacts:"ProfileInfo_contacts__O0vKF"}},298:function(t,e,s){t.exports={profile:"Profile_profile__3rowZ",ava:"Profile_ava__3qkus"}},299:function(t,e,s){t.exports={myPosts:"MyPosts_myPosts__1Dxws",posts:"MyPosts_posts__1WTYZ"}},300:function(t,e,s){t.exports={item:"Post_item__3IYxb",itemText:"Post_itemText__rOuHO"}},304:function(t,e,s){"use strict";s.r(e);var r=s(3),n=s(29),i=s(30),o=s(32),a=s(31),c=s(0),u=s.n(c),j=s(298),l=s.n(j),d=s(7),b=s.n(d),f=s(9),h=s(20),O=s(250),p=s.n(O),x=s.p+"static/media/avatar_for_profile.e4c1e159.jpg",v=s(53),m=s(1),g=function(t){Object(o.a)(s,t);var e=Object(a.a)(s);function s(){var t;Object(n.a)(this,s);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateUserStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(i.a)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(m.jsxs)("div",{children:[!this.state.editMode&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Status:"})," ",Object(m.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"------"})]}),this.state.editMode&&Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{children:"Status:"}),Object(m.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,value:this.state.status,onBlur:this.deactivateEditMode})]})]})}}]),s}(u.a.Component),_=s(226),P=s(108),y=Object(P.a)({form:"edit-profile"})((function(t){var e=t.profile,s=t.handleSubmit,r=t.error;return e?Object(m.jsxs)("form",{onSubmit:s,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{children:"Save"}),r&&Object(m.jsx)("div",{children:r})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full name"}),":",Object(_.c)("Full name","fullname",[],_.a,{type:"text"},"")]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job"}),":",Object(_.c)("","lookingForAJob",[],_.a,{type:"checkbox"},"")]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills"}),":",Object(_.c)("My professional skills","lookingForAJobDescription",[],_.b,{type:"textarea"},"")]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me"}),":",Object(_.c)("About me","aboutMe",[],_.b,{type:"textarea"},"")]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(m.jsx)("div",{children:Object(m.jsxs)("b",{children:[t," :",Object(_.c)(t,"contacts.".concat(t),[],_.a,{type:"text"},"")]})},t)}))]})]}):Object(m.jsx)(v.a,{})})),k=function(t){var e=t.contactTitle,s=t.contactValue;return Object(m.jsxs)("div",{className:p.a.contacts,children:[Object(m.jsx)("b",{children:e}),": ",s]})},S=function(t){var e=t.profile,s=t.isOwner,r=t.goToEditMode;return e?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{children:[s&&Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:r,children:"Edit"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full name"}),": ",e.fullName]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job"}),": ",e.lookingForAJob?"yes":"no"]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills"}),": ",e.lookingForAJobDescription]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me"}),": ",e.aboutMe]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts"}),": ",Object.keys(e.contacts).map((function(t){return Object(m.jsx)(k,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})}):Object(m.jsx)(v.a,{})},w=function(t){var e=t.editMode,s=t.profile,r=t.onSubmit,n=t.isOwner,i=t.setEditModeHandler;return Object(m.jsx)(m.Fragment,{children:e?Object(m.jsx)(y,{initialValues:s,profile:s,onSubmit:r}):Object(m.jsx)(S,{profile:s,isOwner:n,goToEditMode:i})})},M=function(t){var e=t.profile,s=t.status,r=t.updateUserStatus,n=t.savePhoto,i=t.isOwner,o=t.saveProfile,a=Object(c.useState)(!1),u=Object(h.a)(a,2),j=u[0],l=u[1];if(!e)return Object(m.jsx)(v.a,{});var d=function(){var t=Object(f.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(e);case 2:l(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(m.jsx)("div",{className:p.a.profile,children:Object(m.jsxs)("div",{className:p.a.avatarBlock,children:[Object(m.jsxs)("div",{className:p.a.avatar,children:[Object(m.jsx)("img",{className:p.a.mainPhoto,alt:"main avatar",src:e&&null!==e.photos.large?e.photos.large:x}),i&&Object(m.jsx)("input",{type:"file",onChange:function(t){return function(t){t.target.files&&t.target.files.length&&n(t.target.files[0])}(t)}})]}),Object(m.jsx)(w,{editMode:j,profile:e,onSubmit:d,isOwner:i,setEditModeHandler:function(){l(!0)}}),Object(m.jsx)(g,{status:s,updateUserStatus:r})]})})},A=s(58),C=s(299),F=s.n(C),I=s(300),N=s.n(I),U=function(t){return Object(m.jsxs)("div",{className:N.a.item,children:[Object(m.jsx)("img",{src:"https://slovami.net/wp-content/uploads/thumbs_dir/the-most-beautiful-guys-russia-4-1-nwkkkydf2f1mhw9a4ijzfs2ktasvevyjiyi4xibqis.jpg",alt:"ava",title:"ava"}),Object(m.jsxs)("div",{className:N.a.itemText,children:[t.message,Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:["like: ",t.likesCount]})})]})]},t.id)},E=s(107),D=s(229),T=Object(D.a)(10),J=u.a.memo((function(t){var e=t.profilePage,s=t.onAddPost,r=e.posts.map((function(t){return Object(m.jsx)(U,{message:t.message,likesCount:t.likesCount,id:t.id},t.id)}));return Object(m.jsxs)("div",{className:F.a.myPosts,children:[Object(m.jsx)("h3",{children:"My posts"}),Object(m.jsx)(q,{onSubmit:function(t){s(t.AddNewPost)}}),Object(m.jsx)("div",{className:F.a.posts,children:r})]})})),q=Object(P.a)({form:"ProfileAddNewPostForm"})((function(t){var e=t.handleSubmit;return Object(m.jsxs)("form",{onSubmit:e,children:[Object(m.jsx)("div",{children:Object(m.jsx)(E.a,{component:_.b,name:"AddNewPost",placeholder:"Write your message",validate:[D.b,T]})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{children:"Add post"})})]})})),z=s(23),H=Object(z.b)((function(t){return{profilePage:t.profilePage}}),{onAddPost:A.a.addPost})(J),W=function(t){return Object(m.jsxs)("div",{className:l.a.profile,children:[Object(m.jsx)(M,{profile:t.profile,status:t.status,updateUserStatus:t.updateUserStatus,isOwner:t.isOwner,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),Object(m.jsx)(H,{})]})},Y=s(33),V=s(4),B=s(237),K=function(t){Object(o.a)(s,t);var e=Object(a.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.userId;if(t||(t=this.props.authorizedUserID)||this.props.history.push("/login"),!t)throw new Error("ID should be exists");this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.userId!==t.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(W,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!this.props.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(u.a.Component),L=Object(Y.d)(Object(z.b)((function(t){return{profile:t.profilePage.profile,isAuth:t.auth.isAuth,status:t.profilePage.status,authorizedUserID:t.auth.data.userId}}),{getUserProfile:A.b,getUserStatus:A.c,updateUserStatus:A.g,savePhoto:A.e,saveProfile:A.f}),(function(t){return function(e){var s=Object(V.h)(),n=Object(V.f)();return Object(m.jsx)(t,Object(r.a)(Object(r.a)({},e),{},{userId:s.userId,location:n}))}}),B.a)(K);e.default=L}}]);
//# sourceMappingURL=4.ca1a264d.chunk.js.map