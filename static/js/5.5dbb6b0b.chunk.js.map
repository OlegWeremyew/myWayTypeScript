{"version":3,"sources":["common/FormsControls/FormsControls.tsx","common/FormsControls/FormsControls.module.scss","components/MainWindow/Dialogs/Dialogs.module.scss","components/MainWindow/Dialogs/DialogItem/DialogsItem.module.scss","components/MainWindow/Dialogs/AddMessageForm/AddMessageForm.module.scss","components/MainWindow/Dialogs/Dialog/Dialog.module.scss","components/MainWindow/Dialogs/DialogItem/DialogsItem.tsx","components/MainWindow/Dialogs/AddMessageForm/AddMessageForm.tsx","components/MainWindow/Dialogs/Dialog/Dialog.tsx","components/MainWindow/Dialogs/DialogsContainer.tsx","components/MainWindow/Dialogs/Dialogs.tsx"],"names":["FormControl","meta","touched","error","children","hasError","styleError","styles","EMPTY_STRING","className","Textarea","props","input","restProps","textarea","Input","createField","placeholder","name","validators","component","text","validate","module","exports","DialogsItem","img","style","dialog","src","alt","dialog__name","maxLength","maxLengthCreator","ReduxAddMessageForm","reduxForm","form","handleSubmit","reset","addMessage","onSubmit","values","Field","required","form__btn","Dialog","message","id","dispatch","useDispatch","message__item","onClick","MessageActions","deleteMessage","deletePostHandler","delete__btn","DialogsContainer","compose","connect","state","messagesPage","getMessagesPageSelector","withAuthRedirect","dialogsItem","users","map","user","messages","dialogs","dialogs__dialog","dialogItem","newMessageText"],"mappings":"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","file":"static/js/5.5dbb6b0b.chunk.js","sourcesContent":["import React, {ComponentType} from 'react';\r\nimport styles from './FormsControls.module.scss'\r\n\r\nimport {Field, WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form\";\r\nimport {Validator} from \"redux-form/lib/Field\";\r\nimport {Nullable} from \"../../types/Nullable\";\r\nimport {EMPTY_STRING} from \"../../constants\";\r\nimport {ReturnComponentType} from \"../../types/ReturnComponentType\";\r\n\r\nconst FormControl: React.FC<FormControlPropsParamsType> = ({meta: {touched, error}, children}): ReturnComponentType => {\r\n\r\n    const hasError = touched && error\r\n    const styleError = hasError ? styles.error : EMPTY_STRING\r\n\r\n    return (\r\n        <div className={styles.FormControl + \" \" + styleError}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            <div>\r\n                {\r\n                    hasError\r\n                    && <span>{error}</span>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea className={styles.textarea} {...input} {...restProps}/>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props\r\n    return (\r\n        <FormControl {...props}>\r\n            <input  className={styles.input} {...input} {...restProps}/>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport function createField<T extends string>(placeholder: Nullable<string>, name: T, validators: Validator | Validator[], component: componentType, props: { type: string }, text?: string) {\r\n    return (\r\n        <div>\r\n            <Field\r\n                placeholder={placeholder}\r\n                name={name}\r\n                component={component}\r\n                validate={validators}\r\n                {...props}\r\n            /> {text}\r\n        </div>\r\n    )\r\n}\r\n\r\n//types====\r\n\r\ntype FormControlPropsParamsType = {\r\n    meta: WrappedFieldMetaProps\r\n    children: React.ReactNode\r\n}\r\n\r\nexport type LoginFormValuesType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n    captcha: string\r\n}\r\n\r\nexport type  LoginFormValuesKeysType = Extract<keyof LoginFormValuesType, string>\r\n\r\ntype componentType = \"input\" | \"select\" | \"textarea\" | ComponentType<WrappedFieldProps> | undefined","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__16I1n\",\"error\":\"FormsControls_error__dMqpf\",\"formSummaryError\":\"FormsControls_formSummaryError__2k5qi\",\"textarea\":\"FormsControls_textarea__3h9ML\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2axRZ\",\"dialogs__dialog\":\"Dialogs_dialogs__dialog__Lvaio\",\"dialogItem\":\"Dialogs_dialogItem__mAlDc\",\"messages\":\"Dialogs_messages__kzmW0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogsItem_dialog__2Gb3Q\",\"dialog__name\":\"DialogsItem_dialog__name__3xYnv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"addMessage\":\"AddMessageForm_addMessage__3f1Zm\",\"textField\":\"AddMessageForm_textField__3EnUv\",\"form__btn\":\"AddMessageForm_form__btn__17j8c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Dialog_message__uirDW\",\"message__item\":\"Dialog_message__item__2bkVo\",\"delete__btn\":\"Dialog_delete__btn__3KFPz\"};","import React from 'react';\r\nimport style from \"./DialogsItem.module.scss\";\r\nimport {ReturnComponentType} from \"../../../../types/ReturnComponentType\";\r\nimport {UserType} from \"../../../../redux/messagesReducer/types\";\r\n\r\nconst DialogsItem: React.FC<UserType> = ({img, name}): ReturnComponentType => {\r\n\r\n    return (\r\n        <div className={style.dialog}>\r\n            <div>\r\n                <img src={img} alt=\"dialogs item\"/>\r\n            </div>\r\n            <div className={style.dialog__name}>\r\n                {name}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogsItem","import React, {SyntheticEvent} from \"react\";\r\nimport style from './AddMessageForm.module.scss'\r\n\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../../common/FormsControls/FormsControls\";\r\nimport {FormMessagesType} from \"../Dialogs\";\r\nimport {ReturnComponentType} from \"../../../../types/ReturnComponentType\";\r\nimport {maxLengthCreator, required} from \"../../../../utils\";\r\n\r\nconst maxLength = maxLengthCreator(30)\r\n\r\nconst AddMessageForm: React.FC<InjectedFormProps<FormMessagesType>> = ({handleSubmit, reset}): ReturnComponentType => {\r\n\r\n    const onSubmit = (values: SyntheticEvent<any, Event>) => {\r\n        handleSubmit(values)\r\n        reset()\r\n    }\r\n\r\n    return (\r\n        <form className={style.addMessage} onSubmit={onSubmit}>\r\n            <div>\r\n                <Field\r\n                    component={Textarea}\r\n                    name={\"newMessageText\"}\r\n                    placeholder={\"Write your message ✉\"}\r\n                    validate={[required, maxLength]}\r\n                />\r\n            </div>\r\n            <div className={style.form__btn}>\r\n                <button>\r\n                    Add message\r\n                </button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const ReduxAddMessageForm = reduxForm<FormMessagesType>({form: \"dialogAddMessageForm\"})(AddMessageForm)","import React from 'react';\r\nimport style from \"./Dialog.module.scss\"\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nimport {ReturnComponentType} from \"../../../../types/ReturnComponentType\";\r\nimport {MessageActions} from \"../../../../redux/messagesReducer\";\r\nimport {MessageType} from \"../../../../redux/messagesReducer/types\";\r\n\r\nconst Dialog: React.FC<MessageType> = ({message, id}): ReturnComponentType => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const deletePostHandler = (id: number): void => {\r\n        dispatch(MessageActions.deleteMessage(id))\r\n    }\r\n\r\n    return (\r\n        <div className={style.message}>\r\n            <div className={style.message__item}>{message}</div>\r\n            <div\r\n                onClick={() => deletePostHandler(id)}\r\n                className={style.delete__btn}\r\n            >\r\n                ❌\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Dialog","import  {ComponentType} from 'react';\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/reduxStore\";\r\nimport {getMessagesPageSelector} from \"../../../selectors\";\r\nimport {compose} from \"redux\";\r\nimport {MessageActions} from \"../../../redux/messagesReducer\";\r\nimport {initialStateMessagesType} from \"../../../redux/messagesReducer/types\";\r\nimport {withAuthRedirect} from \"../../../utils\";\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        messagesPage: getMessagesPageSelector(state)\r\n    }\r\n}\r\n\r\nconst DialogsContainer = compose<ComponentType>(\r\n    connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {\r\n        addMessage: MessageActions.addMessage\r\n    }), withAuthRedirect\r\n)(Dialogs)\r\n\r\nexport default DialogsContainer\r\n\r\n//types===================\r\ntype MapStateToPropsType = {\r\n    messagesPage: initialStateMessagesType\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    addMessage: (newMessageText: string) => void\r\n}\r\n\r\nexport type UsersPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n","import React from 'react';\r\nimport style from \"./Dialogs.module.scss\"\r\n\r\nimport DialogsItem from \"./DialogItem/DialogsItem\";\r\nimport {UsersPropsType} from \"./DialogsContainer\";\r\nimport {ReduxAddMessageForm} from \"./AddMessageForm/AddMessageForm\";\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport {ReturnComponentType} from \"../../../types/ReturnComponentType\";\r\n\r\nexport const Dialogs:React.FC<UsersPropsType> = ({messagesPage, addMessage}): ReturnComponentType => {\r\n\r\n    const dialogsItem = messagesPage.users\r\n        .map(user => {\r\n            return (\r\n                <DialogsItem\r\n                    key={user.id}\r\n                    name={user.name}\r\n                    id={user.id}\r\n                    img={user.img}\r\n                />\r\n            )\r\n        })\r\n\r\n    const message = messagesPage.messages\r\n        .map(message => {\r\n            return (\r\n                <Dialog\r\n                    key={message.id}\r\n                    message={message.message}\r\n                    id={message.id}\r\n                />\r\n            )\r\n        })\r\n\r\n    const addNewMessage = (values: FormMessagesType) => {\r\n        addMessage(values.newMessageText)\r\n    }\r\n\r\n    return (\r\n        <section className={style.dialogs}>\r\n            <div className={style.dialogs__dialog}>\r\n                <div className={style.dialogItem}>\r\n                    {dialogsItem}\r\n                </div>\r\n                <div className={style.messages}>\r\n                    {message}\r\n                </div>\r\n            </div>\r\n            <ReduxAddMessageForm onSubmit={addNewMessage}/>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport type FormMessagesType = {\r\n    newMessageText: string\r\n}"],"sourceRoot":""}