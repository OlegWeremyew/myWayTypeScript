(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[7],{327:function(e,t,s){e.exports={chat__item:"Messages_chat__item__M8tP2"}},328:function(e,t,s){e.exports={message:"Message_message__3y-12",message__item:"Message_message__item__1P-zd",message__userName:"Message_message__userName__liBCF",message__img:"Message_message__img__2xFCT",message__text:"Message_message__text__1r__e"}},329:function(e,t,s){e.exports={form__btn:"AddMessageForm_form__btn__3NQLC",textarea:"AddMessageForm_textarea__2V23D"}},330:function(e,t,s){e.exports={chatBlock:"Chat_chatBlock__3zY-t"}},331:function(e,t,s){e.exports={chatPageBlock:"ChatPage_chatPageBlock__1x1-F",chatPage__title:"ChatPage_chatPage__title__3Es5P"}},337:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),r=s(16),n=s(327),i=s.n(n),_=s(328),o=s.n(_),j=s(19),l=s(20),m=s(0),u=c.a.memo((function(e){var t=e.message;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:o.a.message,children:[Object(m.jsxs)("div",{className:o.a.message__item,children:[Object(m.jsx)(j.b,{to:"".concat(l.a.PROFILE,"/").concat(t.userId),children:Object(m.jsx)("img",{className:o.a.message__img,src:t.photo,alt:"avatar",title:"avatar ".concat(t.userName)})}),Object(m.jsx)("div",{className:o.a.message__userName,children:t.userName}),Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:o.a.message__text,children:t.message})]}),Object(m.jsx)("hr",{})]})})),b=s(10),g=function(){var e=Object(b.d)((function(e){return e.chat.messages})),t=Object(a.useRef)(null),s=Object(a.useState)(!1),c=Object(r.a)(s,2),n=c[0],_=c[1];return Object(a.useEffect)((function(){var e;n&&(null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(m.jsxs)("div",{className:i.a.chat__item,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop)-t.clientHeight<300?!n&&_(!0):n&&_(!1)},children:[e.map((function(e){return Object(m.jsx)(u,{message:e},e.id)})),Object(m.jsx)("div",{ref:t})]})},h=s(329),d=s.n(h),O=s(68),x=function(){var e=Object(b.c)(),t=Object(a.useState)(""),s=Object(r.a)(t,2),c=s[0],n=s[1],i=Object(b.d)((function(e){return e.chat.status}));return Object(m.jsxs)("div",{children:[Object(m.jsx)("textarea",{className:d.a.textarea,placeholder:"write your message",value:c,onChange:function(e){return function(e){n(e)}(e.currentTarget.value)},onKeyPress:function(t){"Enter"===t.key&&(e(Object(O.b)(c)),n(""))}}),Object(m.jsx)("div",{className:d.a.form__btn,onClick:function(){c.trim()&&(e(Object(O.b)(c)),n(""))},children:Object(m.jsx)("button",{disabled:"ready"!==i,children:"Send"})})]})},f=s(330),v=s.n(f),N=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.chat.status}));return Object(a.useEffect)((function(){return e(Object(O.c)()),function(){e(Object(O.d)())}}),[]),Object(m.jsxs)(m.Fragment,{children:["error"===t&&Object(m.jsx)("div",{children:"Some error occurred. Please refresh this page"}),Object(m.jsxs)("div",{className:v.a.chatBlock,children:[Object(m.jsx)(g,{}),Object(m.jsx)(x,{})]})]})},p=s(331),P=s.n(p);t.default=function(){return Object(m.jsxs)("div",{className:P.a.chatPageBlock,children:[Object(m.jsx)("div",{className:P.a.chatPage__title,children:"Common chat"}),Object(m.jsx)(N,{})]})}}}]);
//# sourceMappingURL=7.56164e1e.chunk.js.map