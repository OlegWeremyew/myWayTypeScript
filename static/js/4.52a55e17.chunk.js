(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{247:function(t,e,a){t.exports={login__block:"Login_login__block__2h76V",login__title:"Login_login__title__3yyRU",input__form:"Login_input__form__dPp6f",checkbox__form:"Login_checkbox__form__3rk2n",form__btn:"Login_form__btn__cQeTw"}},263:function(t,e,a){t.exports={profile:"ProfileInfo_profile__1vN3M",avatarBlock:"ProfileInfo_avatarBlock__1dXuO",avatar:"ProfileInfo_avatar__1gVy8",mainPhoto:"ProfileInfo_mainPhoto__1sG0K",profile__inner:"ProfileInfo_profile__inner__2TPSA",addedPhoto__btn:"ProfileInfo_addedPhoto__btn__2S1OZ",avatarEdit:"ProfileInfo_avatarEdit__3-FSS",view__btn:"ProfileInfo_view__btn__1fp77"}},310:function(t,e,a){t.exports={myPosts:"MyPosts_myPosts__3xLRG",post__title:"MyPosts_post__title__PHVHK",form__btn:"MyPosts_form__btn__2XWei"}},311:function(t,e,a){t.exports={item:"Post_item__1NRKs",itemText:"Post_itemText__1yCOo",postAvatar:"Post_postAvatar__2V7HL",likeCounter:"Post_likeCounter__2CBP9",notActive:"Post_notActive__3NUBl",active:"Post_active__2OeeY",activeBlock:"Post_activeBlock__3iGjy",fingerUp:"Post_fingerUp__1USzJ",reaction:"Post_reaction__1QzGv",form__btn:"Post_form__btn__2Y8Py",delete__btn:"Post_delete__btn__23YSs"}},312:function(t,e,a){t.exports={profile:"Profile_profile__tOfWh"}},313:function(t,e,a){t.exports={formBlock:"Contact_formBlock__3ENgk"}},314:function(t,e,a){t.exports={activateEdit__btn:"ProfileData_activateEdit__btn__2QYbC",formBlock:"ProfileData_formBlock__1R4tB",formBlock__title:"ProfileData_formBlock__title__2yY19",contacts__Title:"ProfileData_contacts__Title__3UBwZ",contacts__container:"ProfileData_contacts__container__3sV81",contacts__text:"ProfileData_contacts__text__ThP_4",contactsBlock:"ProfileData_contactsBlock__2PShH",contactsBlock__item:"ProfileData_contactsBlock__item__1tc2b",icon:"ProfileData_icon__3EWwe",contact__item:"ProfileData_contact__item__1J6xL",contactsRow:"ProfileData_contactsRow__nCr49"}},315:function(t,e,a){t.exports={saveEdit__btn:"ProfileDataForm_saveEdit__btn__3RsND",formContainer:"ProfileDataForm_formContainer__c0k4m",form_edit:"ProfileDataForm_form_edit__l1UYQ",formBlock:"ProfileDataForm_formBlock__2FL_m",formBlock__check:"ProfileDataForm_formBlock__check__2jBAS",contacts__Title:"ProfileDataForm_contacts__Title__2yUJN",contactsBlock:"ProfileDataForm_contactsBlock__1Kb2R",contact__item:"ProfileDataForm_contact__item__1ZJBZ"}},316:function(t,e,a){t.exports={main:"ProfileStatus_main__3BmVO",statusText:"ProfileStatus_statusText__73S3h",status__text:"ProfileStatus_status__text__1aEG5",status__pencil:"ProfileStatus_status__pencil__s8Wxl",activeInput:"ProfileStatus_activeInput__1IeB_"}},333:function(t,e,a){"use strict";a.r(e);var s=a(18),o=a(55),c=a(71),n=a(29),i=a(59),r=a(2);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function d(t,e,a){return e&&_(t.prototype,e),a&&_(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function j(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}var b=a(87);function p(t,e){if(e&&("object"===Object(b.a)(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,s=f(t);if(e){var o=f(this).constructor;a=Reflect.construct(s,arguments,o)}else a=s.apply(this,arguments);return p(this,a)}}var h=a(0),O=a.n(h),v=a(310),x=a.n(v),P=a(23),k=a(12),y=a(311),g=a.n(y),N=a(1),w=function(t){var e=t.message,a=t.likesCount,o=t.id,i=Object(s.c)(),r=Object(h.useState)(!1),l=Object(P.a)(r,2),_=l[0],d=l[1],u=Object(h.useState)(!1),j=Object(P.a)(u,2),f=j[0],b=j[1],p=Object(s.d)(n.k),m=_?g.a.active:g.a.notActive;return Object(N.jsxs)("div",{className:g.a.item,children:[Object(N.jsx)("div",{className:g.a.postAvatar,children:Object(N.jsx)("img",{src:p||k.a,alt:"ava",title:"ava"})}),Object(N.jsxs)("div",{className:g.a.itemText,children:[e,Object(N.jsxs)("div",{className:g.a.activeBlock,children:[Object(N.jsxs)("span",{className:g.a.likeCounter,onClick:function(){d(!_)},children:["like: ",_?a+1:a,Object(N.jsx)("span",{className:m,children:"\u2665"})]}),Object(N.jsxs)("span",{className:g.a.likeCounter,onClick:function(){b(!f)},children:["respect:",f?Object(N.jsx)("span",{className:g.a.reaction,children:"\ud83d\ude0e"}):Object(N.jsx)("span",{className:g.a.reaction,children:"\ud83d\udc4d"})]})]})]}),Object(N.jsx)("div",{onClick:function(){return function(t){i(c.a.deletePost(t))}(o)},className:g.a.delete__btn,children:"\u274c"})]})},B=a(97),S=a(126),D=a(34),M=a(247),C=a.n(M),E=Object(i.a)(10),T=Object(S.a)({form:"ProfileAddNewPostForm"})((function(t){var e=t.handleSubmit,a=t.reset;return Object(N.jsxs)("form",{onSubmit:function(t){e(t),a()},children:[Object(N.jsx)("div",{children:Object(N.jsx)(B.a,{component:D.f,name:"AddNewPost",placeholder:"Write your message \u2709",validate:[i.b,E]})}),Object(N.jsx)("div",{className:C.a.form__btn,children:Object(N.jsx)("button",{type:"submit",children:"Add post"})})]})})),U=O.a.memo((function(t){var e=t.profilePage,a=t.onAddPost,s=e.posts.map((function(t){return Object(N.jsx)(w,{message:t.message,likesCount:t.likesCount,id:t.id},t.id)}));return Object(N.jsxs)("div",{className:x.a.myPosts,children:[Object(N.jsx)("h3",{className:x.a.post__title,children:"My posts :"}),Object(N.jsx)(T,{onSubmit:function(t){a(t.AddNewPost)}}),Object(N.jsx)("div",{className:x.a.posts,children:s})]})})),A=Object(s.b)((function(t){return{profilePage:Object(n.m)(t)}}),{onAddPost:c.a.addPost})(U),I=a(312),F=a.n(I),L=a(6),R=a(13),V=a.p+"static/media/avatar_for_profile.e4c1e159.jpg",J=a(263),H=a.n(J),G=a(313),Y=a.n(G),W=function(t){var e=t.contactTitle,a=t.contactValue;return Object(N.jsxs)("div",{className:Y.a.formBlock,children:[Object(N.jsxs)("b",{children:[Object(N.jsxs)("a",{href:a||k.a,children:[" ",e]}),":"]}),a?Object(N.jsx)("span",{children:a}):Object(N.jsx)("span",{children:'"Information is not provided"'})]})},z=a(314),K=a.n(z),Q=function(t){var e=t.profile,a=t.isOwner,s=t.goToEditMode;return e?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:K.a.contacts__Title,children:"Little about me:"}),Object(N.jsxs)("div",{className:K.a.formBlock,children:[Object(N.jsx)("div",{className:K.a.formBlock__title,children:"Full name:"}),Object(N.jsx)("div",{children:e.fullName})]}),Object(N.jsxs)("div",{className:K.a.formBlock,children:[Object(N.jsx)("div",{className:K.a.formBlock__title,children:"Looking for a job:"}),Object(N.jsx)("div",{children:e.lookingForAJob?"I'm looking for a job":"no, I'm not looking for a job at the moment"})]}),Object(N.jsxs)("div",{className:K.a.formBlock,children:[Object(N.jsx)("div",{className:K.a.formBlock__title,children:"My professional skills:"}),Object(N.jsx)("div",{children:e.lookingForAJobDescription})]}),Object(N.jsxs)("div",{className:K.a.formBlock,children:[Object(N.jsx)("div",{className:K.a.formBlock__title,children:"About me:"}),Object(N.jsx)("div",{children:e.aboutMe})]}),Object(N.jsxs)("div",{className:K.a.contacts__container,children:[Object(N.jsx)("span",{className:K.a.contacts__Title,children:"My contacts:"}),Object(N.jsxs)("div",{className:K.a.contacts__text,children:["If you want to go to my web pages - click on the title below",Object(N.jsx)("span",{children:" \u261f"})]}),Object(N.jsx)("div",{className:K.a.contactsBlock,children:Object.keys(e.contacts).map((function(t){return Object(N.jsxs)("div",{className:K.a.contactsBlock__item,children:[Object(N.jsx)("span",{className:K.a.icon,children:"\u2713 "}),Object(N.jsx)(W,{contactTitle:t,contactValue:e.contacts[t]})]},t)}))})]}),a&&Object(N.jsx)("div",{className:K.a.activateEdit__btn,onClick:s,children:Object(N.jsx)("button",{type:"button",children:"Edit contacts"})})]})}):Object(N.jsx)(D.e,{})},Z=a(315),X=a.n(Z),q=Object(S.a)({form:"edit-profile"})((function(t){var e=t.profile,a=t.handleSubmit,s=t.error;return e?Object(N.jsxs)("form",{className:X.a.formContainer,onSubmit:a,children:[Object(N.jsx)("span",{className:X.a.contacts__Title,children:"Little about me:"}),Object(N.jsxs)("div",{className:X.a.form_edit,children:[Object(N.jsxs)("div",{className:X.a.formBlock,children:[Object(N.jsx)("span",{children:"Full name:"}),Object(D.g)("Full name","fullname",[],D.b,{type:"text"},k.a)]}),Object(N.jsxs)("div",{className:X.a.formBlock__check,children:[Object(N.jsx)("span",{children:"Looking for a job:"}),Object(D.g)("","lookingForAJob",[],D.b,{type:"checkbox"},k.a)]}),Object(N.jsxs)("div",{className:X.a.formBlock,children:[Object(N.jsx)("span",{children:"My professional skills:"}),Object(D.g)("My professional skills","lookingForAJobDescription",[],D.b,{type:"textarea"},k.a)]}),Object(N.jsxs)("div",{className:X.a.formBlock,children:[Object(N.jsx)("span",{children:"About me:"}),Object(D.g)("About me","aboutMe",[],D.b,{type:"textarea"},k.a)]}),Object(N.jsx)("span",{className:X.a.contacts__Title,children:"My contacts:"}),Object(N.jsx)("div",{className:X.a.contactsBlock,children:Object.keys(e.contacts).map((function(t){return Object(N.jsx)("div",{className:X.a.contact__item,children:Object(N.jsxs)("span",{children:[t,":",Object(D.g)(t,"contacts.".concat(t),[],D.b,{type:"text"},k.a)]})},t)}))})]}),Object(N.jsxs)("div",{className:X.a.saveEdit__btn,children:[Object(N.jsx)("button",{type:"submit",children:"Save"}),s&&Object(N.jsx)("div",{children:s})]})]}):Object(N.jsx)(D.e,{})})),$=function(t){var e=t.editMode,a=t.profile,s=t.onSubmit,o=t.isOwner,c=t.setEditModeHandler,n=t.disableViewMode;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:H.a.view__btn,onClick:n,children:Object(N.jsx)("button",{type:"button",children:"Hide contacts"})}),e?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(q,{initialValues:a,profile:a,onSubmit:s})}):Object(N.jsx)(Q,{profile:a,isOwner:o,goToEditMode:c})]})},tt=a(316),et=a.n(tt),at=function(t){j(a,t);var e=m(a);function a(){var t;l(this,a);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={editMode:!1,status:t.props.status,isOwner:t.props.isOwner},t.activateEditMode=function(){t.props.isOwner&&t.setState({editMode:!0})},t.deactivateEditMode=function(){var e=t.props.updateUserStatus;t.setState({editMode:!1}),e(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return d(a,[{key:"componentDidUpdate",value:function(t,e){var a=this.props.status;t.status!==a&&this.setState({status:a})}},{key:"render",value:function(){return Object(N.jsxs)("div",{className:et.a.main,children:[!this.state.editMode&&Object(N.jsxs)("div",{className:et.a.statusText,children:[Object(N.jsx)("h3",{children:"Status: "}),Object(N.jsxs)("span",{className:et.a.status__text,onDoubleClick:this.activateEditMode,children:[this.props.status||"------",Object(N.jsx)("span",{className:et.a.status__pencil,children:"\xa0\u270e"})]})]}),this.state.editMode&&Object(N.jsxs)("div",{className:et.a.activeInput,children:[Object(N.jsx)("h3",{children:"Status:"}),Object(N.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,value:this.state.status,onBlur:this.deactivateEditMode})]})]})}}]),a}(O.a.Component),st=function(t){var e=t.profile,a=t.status,s=t.updateUserStatus,o=t.savePhoto,c=t.isOwner,n=t.saveProfile,i=Object(h.useState)(!1),r=Object(P.a)(i,2),l=r[0],_=r[1],d=Object(h.useState)(!1),u=Object(P.a)(d,2),j=u[0],f=u[1];if(!e)return Object(N.jsx)(D.e,{});var b=function(){var t=Object(R.a)(Object(L.a)().mark((function t(e){return Object(L.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:_(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:H.a.profile,children:[Object(N.jsxs)("div",{className:H.a.avatarBlock,children:[Object(N.jsx)("div",{className:H.a.avatar,children:Object(N.jsx)("img",{className:H.a.mainPhoto,alt:"main avatar",src:e&&null!==e.photos.large?e.photos.large:V})}),Object(N.jsxs)("div",{className:H.a.profile__inner,children:[Object(N.jsx)(at,{isOwner:c,status:a,updateUserStatus:s}),Object(N.jsx)("div",{className:H.a.addedPhoto__btn,children:c&&Object(N.jsxs)("div",{className:H.a.avatarEdit,children:[Object(N.jsx)("input",{type:"file",onChange:function(t){return function(t){t.target.files&&t.target.files.length&&o(t.target.files[k.b])}(t)},id:"imageUpload",accept:".png, .jpg, .jpeg"}),Object(N.jsx)("label",{htmlFor:"imageUpload",children:" "})]})})]})]}),Object(N.jsx)("hr",{}),j?Object(N.jsx)($,{editMode:l,profile:e,onSubmit:b,isOwner:c,setEditModeHandler:function(){_(!0)},disableViewMode:function(){f(!1)}}):Object(N.jsx)("div",{className:H.a.view__btn,onClick:function(){return f(!0)},children:Object(N.jsx)("button",{type:"button",children:"View contacts"})}),Object(N.jsx)("hr",{})]})},ot=function(t){var e=t.profile,a=t.status,s=t.updateUserStatus,o=t.isOwner,c=t.savePhoto,n=t.saveProfile;return Object(N.jsxs)("section",{className:F.a.profile,children:[Object(N.jsx)(st,{profile:e,status:a,updateUserStatus:s,isOwner:o,savePhoto:c,saveProfile:n}),o&&Object(N.jsx)(A,{})]})},ct=function(t){j(a,t);var e=m(a);function a(){return l(this,a),e.apply(this,arguments)}return d(a,[{key:"refreshProfile",value:function(){var t=this.props.userId,e=this.props,a=e.authorizedUserID,s=e.getUserProfile,o=e.getUserStatus;if(t||(t=a)||this.props.history.push(PATH.LOGIN),!t)throw new Error("ID should be exists");s(t),o(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,a){this.props.userId!==t.userId&&this.refreshProfile()}},{key:"render",value:function(){var t=this.props,e=t.userId,a=t.profile,s=t.status,o=t.updateUserStatus,c=t.savePhoto,n=t.saveProfile;return Object(N.jsx)(ot,Object(r.a)(Object(r.a)({},this.props),{},{isOwner:!e,profile:a,status:s,updateUserStatus:o,savePhoto:c,saveProfile:n}))}}]),a}(O.a.Component),nt=Object(o.d)(Object(s.b)((function(t){return{profile:Object(n.l)(t),isAuth:Object(n.d)(t),status:Object(n.n)(t),authorizedUserID:Object(n.a)(t)}}),{getUserProfile:c.b,getUserStatus:c.c,updateUserStatus:c.g,savePhoto:c.e,saveProfile:c.f}),i.e,i.d)(ct);e.default=nt}}]);
//# sourceMappingURL=4.52a55e17.chunk.js.map