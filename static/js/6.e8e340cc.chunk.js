(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[6],{236:function(e,t,r){e.exports={login__block:"Login_login__block__3Z2Z2",login__title:"Login_login__title__r9PbQ",input__form:"Login_input__form__3jRkt",checkbox__form:"Login_checkbox__form__2CVW5",form__btn:"Login_form__btn__22JJo"}},259:function(e,t,r){e.exports={userPhoto:"User_userPhoto__2sjWQ",userBlock:"User_userBlock__36S8q",user__btn:"User_user__btn__1etat",userInfo:"User_userInfo__krqka",user__text:"User_user__text__28Av2"}},315:function(e,t,r){e.exports={users:"Users_users__xCHdX",searchResult:"Users_searchResult__3QvNG"}},316:function(e,t,r){e.exports={paginator:"Paginator_paginator__PwQWk",pageNumber:"Paginator_pageNumber__1k8yn",selectedPage:"Paginator_selectedPage__3QcoJ",user__btn:"Paginator_user__btn__1rLFG"}},321:function(e,t,r){e.exports={search:"UsersSearchForm_search__14qgv",searchForm:"UsersSearchForm_searchForm__3CETL",searchForm__block:"UsersSearchForm_searchForm__block__RUP-Z",searchForm__item__input:"UsersSearchForm_searchForm__item__input__1apqa",searchForm__item__select:"UsersSearchForm_searchForm__item__select__1Pq4c",form__btn:"UsersSearchForm_form__btn__1LJlB"}},331:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),s=r(19),a=r(3),i=r(23),o=r(315),l=r.n(o),u=r(61),_=r(65),b=r(316),j=r.n(b),d=r(259),m=r.n(d),f=r(317),h=r.n(f),O=r(1),g=function(e){for(var t=e.totalItemsCount,r=e.pageSize,c=e.currentPage,s=e.onPageChanged,a=e.portionSize,o=void 0===a?10:a,l=Math.ceil(t/r),u=[],b=1;b<=l;b++)u.push(b);var d=Math.ceil(l/o),f=Object(n.useState)(1),g=Object(i.a)(f,2),x=g[0],p=g[1],v=(x-1)*o+1,P=x*o;return Object(n.useEffect)((function(){p(Math.ceil(c/o))}),[c]),Object(O.jsxs)("div",{className:h()(j.a.paginator),children:[Object(O.jsx)("div",{children:x>1&&Object(O.jsx)("div",{className:m.a.user__btn,children:Object(O.jsx)("button",{onClick:function(){return p(x-1)},children:"PREV"})})}),Object(O.jsx)("div",{children:u.filter((function(e){return e>=v&&e<=P})).map((function(e){return Object(O.jsx)("span",{className:h()(Object(_.a)({},j.a.selectedPage,c===e),j.a.pageNumber),onClick:function(){return s(e)},children:e},e)}))}),Object(O.jsx)("div",{children:d>x&&Object(O.jsx)("div",{className:m.a.user__btn,children:Object(O.jsx)("button",{onClick:function(){return p(x+1)},children:"NEXT"})})})]})},x=r(80),p=r(15),v=r(18),P=function(e){var t=e.user,r=e.followingInProgress,n=Object(s.c)();return Object(O.jsxs)("div",{className:m.a.userBlock,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)(p.b,{to:"".concat(v.a.PROFILE).concat(t.id),children:Object(O.jsx)("img",{src:null!==t.photos.small?t.photos.small:x.a,className:m.a.userPhoto,alt:"photo",title:t.name})})}),Object(O.jsx)("div",{className:m.a.user__btn,children:t.followed?Object(O.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){return e=t.id,void n(Object(u.c)(e));var e},children:"Unfollow"}):Object(O.jsx)("button",{disabled:r.some((function(e){return e===t.id})),onClick:function(){return e=t.id,void n(Object(u.a)(e));var e},children:"Follow"})})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:m.a.userInfo,children:[Object(O.jsxs)("div",{className:m.a.userName,children:["User name : ",Object(O.jsx)("span",{className:m.a.user__text,children:t.name})]}),Object(O.jsxs)("div",{className:m.a.userStatus,children:["User status :",Object(O.jsx)("span",{className:m.a.user__text,children:t.status?t.status.slice(0,50):" empty"})]})]})})]})},N=r(327),k=r(321),F=r.n(k),S=r(328),U=Object(S.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),w=function(e){return e.usersPage.pageSize},C=function(e){return e.usersPage.totalUsersCount},I=function(e){return e.usersPage.currentPage},L=function(e){return e.usersPage.isFetching},R=function(e){return e.usersPage.followingInProgress},E=function(e){return e.usersPage.filter},y=r(236),J=r.n(y),q=function(e){return{}},z=c.a.memo((function(e){var t=e.onFilterChanged,r=Object(s.d)(E);return Object(O.jsx)("div",{className:F.a.search,children:Object(O.jsx)(N.c,{enableReinitialize:!0,initialValues:{term:r.term,friend:String(r.friend)},validate:q,onSubmit:function(e,r){var n=r.setSubmitting,c={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(c),n(!1)},children:function(e){var t=e.isSubmitting;return Object(O.jsxs)(N.b,{className:F.a.searchForm,children:[Object(O.jsxs)("div",{className:F.a.searchForm__block,children:[Object(O.jsx)(N.a,{className:F.a.searchForm__item__input,type:"text",name:"term",placeholder:"write user name"}),Object(O.jsxs)(N.a,{className:F.a.searchForm__item__select,name:"friend",as:"select",children:[Object(O.jsx)("option",{value:"null",children:"All"}),Object(O.jsx)("option",{value:"true",children:"Only followed"}),Object(O.jsx)("option",{value:"false",children:"Only unfollowed"})]})]}),Object(O.jsx)("div",{className:J.a.form__btn,children:Object(O.jsx)("button",{type:"submit",disabled:t,children:"Find"})})]})}})})})),Q=r(4),B=function(){var e=Object(s.c)(),t=Object(Q.g)(),r=Object(p.c)(),c=Object(i.a)(r,2),o=c[0],_=(c[1],o.get("page")),b=o.get("term"),j=o.get("friend"),d=Object(s.d)(C),m=Object(s.d)(I),f=Object(s.d)(w),h=Object(s.d)(E),x=Object(s.d)(U),v=Object(s.d)(R);return Object(n.useEffect)((function(){var t=m,r=h;switch(_&&(t=Number(_)),b&&(r=Object(a.a)(Object(a.a)({},r),{},{term:b})),j){case"null":r=Object(a.a)(Object(a.a)({},r),{},{friend:null});break;case"true":r=Object(a.a)(Object(a.a)({},r),{},{friend:!0});break;case"false":r=Object(a.a)(Object(a.a)({},r),{},{friend:!1})}e(Object(u.b)(t,f,r))}),[]),Object(n.useEffect)((function(){var e={};b&&(e.term=b),1!==m&&(e.page=String(m)),null!==j&&(e.friends=String(j)),t("?term=".concat(h.term,"&friend=").concat(h.friend,"&page=").concat(m))}),[h,m]),Object(O.jsxs)("div",{className:l.a.users,children:[Object(O.jsx)(z,{onFilterChanged:function(t){e(Object(u.b)(1,f,t))}}),Object(O.jsx)("div",{className:l.a.searchResult,children:x.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(P,{user:e,followingInProgress:v})},e.id)}))}),Object(O.jsx)(g,{totalItemsCount:d,pageSize:f,currentPage:m,onPageChanged:function(t){e(Object(u.b)(t,f,h))}})]})},M=r(53);t.default=function(){var e=Object(s.d)(L);return Object(O.jsxs)(O.Fragment,{children:[e?Object(O.jsx)(M.a,{}):null,Object(O.jsx)(B,{})]})}}}]);
//# sourceMappingURL=6.e8e340cc.chunk.js.map