{"version":3,"sources":["components/Login/Login.module.css","components/MainWindow/Users/Users.module.css","common/Paginator/Paginator.module.css","components/MainWindow/Users/User/User.module.css","components/MainWindow/Users/UsersSearchForm/UsersSearchForm.module.css","common/Paginator/Paginator.tsx","components/MainWindow/Users/User/User.tsx","components/MainWindow/Users/UsersSearchForm/UsersSearchForm.tsx","components/MainWindow/Users/Users.tsx","components/MainWindow/Users/UsersPage.tsx"],"names":["module","exports","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","useEffect","className","cn","styles","paginator","DisplayNone","user__btn","onClick","DisplayBlock","filter","page","map","selectedPage","pageNumber","User","user","followingInProgress","dispatch","useDispatch","style","userBlock","to","PATH","PROFILE","id","userPhoto","src","photos","small","userImage","alt","name","followed","disabled","some","userID","unFollow","user__btn_unFollow","follow","userInfo","userName","user__text","userStatus","status","slice","usersSearchFormValidate","values","UsersSearchForm","React","memo","onFilterChanged","useSelector","getUsersFilter","search","enableReinitialize","initialValues","term","friend","String","validate","onSubmit","setSubmitting","isSubmitting","searchForm","searchForm__block","searchForm__item__input","type","placeholder","searchForm__item__select","as","value","s","form__btn","Users","navigate","useNavigate","useSearchParams","searchParams","parsedPage","get","parsedTerm","parsedFriend","totalUsersCount","getTotalUsersCount","getCurrentPage","getPageSize","users","getUsers","getFollowingInProgress","actualPage","actualFilter","Number","requestUsers","query","friends","searchResult","UsersPage","isFetching","getIsFetching","Preloader"],"mappings":"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","file":"static/js/6.cb76fef8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__block\":\"Login_login__block__3Z2Z2\",\"login__title\":\"Login_login__title__r9PbQ\",\"input__form\":\"Login_input__form__3jRkt\",\"checkbox__form\":\"Login_checkbox__form__2CVW5\",\"form__btn\":\"Login_form__btn__22JJo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Users_page__18XrB\",\"users\":\"Users_users__xCHdX\",\"searchResult\":\"Users_searchResult__3QvNG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__PwQWk\",\"pageNumber\":\"Paginator_pageNumber__1k8yn\",\"selectedPage\":\"Paginator_selectedPage__3QcoJ\",\"DisplayNone\":\"Paginator_DisplayNone__3Ynwu\",\"user__btn\":\"Paginator_user__btn__1rLFG\",\"DisplayBlock\":\"Paginator_DisplayBlock__3Nm0u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"User_userPhoto__2sjWQ\",\"userBlock\":\"User_userBlock__36S8q\",\"user__btn\":\"User_user__btn__1etat\",\"user__btn_unFollow\":\"User_user__btn_unFollow__c-dqg\",\"userInfo\":\"User_userInfo__krqka\",\"user__text\":\"User_user__text__28Av2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"UsersSearchForm_search__14qgv\",\"searchForm\":\"UsersSearchForm_searchForm__3CETL\",\"searchForm__block\":\"UsersSearchForm_searchForm__block__RUP-Z\",\"searchForm__item__input\":\"UsersSearchForm_searchForm__item__input__1apqa\",\"searchForm__item__select\":\"UsersSearchForm_searchForm__item__select__1Pq4c\",\"form__btn\":\"UsersSearchForm_form__btn__1LJlB\"};","import React, {useEffect, useState} from 'react';\r\nimport styles from \"./Paginator.module.css\"\r\nimport cn from 'classnames'\r\n\r\nexport const Paginator: React.FC<UsersPropsType> = ({\r\n                                                        totalItemsCount,\r\n                                                        pageSize,\r\n                                                        currentPage,\r\n                                                        onPageChanged,\r\n                                                        portionSize = 10\r\n                                                    }) => {\r\n\r\n    const pagesCount = (Math.ceil(totalItemsCount / pageSize))\r\n    const pages: number[] = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState<number>(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    useEffect(() => {\r\n        setPortionNumber(Math.ceil(currentPage / portionSize))\r\n    }, [currentPage])\r\n\r\n    return (\r\n        <div className={cn(styles.paginator)}>\r\n            <div  className={styles.DisplayNone}>\r\n                {\r\n                    portionNumber > 1\r\n                    && <div className={styles.user__btn} onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                        <button>\r\n                            &#10096;\r\n                        </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div  className={styles.DisplayBlock}>\r\n                {\r\n                    portionNumber > 1\r\n                    && <div className={styles.user__btn} onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                        <button>\r\n                            &#10096; &#10096; &#10096;\r\n                        </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div>\r\n                {\r\n                    pages\r\n                        .filter(page => (page >= leftPortionPageNumber) && (page <= rightPortionPageNumber))\r\n                        .map(page => {\r\n                            return (\r\n                                <span className={cn({[styles.selectedPage]: currentPage === page}, styles.pageNumber)}\r\n                                      key={page}\r\n                                      onClick={() => onPageChanged(page)}>\r\n                            {page}\r\n                        </span>\r\n                            )\r\n                        })\r\n                }\r\n            </div>\r\n            <div  className={styles.DisplayNone}>\r\n                {\r\n                    portionCount > portionNumber\r\n                    && <div className={styles.user__btn} onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                        <button>\r\n                            &#10097;\r\n                        </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div   className={styles.DisplayBlock}>\r\n                {\r\n                    portionCount > portionNumber\r\n                    && <div className={styles.user__btn} onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                        <button>\r\n                            &#10097; &#10097; &#10097;\r\n                        </button>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// types=========\r\n\r\ntype UsersPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionSize?: number\r\n}\r\n","import React from 'react';\r\nimport style from \"./User.module.css\";\r\nimport userImage from \"../../../../assets/images/user.png\";\r\nimport {follow, unFollow, UserType} from \"../../../../redux/usersReducer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {PATH} from \"../../../../common/RouterPath/RouterPath\";\r\n\r\nexport const User: React.FC<UsersPropsType> = ({user, followingInProgress}) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const followHandler = (userID: string) => {\r\n        dispatch(follow(userID))\r\n    }\r\n\r\n    const unfollowHandler = (userID: string) => {\r\n        dispatch(unFollow(userID))\r\n    }\r\n\r\n    return (\r\n        <div className={style.userBlock}>\r\n            <div>\r\n                <div>\r\n                    <NavLink to={`${PATH.PROFILE}/${user.id}`}>\r\n                        <img\r\n                            className={style.userPhoto}\r\n                            src={user.photos.small !== null ? user.photos.small : userImage}\r\n                            alt={`${user.name} photo`}\r\n                        />\r\n                    </NavLink>\r\n                </div>\r\n                {\r\n                    user.followed\r\n                        ? (\r\n                            <div className={style.user__btn}>\r\n                                <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                        onClick={() => unfollowHandler(user.id)}>Unfollow\r\n                                </button>\r\n                            </div>\r\n                        ) : (\r\n                            <div className={style.user__btn_unFollow}>\r\n                                <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                        onClick={() => followHandler(user.id)}>Follow\r\n                                </button>\r\n                            </div>\r\n                        )\r\n                }\r\n            </div>\r\n            <div>\r\n                <div className={style.userInfo}>\r\n                    <div className={style.userName}>User name : <span className={style.user__text}>{user.name}</span>\r\n                    </div>\r\n                    <div className={style.userStatus}>User status :\r\n                        <span className={style.user__text}>\r\n                                {\r\n                                    user.status\r\n                                        ? user.status.slice(0, 50)\r\n                                        : \" empty\"\r\n                                }\r\n                                </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n//type\r\n\r\ntype UsersPropsType = {\r\n    user: UserType\r\n    followingInProgress: string[]\r\n}","import React from \"react\";\r\nimport {Form, Formik, Field} from \"formik\";\r\nimport style from './UsersSearchForm.module.css'\r\n\r\nimport {FilterType} from \"../../../../redux/usersReducer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../../redux/reduxStore\";\r\nimport {getUsersFilter} from \"../../../../redux/usersSelectors\";\r\nimport s from \"../../../Login/Login.module.css\";\r\n\r\nconst usersSearchFormValidate = (values: { term: string; friend: FriendFormType }) => {\r\n    const errors = {}\r\n    return errors\r\n}\r\n\r\nexport const UsersSearchForm: React.FC<PropsType> = React.memo(({onFilterChanged}) => {\r\n\r\n    const filter = useSelector<AppStateType, FilterType>(getUsersFilter)\r\n\r\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === 'null' ? null : values.friend === 'true' ? true : false\r\n        }\r\n        onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return (\r\n        <div className={style.search}>\r\n            <Formik\r\n                enableReinitialize\r\n                initialValues={{term: filter.term, friend: String(filter.friend) as FriendFormType}}\r\n                validate={usersSearchFormValidate}\r\n                onSubmit={submit}\r\n            >\r\n                {\r\n                    ({isSubmitting}) => (\r\n                        <Form className={style.searchForm}>\r\n                            <div className={style.searchForm__block}>\r\n                                <Field\r\n                                    className={style.searchForm__item__input}\r\n                                    type=\"text\"\r\n                                    name=\"term\"\r\n                                    placeholder=\"Write user name 🔎\"\r\n                                />\r\n                                <Field className={style.searchForm__item__select} name=\"friend\" as=\"select\">\r\n                                    <option value=\"null\">All</option>\r\n                                    <option value=\"true\">Only followed</option>\r\n                                    <option value=\"false\">Only unfollowed</option>\r\n                                </Field>\r\n                            </div>\r\n                            <div className={s.form__btn}>\r\n                                <button type=\"submit\" disabled={isSubmitting}>\r\n                                    Find\r\n                                </button>\r\n                            </div>\r\n                        </Form>\r\n                    )\r\n                }\r\n            </Formik>\r\n        </div>\r\n    )\r\n})\r\n\r\n//types\r\n\r\ntype PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\ntype FriendFormType = 'true' | 'false' | 'null'\r\n\r\ntype FormType = {\r\n    term: string\r\n    friend: FriendFormType\r\n}","import React, {useEffect} from 'react';\r\nimport style from './Users.module.css'\r\n\r\nimport {FilterType, requestUsers, UserType} from \"../../../redux/usersReducer\";\r\nimport {Paginator} from \"../../../common/Paginator/Paginator\";\r\nimport {User} from \"./User/User\";\r\nimport {UsersSearchForm} from \"./UsersSearchForm/UsersSearchForm\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/reduxStore\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    getUsersFilter\r\n} from \"../../../redux/usersSelectors\";\r\nimport {useNavigate, useSearchParams} from \"react-router-dom\";\r\n\r\nexport const Users: React.FC = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const [searchParams, setSearchParams] = useSearchParams()\r\n\r\n    const parsedPage = searchParams.get('page')\r\n    const parsedTerm = searchParams.get('term')\r\n    const parsedFriend = searchParams.get('friend')\r\n\r\n    const totalUsersCount = useSelector<AppStateType, number>(getTotalUsersCount)\r\n    const currentPage = useSelector<AppStateType, number>(getCurrentPage)\r\n    const pageSize = useSelector<AppStateType, number>(getPageSize)\r\n    const filter = useSelector<AppStateType, FilterType>(getUsersFilter)\r\n    const users = useSelector<AppStateType, Array<UserType>>(getUsers)\r\n    const followingInProgress = useSelector<AppStateType, Array<string>>(getFollowingInProgress)\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(requestUsers(pageNumber, pageSize, filter))\r\n    }\r\n\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(requestUsers(1, pageSize, filter))\r\n    }\r\n\r\n    useEffect(() => {\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n\r\n        if (!!parsedPage) actualPage = Number(parsedPage)\r\n        if (!!parsedTerm) actualFilter = {...actualFilter, term: parsedTerm as string}\r\n\r\n        switch (parsedFriend) {\r\n            case \"null\" :\r\n                actualFilter = {...actualFilter, friend: null}\r\n                break\r\n            case \"true\" :\r\n                actualFilter = {...actualFilter, friend: true}\r\n                break\r\n            case \"false\" :\r\n                actualFilter = {...actualFilter, friend: false}\r\n                break\r\n        }\r\n\r\n        dispatch(requestUsers(actualPage, pageSize, actualFilter))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n\r\n        const query = {} as queryObjType\r\n\r\n        if (!!parsedTerm) query.term = parsedTerm\r\n        if (currentPage !== 1) query.page = String(currentPage)\r\n        if (parsedFriend !== null) query.friends = String(parsedFriend)\r\n\r\n        navigate(`?term=${filter.term}&friend=${filter.friend}&page=${currentPage}`)\r\n\r\n    }, [filter, currentPage])\r\n\r\n    return (\r\n        <div className={style.users}>\r\n            <UsersSearchForm\r\n                onFilterChanged={onFilterChanged}\r\n            />\r\n            <div  className={style.searchResult}>\r\n                {\r\n                    users.map(user => {\r\n                            return (\r\n                                <div key={user.id}>\r\n                                    <User\r\n                                        user={user}\r\n                                        followingInProgress={followingInProgress}\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        }\r\n                    )\r\n                }\r\n            </div>\r\n            <Paginator\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\n//types====\r\n\r\ntype queryObjType = {\r\n    term: string\r\n    page: string\r\n    friends: string\r\n}\r\n","import React from 'react';\r\nimport style from './Users.module.css'\r\n\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/reduxStore\";\r\nimport {Users} from './Users';\r\nimport {Preloader} from \"../../../common/Preloader/Preloader\";\r\nimport {getIsFetching} from \"../../../redux/usersSelectors\";\r\n\r\n\r\nconst UsersPage: React.FC = () => {\r\n\r\n    const isFetching = useSelector<AppStateType, boolean>(getIsFetching)\r\n\r\n    return (\r\n        <div className={style.page}>\r\n            {isFetching ? <Preloader/> : null}\r\n            <Users/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UsersPage\r\n"],"sourceRoot":""}