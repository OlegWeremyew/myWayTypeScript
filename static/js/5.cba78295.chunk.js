(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[5],{324:function(e,t,s){e.exports={form__btn:"AddMessageForm_form__btn__1A1Fo",textarea:"AddMessageForm_textarea__1SV0Q"}},325:function(e,t,s){e.exports={chatBlock:"Chat_chatBlock__3pIRB"}},326:function(e,t,s){e.exports={message:"Message_message__3voQ6",message__item:"Message_message__item__34l0T",message__userName:"Message_message__userName__2hie8",message__img:"Message_message__img__2yvRa",message__text:"Message_message__text__36qp9"}},327:function(e,t,s){e.exports={chat__item:"Messages_chat__item__rvdcq"}},328:function(e,t,s){e.exports={chatPageBlock:"ChatPage_chatPageBlock__1fsnk",chatPage__title:"ChatPage_chatPage__title__3SkW7"}},335:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),r=s(18),n=s(77),i=s(29),_=s(23),o=s(12),j=s(324),l=s.n(j),m=s(1),b=function(){var e=Object(r.c)(),t=Object(a.useState)(o.a),s=Object(_.a)(t,2),c=s[0],j=s[1],b=Object(r.d)(i.f);return Object(m.jsxs)("div",{children:[Object(m.jsx)("textarea",{className:l.a.textarea,placeholder:"write your message \u2709",value:c,onChange:function(e){return function(e){j(e)}(e.currentTarget.value)},onKeyPress:function(t){"Enter"===t.key&&(e(Object(n.b)(c)),j(o.a))}}),Object(m.jsx)("div",{className:l.a.form__btn,onClick:function(){c.trim()&&(e(Object(n.b)(c)),j(o.a))},children:Object(m.jsx)("button",{type:"submit",disabled:"ready"!==b,children:"Send"})})]})},u=s(325),g=s.n(u),h=s(20),d=s(10),O=s(326),x=s.n(O),f=c.a.memo((function(e){var t=e.message,s="".concat(d.a.PROFILE,"/").concat(t.userId);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:x.a.message,children:[Object(m.jsxs)("div",{className:x.a.message__item,children:[Object(m.jsx)(h.b,{to:s,children:Object(m.jsx)("img",{className:x.a.message__img,src:t.photo,alt:"avatar",title:"avatar ".concat(t.userName)})}),Object(m.jsx)("div",{className:x.a.message__userName,children:t.userName}),Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:x.a.message__text,children:t.message})]}),Object(m.jsx)("hr",{})]})})),v=s(327),p=s.n(v),N=function(){var e=Object(r.c)(),t=Object(a.useState)(!1),s=Object(_.a)(t,2),c=s[0],n=s[1],o=Object(r.d)(i.e),j=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e;c&&(null===(e=j.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e,o,c]),Object(m.jsxs)("div",{className:p.a.chat__item,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop)-t.clientHeight<300?!c&&n(!0):c&&n(!1)},children:[o.map((function(e){return Object(m.jsx)(f,{message:e},e.id)})),Object(m.jsx)("div",{ref:j})]})},k=function(){var e=Object(r.c)(),t=Object(r.d)(i.f);return Object(a.useEffect)((function(){return e(Object(n.c)()),function(){e(Object(n.d)())}}),[e]),Object(m.jsxs)(m.Fragment,{children:["error"===t&&Object(m.jsx)("div",{children:"Some error occurred. Please refresh this page"}),Object(m.jsxs)("div",{className:g.a.chatBlock,children:[Object(m.jsx)(N,{}),Object(m.jsx)(b,{})]})]})},P=s(328),M=s.n(P);t.default=function(){return Object(m.jsxs)("section",{className:M.a.chatPageBlock,children:[Object(m.jsx)("div",{className:M.a.chatPage__title,children:"Common chat"}),Object(m.jsx)(k,{})]})}}}]);
//# sourceMappingURL=5.cba78295.chunk.js.map