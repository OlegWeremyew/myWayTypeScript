(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[6],{239:function(e,t,n){e.exports={login__block:"Login_login__block__2ihrM",login__title:"Login_login__title__7Ugm-",input__form:"Login_input__form__2rUJq",checkbox__form:"Login_checkbox__form__3XKIH",form__btn:"Login_form__btn__2xfw0"}},240:function(e,t,n){"use strict";n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return u}));var r=n(250),c=Object(r.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),s=function(e){return e.usersPage.pageSize},a=function(e){return e.usersPage.totalUsersCount},i=function(e){return e.usersPage.currentPage},o=function(e){return e.usersPage.isFetching},l=function(e){return e.usersPage.followingInProgress},u=function(e){return e.usersPage.filter}},264:function(e,t,n){e.exports={page:"Users_page__bEb6C",users:"Users_users__1UfkQ",searchResult:"Users_searchResult__11U_0"}},321:function(e,t,n){e.exports={paginator:"Paginator_paginator__PwQWk",pageNumber:"Paginator_pageNumber__1k8yn",selectedPage:"Paginator_selectedPage__3QcoJ",DisplayNone:"Paginator_DisplayNone__3Ynwu",user__btn:"Paginator_user__btn__1rLFG",DisplayBlock:"Paginator_DisplayBlock__3Nm0u"}},323:function(e,t,n){e.exports={userBlock:"User_userBlock__1JaOT",userPhoto:"User_userPhoto__1SFqt",user__btn:"User_user__btn__2_P7k",user__btn_unFollow:"User_user__btn_unFollow__U6I19",userInfo:"User_userInfo__10Pyt",user__text:"User_user__text__15s5V"}},327:function(e,t,n){e.exports={search:"UsersSearchForm_search__3Lonv",searchForm:"UsersSearchForm_searchForm__NnuxQ",searchForm__block:"UsersSearchForm_searchForm__block__15TOZ",searchForm__item__input:"UsersSearchForm_searchForm__item__input__1CP7O",searchForm__item__select:"UsersSearchForm_searchForm__item__select__38EZX",form__btn:"UsersSearchForm_form__btn__1EfaS"}},340:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(264),a=n.n(s),i=n(19),o=n(3),l=n(20),u=n(68),_=n(71),b=n(321),j=n.n(b),d=n(322),m=n.n(d),f=n(1),h=function(e){for(var t=e.totalItemsCount,n=e.pageSize,c=e.currentPage,s=e.onPageChanged,a=e.portionSize,i=void 0===a?10:a,o=Math.ceil(t/n),u=[],b=1;b<=o;b++)u.push(b);var d=Math.ceil(o/i),h=Object(r.useState)(1),O=Object(l.a)(h,2),g=O[0],x=O[1],p=(g-1)*i+1,v=g*i;return Object(r.useEffect)((function(){x(Math.ceil(c/i))}),[c]),Object(f.jsxs)("div",{className:m()(j.a.paginator),children:[Object(f.jsx)("div",{className:j.a.DisplayNone,children:g>1&&Object(f.jsx)("div",{className:j.a.user__btn,onClick:function(){return x(g-1)},children:Object(f.jsx)("button",{children:"\u2770"})})}),Object(f.jsx)("div",{className:j.a.DisplayBlock,children:g>1&&Object(f.jsx)("div",{className:j.a.user__btn,onClick:function(){return x(g-1)},children:Object(f.jsx)("button",{children:"\u2770 \u2770 \u2770"})})}),Object(f.jsx)("div",{children:u.filter((function(e){return e>=p&&e<=v})).map((function(e){return Object(f.jsx)("span",{className:m()(Object(_.a)({},j.a.selectedPage,c===e),j.a.pageNumber),onClick:function(){return s(e)},children:e},e)}))}),Object(f.jsx)("div",{className:j.a.DisplayNone,children:d>g&&Object(f.jsx)("div",{className:j.a.user__btn,onClick:function(){return x(g+1)},children:Object(f.jsx)("button",{children:"\u2771"})})}),Object(f.jsx)("div",{className:j.a.DisplayBlock,children:d>g&&Object(f.jsx)("div",{className:j.a.user__btn,onClick:function(){return x(g+1)},children:Object(f.jsx)("button",{children:"\u2771 \u2771 \u2771"})})})]})},O=n(323),g=n.n(O),x=n(17),p=n(85),v=n(9),N=function(e){var t=e.user,n=e.followingInProgress,r=Object(i.c)();return Object(f.jsxs)("div",{className:g.a.userBlock,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)(x.b,{to:"".concat(v.a.PROFILE,"/").concat(t.id),children:Object(f.jsx)("img",{className:g.a.userPhoto,src:null!==t.photos.small?t.photos.small:p.a,alt:"".concat(t.name," photo")})})}),t.followed?Object(f.jsx)("div",{className:g.a.user__btn,onClick:function(){return e=t.id,void r(Object(u.c)(e));var e},children:Object(f.jsx)("button",{disabled:n.some((function(e){return e===t.id})),children:"Unfollow"})}):Object(f.jsx)("div",{className:g.a.user__btn_unFollow,onClick:function(){return e=t.id,void r(Object(u.a)(e));var e},children:Object(f.jsx)("button",{disabled:n.some((function(e){return e===t.id})),children:"Follow"})})]}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:g.a.userInfo,children:[Object(f.jsx)(x.b,{to:"".concat(v.a.PROFILE,"/").concat(t.id),children:Object(f.jsxs)("div",{className:g.a.userName,children:["User name : ",Object(f.jsx)("span",{className:g.a.user__text,children:t.name})]})}),Object(f.jsxs)("div",{className:g.a.userStatus,children:["User status :",Object(f.jsx)("span",{className:g.a.user__text,children:t.status?t.status.slice(0,50):" empty"})]})]})})]})},P=n(335),k=n(327),F=n.n(k),U=n(240),S=n(239),w=n.n(S),C=function(e){return{}},y=c.a.memo((function(e){var t=e.onFilterChanged,n=Object(i.d)(U.g);return Object(f.jsx)("div",{className:F.a.search,children:Object(f.jsx)(P.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:C,onSubmit:function(e,n){var r=n.setSubmitting,c={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(f.jsxs)(P.b,{className:F.a.searchForm,children:[Object(f.jsxs)("div",{className:F.a.searchForm__block,children:[Object(f.jsx)(P.a,{className:F.a.searchForm__item__input,type:"text",name:"term",placeholder:"Write user name \ud83d\udd0e"}),Object(f.jsxs)(P.a,{className:F.a.searchForm__item__select,name:"friend",as:"select",children:[Object(f.jsx)("option",{value:"null",children:"All"}),Object(f.jsx)("option",{value:"true",children:"Only followed"}),Object(f.jsx)("option",{value:"false",children:"Only unfollowed"})]})]}),Object(f.jsx)("div",{className:w.a.form__btn,children:Object(f.jsx)("button",{type:"submit",disabled:t,children:"Find"})})]})}})})})),I=n(4),L=function(){var e=Object(i.c)(),t=Object(I.g)(),n=Object(x.c)(),c=Object(l.a)(n,2),s=c[0],_=(c[1],s.get("page")),b=s.get("term"),j=s.get("friend"),d=Object(i.d)(U.e),m=Object(i.d)(U.a),O=Object(i.d)(U.d),g=Object(i.d)(U.g),p=Object(i.d)(U.f),v=Object(i.d)(U.b);return Object(r.useEffect)((function(){var t=m,n=g;switch(_&&(t=Number(_)),b&&(n=Object(o.a)(Object(o.a)({},n),{},{term:b})),j){case"null":n=Object(o.a)(Object(o.a)({},n),{},{friend:null});break;case"true":n=Object(o.a)(Object(o.a)({},n),{},{friend:!0});break;case"false":n=Object(o.a)(Object(o.a)({},n),{},{friend:!1})}e(Object(u.b)(t,O,n))}),[]),Object(r.useEffect)((function(){var e={};b&&(e.term=b),1!==m&&(e.page=String(m)),null!==j&&(e.friends=String(j)),t("?term=".concat(g.term,"&friend=").concat(g.friend,"&page=").concat(m))}),[g,m]),Object(f.jsxs)("div",{className:a.a.users,children:[Object(f.jsx)(y,{onFilterChanged:function(t){e(Object(u.b)(1,O,t))}}),Object(f.jsx)("div",{className:a.a.searchResult,children:p.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)(N,{user:e,followingInProgress:v})},e.id)}))}),Object(f.jsx)(h,{totalItemsCount:d,pageSize:O,currentPage:m,onPageChanged:function(t){e(Object(u.b)(t,O,g))}})]})},D=n(55);t.default=function(){var e=Object(i.d)(U.c);return Object(f.jsxs)("section",{className:a.a.page,children:[e?Object(f.jsx)(D.a,{}):null,Object(f.jsx)(L,{})]})}}}]);
//# sourceMappingURL=6.80f7e00f.chunk.js.map