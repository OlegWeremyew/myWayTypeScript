(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[6],{247:function(e,t,s){e.exports={login__block:"Login_login__block__2h76V",login__title:"Login_login__title__3yyRU",input__form:"Login_input__form__dPp6f",checkbox__form:"Login_checkbox__form__3rk2n",form__btn:"Login_form__btn__cQeTw"}},317:function(e,t,s){e.exports={userBlock:"User_userBlock__2Pgh_",userPhoto:"User_userPhoto__2IJmc",user__btn:"User_user__btn__3HSm4",user__btn_unFollow:"User_user__btn_unFollow__3cxyA",userInfo:"User_userInfo__iy0Za",user__text:"User_user__text__BYHaG"}},318:function(e,t,s){e.exports={users:"Users_users__3S8CH",searchResult:"Users_searchResult__3MxiP"}},322:function(e,t,s){e.exports={search:"UsersSearchForm_search__3PVi5",searchForm:"UsersSearchForm_searchForm__3rPLN",searchForm__block:"UsersSearchForm_searchForm__block__1dAsY",searchForm__item__input:"UsersSearchForm_searchForm__item__input__Yg97o",searchForm__item__select:"UsersSearchForm_searchForm__item__select__3soMl",form__btn:"UsersSearchForm_form__btn__13vij"}},323:function(e,t,s){e.exports={page:"UsersPage_page__2blhX"}},336:function(e,t,s){"use strict";s.r(t);var c=s(0),r=s.n(c),n=s(18),a=s(34),i=s(29),o=s(2),_=s(23),l=s(4),u=s(20),b=s(78),j=s(96),d=s(10),m=s(317),h=s.n(m),O=s(1),f=function(e){var t=e.user,s=e.followingInProgress,c=Object(n.c)();return Object(O.jsxs)("div",{className:h.a.userBlock,children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:Object(O.jsx)(u.b,{to:"".concat(d.a.PROFILE,"/").concat(t.id),children:Object(O.jsx)("img",{className:h.a.userPhoto,src:null!==t.photos.small?t.photos.small:j.a,alt:"".concat(t.name," photo")})})}),t.followed?Object(O.jsx)("div",{className:h.a.user__btn,onClick:function(){return e=t.id,void c(Object(b.c)(e));var e},children:Object(O.jsx)("button",{type:"button",disabled:s.some((function(e){return e===t.id})),children:"Unfollow"})}):Object(O.jsx)("div",{className:h.a.user__btn_unFollow,onClick:function(){return e=t.id,void c(Object(b.a)(e));var e},children:Object(O.jsx)("button",{type:"button",disabled:s.some((function(e){return e===t.id})),children:"Follow"})})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:h.a.userInfo,children:[Object(O.jsx)(u.b,{to:"".concat(d.a.PROFILE,"/").concat(t.id),children:Object(O.jsxs)("div",{className:h.a.userName,children:["User name : ",Object(O.jsx)("span",{className:h.a.user__text,children:t.name})]})}),Object(O.jsxs)("div",{className:h.a.userStatus,children:["User status :",Object(O.jsx)("span",{className:h.a.user__text,children:t.status?t.status.slice(0,50):" empty"})]})]})})]})},x=s(318),g=s.n(x),p=s(331),v=s(247),F=s.n(v),N=s(322),k=s.n(N),U=function(e){return{}},w=r.a.memo((function(e){var t=e.onFilterChanged,s=Object(n.d)(i.o);return Object(O.jsx)("div",{className:k.a.search,children:Object(O.jsx)(p.c,{enableReinitialize:!0,initialValues:{term:s.term,friend:String(s.friend)},validate:U,onSubmit:function(e,s){var c=s.setSubmitting,r={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(r),c(!1)},children:function(e){var t=e.isSubmitting;return Object(O.jsxs)(p.b,{className:k.a.searchForm,children:[Object(O.jsxs)("div",{className:k.a.searchForm__block,children:[Object(O.jsx)(p.a,{className:k.a.searchForm__item__input,type:"text",name:"term",placeholder:"Write user name \ud83d\udd0e"}),Object(O.jsxs)(p.a,{className:k.a.searchForm__item__select,name:"friend",as:"select",children:[Object(O.jsx)("option",{value:"null",children:"All"}),Object(O.jsx)("option",{value:"true",children:"Only followed"}),Object(O.jsx)("option",{value:"false",children:"Only unfollowed"})]})]}),Object(O.jsx)("div",{className:F.a.form__btn,children:Object(O.jsx)("button",{type:"submit",disabled:t,children:"Find users \ud83d\udd0e"})})]})}})})})),S=s(27),P=function(){var e=Object(n.c)(),t=Object(l.g)(),s=Object(u.c)(),r=Object(_.a)(s,1)[0],i=r.get("page"),j=r.get("term"),d=r.get("friend"),m=Object(n.d)(S.e),h=Object(n.d)(S.a),x=Object(n.d)(S.d),p=Object(n.d)(S.g),v=Object(n.d)(S.f),F=Object(n.d)(S.b);return Object(c.useEffect)((function(){var t=h,s=p;switch(i&&(t=Number(i)),j&&(s=Object(o.a)(Object(o.a)({},s),{},{term:j})),d){case"null":s=Object(o.a)(Object(o.a)({},s),{},{friend:null});break;case"true":s=Object(o.a)(Object(o.a)({},s),{},{friend:!0});break;case"false":s=Object(o.a)(Object(o.a)({},s),{},{friend:!1})}e(Object(b.b)(t,x,s))}),[]),Object(c.useEffect)((function(){var e={};j&&(e.term=j),1!==h&&(e.page=String(h)),null!==d&&(e.friends=String(d));var s="?term=".concat(p.term,"&friend=").concat(p.friend,"&page=").concat(h);t(s)}),[p,h]),Object(O.jsxs)("div",{className:g.a.users,children:[Object(O.jsx)(w,{onFilterChanged:function(t){e(Object(b.b)(1,x,t))}}),Object(O.jsx)("div",{className:g.a.searchResult,children:v.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(f,{user:e,followingInProgress:F})},e.id)}))}),Object(O.jsx)(a.d,{totalItemsCount:m,pageSize:x,currentPage:h,onPageChanged:function(t){e(Object(b.b)(t,x,p))}})]})},y=s(323),I=s.n(y);t.default=function(){var e=Object(n.d)(i.h);return Object(O.jsxs)("section",{className:I.a.page,children:[e?Object(O.jsx)(a.e,{}):null,Object(O.jsx)(P,{})]})}}}]);
//# sourceMappingURL=6.930d9c23.chunk.js.map