(this.webpackJsonpmyWayTypeScript=this.webpackJsonpmyWayTypeScript||[]).push([[0],{14:function(e,t,s){e.exports={ground:"ProfileInfo_ground__1iuZd",ava:"ProfileInfo_ava__1jSav",avatar:"ProfileInfo_avatar__22Iyr"}},23:function(e,t,s){e.exports={dialogs:"Messages_dialogs__3WgMj",dialogItem:"Messages_dialogItem__3jFPD",dialog:"Messages_dialog__GFzRM"}},25:function(e,t,s){e.exports={appContent:"App_appContent__31heF",appContentWindow:"App_appContentWindow__2gnhC"}},27:function(e,t,s){e.exports={userPhoto:"Users_userPhoto__jEelu",selectedPage:"Users_selectedPage__2nEHL"}},28:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__FQQlZ",posts:"MyPosts_posts__YPrmi"}},29:function(e,t,s){e.exports={item:"Post_item__1LZi-",itemText:"Post_itemText__3jxIt"}},38:function(e,t,s){e.exports={header:"Header_header__2rKXS"}},39:function(e,t,s){e.exports={footer:"Footer_footer__3XO3I"}},4:function(e,t,s){e.exports={nav:"Navbar_nav__ySm9p",item:"Navbar_item__2xv0e",activeLink:"Navbar_activeLink__1hYAc"}},40:function(e,t,s){e.exports={news:"News_news__16Ki9"}},41:function(e,t,s){e.exports={music:"Music_music__20urC"}},42:function(e,t,s){e.exports={friends:"Friends_friends__2fVYI"}},43:function(e,t,s){e.exports={settings:"Settings_settings__ZkkZz"}},44:function(e,t,s){e.exports={message:"Message_message__1KS8B"}},45:function(e,t,s){e.exports={dialog:"DialogsItem_dialog__2sybv"}},47:function(e,t,s){e.exports={preloader:"Preloader_preloader__1Oc1j"}},48:function(e,t,s){e.exports={profile:"Profile_profile__3Z-pR",ava:"Profile_ava__3Hnfg"}},53:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(17),c=s.n(i),r=(s(53),s(13)),o=s(10),l=s(3),u={posts:[{message:"Hello",likesCount:12,id:1},{message:"Dinosaurus are great",likesCount:17,id:2}],newPostText:"",profile:null},d=function(){return{type:"ADD_POST"}},j=function(e){return{type:"UPDATE_NEW_POST_TEXT",newText:e}},p={users:[{name:"Oleg",id:1,img:"https://avatars.mds.yandex.net/get-zen_doc/3986249/pub_607ecd1d13c71c1ca8a34192_607ee065330a4f14d551104b/scale_1200"},{name:"Diana",id:2,img:"https://avatars.mds.yandex.net/i?id=64b380ea3aa0d80cad94cb1a24a3b3f5-4233014-images-thumbs&ref=rim&n=33&w=150&h=150"},{name:"Fat cat",id:3,img:"https://data.whicdn.com/images/310252363/original.jpg"},{name:"Dimka",id:4,img:"https://i.pinimg.com/originals/b7/44/46/b744464dd3d970ad96745be8de69d755.jpg"},{name:"Ella",id:5,img:"https://st.depositphotos.com/1023162/5099/i/950/depositphotos_50991807-stock-photo-sexy-woman-in-fashion-sunglasses.jpg"},{name:"Makar",id:6,img:"https://avatars.mds.yandex.net/i?id=55d09aa1629f72a149098b2c3127e039-5222024-images-thumbs&ref=rim&n=33&w=150&h=150"}],messages:[{message:"Hi",id:1},{message:"Ho",id:2},{message:"He",id:3},{message:"Hu",id:4},{message:"Hio",id:5},{message:"Hia",id:6}],newMessageText:""},g=function(e){return{type:"UPDATE_NEW_MESSAGE_TEXT",newMessage:e}},b={},m={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1},h=Object(r.a)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var s={id:(new Date).getTime(),message:e.newPostText,likesCount:12};return Object(l.a)(Object(l.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[s]),newPostText:""});case"UPDATE_NEW_POST_TEXT":return Object(l.a)(Object(l.a)({},e),{},{newPostText:t.newText});case"SET-USER-PROFILE":return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});default:return e}},messagesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":var s={id:(new Date).getTime(),message:e.newMessageText};return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(o.a)(e.messages),[s]),newMessageText:""});case"UPDATE_NEW_MESSAGE_TEXT":return Object(l.a)(Object(l.a)({},e),{},{newMessageText:t.newMessage});default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(l.a)(Object(l.a)({},e),{},{followed:!0}):e}))});case"UNFOLLOW":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userID?Object(l.a)(Object(l.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(l.a)(Object(l.a)({},e),{},{users:Object(o.a)(t.users)});case"SET-CURRENT-PAGE":return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-USERS-COUNT":return Object(l.a)(Object(l.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE-IS-FETCHING":return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});default:return e}}}),O=Object(r.c)(h),f=s(25),x=s.n(f),v=s(38),_=s.n(v),P=s.p+"static/media/logo.cbfad428.png",T=s(0),w=function(){return Object(T.jsx)("header",{className:_.a.header,children:Object(T.jsx)("img",{src:P,alt:"logo",title:"image logo"})})},N=s(4),y=s.n(N),S=s(5),E=function(){return Object(T.jsxs)("nav",{className:y.a.nav,children:[Object(T.jsx)("div",{className:y.a.item,children:Object(T.jsx)(S.b,{className:function(e){return e.isActive?y.a.activeLink:""},to:"/profile",children:"Profile"})}),Object(T.jsx)("div",{className:"".concat(y.a.item," ").concat(y.a.active),children:Object(T.jsx)(S.b,{className:function(e){return e.isActive?y.a.activeLink:""},to:"/messages",children:"Message"})}),Object(T.jsx)("div",{className:"".concat(y.a.item," ").concat(y.a.active),children:Object(T.jsx)(S.b,{className:function(e){return e.isActive?y.a.activeLink:""},to:"/users",children:"Users"})}),Object(T.jsx)("div",{className:y.a.item,children:Object(T.jsx)(S.b,{className:function(e){return e.isActive?y.a.activeLink:""},to:"/news",children:"News"})}),Object(T.jsx)("div",{className:y.a.item,children:Object(T.jsx)(S.b,{className:function(e){return e.isActive?y.a.activeLink:""},to:"/music",children:"Music"})}),Object(T.jsx)("div",{className:y.a.item,children:Object(T.jsx)(S.b,{className:function(e){return e.isActive?y.a.activeLink:""},to:"/settings",children:"Settings"})}),Object(T.jsx)("div",{className:y.a.item,children:Object(T.jsx)(S.b,{className:function(e){return e.isActive?y.a.activeLink:""},to:"/friends",children:"Friends"})})]})},C=s(39),k=s.n(C),U=function(){return Object(T.jsx)("div",{className:k.a.footer,children:"Footer"})},A=s(2),I=s(40),M=s.n(I),F=function(){return Object(T.jsx)("div",{className:M.a.news,children:"News"})},D=s(41),L=s.n(D),W=function(){return Object(T.jsx)("div",{className:L.a.music,children:"Music"})},R=s(42),G=s.n(R),z=function(){return Object(T.jsx)("div",{className:G.a.friends,children:"Friends"})},H=s(43),X=s.n(H),Z=function(){return Object(T.jsx)("div",{className:X.a.settings,children:"Settings"})},K=s(23),Y=s.n(K),B=s(44),J=s.n(B),Q=function(e){return Object(T.jsx)("div",{className:J.a.message,children:e.message})},q=s(45),V=s.n(q),$=function(e){var t="/messages/"+e.id;return Object(T.jsxs)("div",{className:V.a.dialog,children:[Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:e.img})}),Object(T.jsx)("div",{children:Object(T.jsx)(S.b,{to:t,children:e.name})})]})},ee=function(e){var t=e.messagesPage.users.map((function(e){return Object(T.jsx)($,{name:e.name,id:e.id,img:e.img},e.id)})),s=e.messagesPage.messages.map((function(e){return Object(T.jsx)(Q,{message:e.message,id:e.id},e.id)}));return Object(T.jsxs)("div",{className:Y.a.dialogs,children:[Object(T.jsx)("div",{className:Y.a.dialogItem,children:t}),Object(T.jsxs)("div",{className:Y.a.messages,children:[s,Object(T.jsx)("div",{children:Object(T.jsx)("textarea",{onChange:function(t){var s=t.currentTarget.value;e.onMessagePost(s)},value:e.messagesPage.newMessageText,rows:10,cols:44,placeholder:"Write your message"})}),Object(T.jsx)("div",{children:Object(T.jsx)("button",{disabled:""===e.messagesPage.newMessageText.trim(),onClick:function(){e.addMessage()},children:"Add message"})})]})]})},te=s(8),se=Object(te.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{addMessage:function(){e({type:"ADD_MESSAGE"})},onMessagePost:function(t){e(g(t||""))}}}))(ee),ne=s(18),ae=s(19),ie=s(22),ce=s(21),re=s(27),oe=s.n(re),le=s.p+"static/media/user.00d92f05.png",ue=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize)/200,s=[],n=1;n<=t;n++)s.push(n);return Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:s.map((function(t){return Object(T.jsx)("span",{className:e.currentPage===t?oe.a.selectedPage:"",onClick:function(){e.onPageChanged(t)},children:t})}))}),e.users.map((function(t){return Object(T.jsxs)("div",{children:[Object(T.jsxs)("span",{children:[Object(T.jsx)("div",{children:Object(T.jsx)(S.b,{to:"/profile/"+t.id,children:Object(T.jsx)("img",{src:null!==t.photos.small?t.photos.small:le,className:oe.a.userPhoto,alt:"photo"})})}),Object(T.jsx)("div",{children:t.followed?Object(T.jsx)("button",{onClick:function(){return e.unfollow(t.id)},children:"Unfollow"}):Object(T.jsx)("button",{onClick:function(){return e.follow(t.id)},children:"Follow"})})]}),Object(T.jsxs)("span",{children:[Object(T.jsxs)("span",{children:[Object(T.jsx)("div",{children:t.name}),Object(T.jsx)("div",{children:t.status})]}),Object(T.jsxs)("span",{children:[Object(T.jsx)("div",{children:"m.location.country"}),Object(T.jsx)("div",{children:"m.location.city"})]})]})]},t.id)}))]})},de=s.p+"static/media/preloader.1952935e.gif",je=s(47),pe=s.n(je),ge=function(){return Object(T.jsx)("div",{children:Object(T.jsx)("img",{src:de,className:pe.a.preloader,alt:"preloader"})})},be=s(20),me=s.n(be),he=me.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f5a121b3-d5d2-4866-a73a-ab1418f0e4d8"}}),Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return he.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},fe=function(e){Object(ie.a)(s,e);var t=Object(ce.a)(s);function s(){var e;Object(ne.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setCurrentPage(t),e.props.toggleIsFetching(!0),Oe(t,e.props.pageSize).then((function(t){e.props.setUsers(t.items),e.props.toggleIsFetching(!1)}))},e}return Object(ae.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),Oe(1,this.props.pageSize).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.items),e.props.setTotalUsersCount(t.totalCount)}))}},{key:"render",value:function(){return Object(T.jsxs)(T.Fragment,{children:[this.props.isFetching?Object(T.jsx)(ge,{}):null,Object(T.jsx)(ue,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow})]})}}]),s}(a.a.Component),xe=Object(te.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:"FOLLOW",userID:e}},unfollow:function(e){return{type:"UNFOLLOW",userID:e}},setUsers:function(e){return{type:"SET-USERS",users:e}},setCurrentPage:function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},setTotalUsersCount:function(e){return{type:"SET-TOTAL-USERS-COUNT",count:e}},toggleIsFetching:function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}}})(fe),ve=s(48),_e=s.n(ve),Pe=s(14),Te=s.n(Pe),we=s.p+"static/media/avatar_for_profile.e4c1e159.jpg",Ne=function(e){return Object(T.jsxs)("div",{className:Te.a.profile,children:[Object(T.jsx)("div",{className:Te.a.ground,children:Object(T.jsx)("img",{src:"https://img.lovepik.com/photo/50066/7884.jpg_wh860.jpg",alt:"fon image",title:"fon image"})}),Object(T.jsxs)("div",{className:Te.a.avatarBlock,children:[Object(T.jsx)("div",{className:Te.a.avatar,children:Object(T.jsx)("img",{alt:"ava",src:e.profile&&null!==e.profile.photos.large?e.profile.photos.large:we})}),Object(T.jsx)("div",{children:"ava + description"})]})]})},ye=s(28),Se=s.n(ye),Ee=s(29),Ce=s.n(Ee),ke=function(e){return Object(T.jsxs)("div",{className:Ce.a.item,children:[Object(T.jsx)("img",{src:"https://slovami.net/wp-content/uploads/thumbs_dir/the-most-beautiful-guys-russia-4-1-nwkkkydf2f1mhw9a4ijzfs2ktasvevyjiyi4xibqis.jpg",alt:"ava",title:"ava"}),Object(T.jsxs)("div",{className:Ce.a.itemText,children:[e.message,Object(T.jsx)("div",{children:Object(T.jsxs)("span",{children:["like: ",e.likesCount]})})]})]},e.id)},Ue=function(e){var t=e.profilePage.posts.map((function(e){return Object(T.jsx)(ke,{message:e.message,likesCount:e.likesCount,id:e.id},e.id)}));return Object(T.jsxs)("div",{className:Se.a.myPosts,children:[Object(T.jsx)("h3",{children:"My posts"}),Object(T.jsxs)("div",{children:[Object(T.jsx)("div",{children:Object(T.jsx)("textarea",{onChange:function(t){var s=t.currentTarget.value;e.updateNewPostText(s)},value:e.profilePage.newPostText,placeholder:"Write your message"})}),Object(T.jsx)("div",{children:Object(T.jsx)("button",{disabled:""===e.profilePage.newPostText.trim(),onClick:function(){e.onAddPost()},children:"Add post"})})]}),Object(T.jsx)("div",{className:Se.a.posts,children:t})]})},Ae=Object(te.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{onAddPost:function(){e({type:"ADD_POST"})},updateNewPostText:function(t){e(j(t||""))}}}))(Ue),Ie=function(e){return Object(T.jsxs)("div",{className:_e.a.profile,children:[Object(T.jsx)(Ne,{profile:e.profile}),Object(T.jsx)(Ae,{})]})},Me=function(e){Object(ie.a)(s,e);var t=Object(ce.a)(s);function s(){return Object(ne.a)(this,s),t.apply(this,arguments)}return Object(ae.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.userId;t||(t="2"),me.a.get("https://social-network.samuraijs.com/api/1.0/profile/"+t).then((function(t){e.props.setUserProfile(t.data)}))}},{key:"render",value:function(){return Object(T.jsx)(Ie,{profile:this.props.profile})}}]),s}(a.a.Component),Fe=Object(r.b)(Object(te.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:"SET-USER-PROFILE",profile:e}},addPost:d,updateNewPostText:j}),(function(e){return function(t){var s=Object(A.g)(),n=Object(A.e)();return Object(T.jsx)(e,Object(l.a)(Object(l.a)({},t),{},{userId:s.userId,location:n}))}}))(Me);var De=function(){return Object(T.jsxs)("main",{className:x.a.appContent,children:[Object(T.jsx)(w,{}),Object(T.jsx)(E,{}),Object(T.jsx)("div",{className:x.a.appContentWindow,children:Object(T.jsxs)(A.c,{children:[Object(T.jsx)(A.a,{path:"/profile/",element:Object(T.jsx)(Fe,{}),children:Object(T.jsx)(A.a,{path:":userId",element:Object(T.jsx)(Fe,{})})}),Object(T.jsx)(A.a,{path:"/messages/",element:Object(T.jsx)(se,{}),children:Object(T.jsx)(A.a,{path:":userId",element:Object(T.jsx)(se,{})})}),Object(T.jsx)(A.a,{path:"/users/*",element:Object(T.jsx)(xe,{})}),Object(T.jsx)(A.a,{path:"/news/*",element:Object(T.jsx)(F,{})}),Object(T.jsx)(A.a,{path:"/music/*",element:Object(T.jsx)(W,{})}),Object(T.jsx)(A.a,{path:"/settings/*",element:Object(T.jsx)(Z,{})}),Object(T.jsx)(A.a,{path:"/friends/*",element:Object(T.jsx)(z,{})})]})}),Object(T.jsx)(U,{})]})};c.a.render(Object(T.jsx)(S.a,{children:Object(T.jsx)(te.a,{store:O,children:Object(T.jsx)(De,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.e6c615e9.chunk.js.map