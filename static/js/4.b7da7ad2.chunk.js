(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[4],{234:function(t,e,s){"use strict";s.d(e,"b",(function(){return _})),s.d(e,"a",(function(){return j})),s.d(e,"c",(function(){return d}));var a=s(3),c=s(241),o=(s(0),s(235)),n=s.n(o),i=s(114),r=s(1),l=function(t){var e=t.meta,s=e.touched,a=e.error,c=t.children,o=s&&a,i=o?n.a.error:"";return Object(r.jsxs)("div",{className:n.a.formControl+" "+i,children:[Object(r.jsx)("div",{children:c}),Object(r.jsx)("div",{children:o&&Object(r.jsx)("span",{children:a})})]})},_=function(t){var e=t.input,s=(t.meta,Object(c.a)(t,["input","meta"]));return Object(r.jsx)(l,Object(a.a)(Object(a.a)({},t),{},{children:Object(r.jsx)("textarea",Object(a.a)(Object(a.a)({className:n.a.textarea},e),s))}))},j=function(t){var e=t.input,s=(t.meta,Object(c.a)(t,["input","meta"]));return Object(r.jsx)(l,Object(a.a)(Object(a.a)({},t),{},{children:Object(r.jsx)("input",Object(a.a)(Object(a.a)({className:n.a.input},e),s))}))};function d(t,e,s,c,o,n){return Object(r.jsxs)("div",{children:[Object(r.jsx)(i.a,Object(a.a)({placeholder:t,name:e,component:c,validate:s},o))," ",n]})}},235:function(t,e,s){t.exports={formControl:"FormsControls_formControl__2wdsi",error:"FormsControls_error__2ik_3",formSummaryError:"FormsControls_formSummaryError__3OqQc",textarea:"FormsControls_textarea__NbXeH"}},237:function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"a",(function(){return c}));var a=function(t){if(!t)return"Field is required"},c=function(t){return function(e){if(e.length>t)return"Max length is ".concat(t," symbols")}}},239:function(t,e,s){t.exports={login__block:"Login_login__block__2ihrM",login__title:"Login_login__title__7Ugm-",input__form:"Login_input__form__2rUJq",checkbox__form:"Login_checkbox__form__3XKIH",form__btn:"Login_form__btn__2xfw0"}},248:function(t,e,s){"use strict";s.d(e,"a",(function(){return _}));var a=s(3),c=s(241),o=(s(0),s(4)),n=s(19),i=s(9),r=s(1),l=function(t){return{isAuth:t.auth.isAuth}};function _(t){return Object(n.b)(l)((function(e){var s=e.isAuth,n=Object(c.a)(e,["isAuth"]);return s?Object(r.jsx)(t,Object(a.a)({},n)):Object(r.jsx)(o.a,{to:i.a.LOGIN})}))}},263:function(t,e,s){t.exports={profile:"ProfileInfo_profile__2Yo9y",avatarBlock:"ProfileInfo_avatarBlock__2ASvU",avatar:"ProfileInfo_avatar__22Iyr",mainPhoto:"ProfileInfo_mainPhoto__1HIt9",profile__inner:"ProfileInfo_profile__inner__2gQFC",addedPhoto__btn:"ProfileInfo_addedPhoto__btn__2LFy0",view__btn:"ProfileInfo_view__btn__15MPv",avatarEdit:"ProfileInfo_avatarEdit__18rPK"}},314:function(t,e,s){t.exports={profile:"Profile_profile__3Z-pR"}},315:function(t,e,s){t.exports={statusText:"ProfileStatus_statusText__17cZK",activeInput:"ProfileStatus_activeInput__y93fa",status__text:"ProfileStatus_status__text__1QW_f",status__pencil:"ProfileStatus_status__pencil__23GNR",main:"ProfileStatus_main__ht-pm"}},316:function(t,e,s){t.exports={saveEdit__btn:"ProfileDataForm_saveEdit__btn__dBpLd",formContainer:"ProfileDataForm_formContainer__1dZzi",form_edit:"ProfileDataForm_form_edit__fKSjr",formBlock:"ProfileDataForm_formBlock__2TEvJ",formBlock__check:"ProfileDataForm_formBlock__check__1xywX",contactsBlock:"ProfileDataForm_contactsBlock__24S0A",contacts__Title:"ProfileDataForm_contacts__Title__Lef2r",contact__item:"ProfileDataForm_contact__item__2obQ2"}},317:function(t,e,s){t.exports={activateEdit__btn:"ProfileData_activateEdit__btn__2kEEp",formBlock:"ProfileData_formBlock__3CfgK",contacts__container:"ProfileData_contacts__container__3T5li",contacts__Title:"ProfileData_contacts__Title__3gmX9",contact__item:"ProfileData_contact__item__GdbPj",contactsRow:"ProfileData_contactsRow__3xBuW",contactsBlock:"ProfileData_contactsBlock__2YCc8",contactsBlock__item:"ProfileData_contactsBlock__item__1ZGzu",contacts__text:"ProfileData_contacts__text__RJrWs",icon:"ProfileData_icon__1sdxe",formBlock__title:"ProfileData_formBlock__title__2eEKn"}},318:function(t,e,s){t.exports={formBlock:"Contact_formBlock__3G5hX"}},319:function(t,e,s){t.exports={myPosts:"MyPosts_myPosts__FQQlZ",post__title:"MyPosts_post__title__3Ccz0",form__btn:"MyPosts_form__btn__2ny5Z"}},320:function(t,e,s){t.exports={item:"Post_item__1LZi-",itemText:"Post_itemText__3jxIt",postAvatar:"Post_postAvatar__3nqPd",likeCounter:"Post_likeCounter__2nedA",notActive:"Post_notActive__1kUZL",active:"Post_active__28QVg",activeBlock:"Post_activeBlock__xoMef",fingerUp:"Post_fingerUp__pYmx6",reaction:"Post_reaction__3c_p3",form__btn:"Post_form__btn__1mdJC",delete__btn:"Post_delete__btn__2HU7q"}},337:function(t,e,s){"use strict";s.r(e);var a=s(3),c=s(58),o=s(59),n=s(69),i=s(67),r=s(0),l=s.n(r),_=s(314),j=s.n(_),d=s(6),u=s.n(d),b=s(8),f=s(20),m=s(263),p=s.n(m),h=s.p+"static/media/avatar_for_profile.e4c1e159.jpg",O=s(55),x=s(315),v=s.n(x),k=s(1),P=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(){var t;Object(c.a)(this,s);for(var a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))).state={editMode:!1,status:t.props.status,isOwner:t.props.isOwner},t.activateEditMode=function(){t.props.isOwner&&t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateUserStatus(t.state.status)},t.onStatusChange=function(e){t.setState({status:e.currentTarget.value})},t}return Object(o.a)(s,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Object(k.jsxs)("div",{className:v.a.main,children:[!this.state.editMode&&Object(k.jsxs)("div",{className:v.a.statusText,children:[Object(k.jsx)("h3",{children:"Status: "}),Object(k.jsxs)("span",{className:v.a.status__text,onDoubleClick:this.activateEditMode,children:[this.props.status||"------",Object(k.jsx)("span",{className:v.a.status__pencil,children:"\xa0\u270e"})]})]}),this.state.editMode&&Object(k.jsxs)("div",{className:v.a.activeInput,children:[Object(k.jsx)("h3",{children:"Status:"}),Object(k.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,value:this.state.status,onBlur:this.deactivateEditMode})]})]})}}]),s}(l.a.Component),N=s(316),g=s.n(N),y=s(234),w=s(115),B=Object(w.a)({form:"edit-profile"})((function(t){var e=t.profile,s=t.handleSubmit,a=t.error;return e?Object(k.jsxs)("form",{className:g.a.formContainer,onSubmit:s,children:[Object(k.jsx)("span",{className:g.a.contacts__Title,children:"Little about me:"}),Object(k.jsxs)("div",{className:g.a.form_edit,children:[Object(k.jsxs)("div",{className:g.a.formBlock,children:[Object(k.jsx)("span",{children:"Full name:"}),Object(y.c)("Full name","fullname",[],y.a,{type:"text"},"")]}),Object(k.jsxs)("div",{className:g.a.formBlock__check,children:[Object(k.jsx)("span",{children:"Looking for a job:"}),Object(y.c)("","lookingForAJob",[],y.a,{type:"checkbox"},"")]}),Object(k.jsxs)("div",{className:g.a.formBlock,children:[Object(k.jsx)("span",{children:"My professional skills:"}),Object(y.c)("My professional skills","lookingForAJobDescription",[],y.a,{type:"textarea"},"")]}),Object(k.jsxs)("div",{className:g.a.formBlock,children:[Object(k.jsx)("span",{children:"About me:"}),Object(y.c)("About me","aboutMe",[],y.a,{type:"textarea"},"")]}),Object(k.jsx)("span",{className:g.a.contacts__Title,children:"My contacts:"}),Object(k.jsx)("div",{className:g.a.contactsBlock,children:Object.keys(e.contacts).map((function(t){return Object(k.jsx)("div",{className:g.a.contact__item,children:Object(k.jsxs)("span",{children:[t,":",Object(y.c)(t,"contacts.".concat(t),[],y.a,{type:"text"},"")]})},t)}))})]}),Object(k.jsxs)("div",{className:g.a.saveEdit__btn,children:[Object(k.jsx)("button",{children:"Save"}),a&&Object(k.jsx)("div",{children:a})]})]}):Object(k.jsx)(O.a,{})})),S=s(317),C=s.n(S),M=s(318),I=s.n(M),A=function(t){var e=t.contactTitle,s=t.contactValue;return Object(k.jsxs)("div",{className:I.a.formBlock,children:[Object(k.jsxs)("b",{children:[Object(k.jsxs)("a",{href:s||"",children:[" ",e]}),":"]}),s?Object(k.jsx)("span",{className:I.a.address,children:s}):Object(k.jsx)("span",{className:I.a.address,children:'"Information is not provided"'})]})},F=function(t){var e=t.profile,s=t.isOwner,a=t.goToEditMode;return e?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:C.a.contacts__Title,children:"Little about me:"}),Object(k.jsxs)("div",{className:C.a.formBlock,children:[Object(k.jsx)("div",{className:C.a.formBlock__title,children:"Full name:"}),Object(k.jsx)("div",{children:e.fullName})]}),Object(k.jsxs)("div",{className:C.a.formBlock,children:[Object(k.jsx)("div",{className:C.a.formBlock__title,children:"Looking for a job:"}),Object(k.jsx)("div",{children:e.lookingForAJob?"I'm looking for a job":"no, I'm not looking for a job at the moment"})]}),Object(k.jsxs)("div",{className:C.a.formBlock,children:[Object(k.jsx)("div",{className:C.a.formBlock__title,children:"My professional skills:"}),Object(k.jsx)("div",{children:e.lookingForAJobDescription})]}),Object(k.jsxs)("div",{className:C.a.formBlock,children:[Object(k.jsx)("div",{className:C.a.formBlock__title,children:"About me:"}),Object(k.jsx)("div",{children:e.aboutMe})]}),Object(k.jsxs)("div",{className:C.a.contacts__container,children:[Object(k.jsx)("span",{className:C.a.contacts__Title,children:"My contacts:"}),Object(k.jsxs)("div",{className:C.a.contacts__text,children:["If you want to go to my web pages - click on the title below",Object(k.jsx)("span",{children:" \u261f"})]}),Object(k.jsx)("div",{className:C.a.contactsBlock,children:Object.keys(e.contacts).map((function(t){return Object(k.jsxs)("div",{className:C.a.contactsBlock__item,children:[Object(k.jsx)("span",{className:C.a.icon,children:"\u2713 "}),Object(k.jsx)(A,{contactTitle:t,contactValue:e.contacts[t]})]},t)}))})]}),s&&Object(k.jsx)("div",{className:C.a.activateEdit__btn,onClick:a,children:Object(k.jsx)("button",{children:"Edit contacts"})})]})}):Object(k.jsx)(O.a,{})},D=function(t){var e=t.editMode,s=t.profile,a=t.onSubmit,c=t.isOwner,o=t.setEditModeHandler,n=t.disableViewMode;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:p.a.view__btn,onClick:n,children:Object(k.jsx)("button",{children:"Hide contacts"})}),e?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(B,{initialValues:s,profile:s,onSubmit:a})}):Object(k.jsx)(F,{profile:s,isOwner:c,goToEditMode:o})]})},E=function(t){var e=t.profile,s=t.status,a=t.updateUserStatus,c=t.savePhoto,o=t.isOwner,n=t.saveProfile,i=Object(r.useState)(!1),l=Object(f.a)(i,2),_=l[0],j=l[1],d=Object(r.useState)(!1),m=Object(f.a)(d,2),x=m[0],v=m[1];if(!e)return Object(k.jsx)(O.a,{});var N=function(){var t=Object(b.a)(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e);case 2:j(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:p.a.profile,children:[Object(k.jsxs)("div",{className:p.a.avatarBlock,children:[Object(k.jsx)("div",{className:p.a.avatar,children:Object(k.jsx)("img",{className:p.a.mainPhoto,alt:"main avatar",src:e&&null!==e.photos.large?e.photos.large:h})}),Object(k.jsxs)("div",{className:p.a.profile__inner,children:[Object(k.jsx)(P,{isOwner:o,status:s,updateUserStatus:a}),Object(k.jsx)("div",{className:p.a.addedPhoto__btn,children:o&&Object(k.jsxs)("div",{className:p.a.avatarEdit,children:[Object(k.jsx)("input",{type:"file",onChange:function(t){return function(t){t.target.files&&t.target.files.length&&c(t.target.files[0])}(t)},id:"imageUpload",accept:".png, .jpg, .jpeg"}),Object(k.jsx)("label",{htmlFor:"imageUpload"})]})})]})]}),Object(k.jsx)("hr",{}),x?Object(k.jsx)(D,{editMode:_,profile:e,onSubmit:N,isOwner:o,setEditModeHandler:function(){j(!0)},disableViewMode:function(){v(!1)}}):Object(k.jsx)("div",{className:p.a.view__btn,onClick:function(){return v(!0)},children:Object(k.jsx)("button",{children:"View contacts"})}),Object(k.jsx)("hr",{})]})},U=s(19),T=s(57),L=s(319),J=s.n(L),H=s(320),Z=s.n(H),Q=function(t){var e=Object(U.c)(),s=Object(r.useState)(!1),a=Object(f.a)(s,2),c=a[0],o=a[1],n=Object(r.useState)(!1),i=Object(f.a)(n,2),l=i[0],_=i[1],j=c?Z.a.active:Z.a.notActive;return Object(k.jsxs)("div",{className:Z.a.item,children:[Object(k.jsx)("div",{className:Z.a.postAvatar,children:Object(k.jsx)("img",{src:"https://slovami.net/wp-content/uploads/thumbs_dir/the-most-beautiful-guys-russia-4-1-nwkkkydf2f1mhw9a4ijzfs2ktasvevyjiyi4xibqis.jpg",alt:"ava",title:"ava"})}),Object(k.jsxs)("div",{className:Z.a.itemText,children:[t.message,Object(k.jsxs)("div",{className:Z.a.activeBlock,children:[Object(k.jsxs)("span",{className:Z.a.likeCounter,onClick:function(){o(!c)},children:["like: ",c?t.likesCount+1:t.likesCount,Object(k.jsx)("span",{className:j,children:"\u2665"})]}),Object(k.jsxs)("span",{className:Z.a.likeCounter,onClick:function(){_(!l)},children:["respect:",l?Object(k.jsx)("span",{className:Z.a.reaction,children:"\ud83d\ude0e"}):Object(k.jsx)("span",{className:Z.a.reaction,children:"\ud83d\udc4d"})]})]})]}),Object(k.jsx)("div",{onClick:function(){return s=t.id,void e(T.a.deletePost(s));var s},className:Z.a.delete__btn,children:"\u274c"})]})},V=s(114),q=s(237),z=s(239),G=s.n(z),K=Object(q.a)(10),R=l.a.memo((function(t){var e=t.profilePage,s=t.onAddPost,a=e.posts.map((function(t){return Object(k.jsx)(Q,{message:t.message,likesCount:t.likesCount,id:t.id},t.id)}));return Object(k.jsxs)("div",{className:J.a.myPosts,children:[Object(k.jsx)("h3",{className:J.a.post__title,children:"My posts :"}),Object(k.jsx)(X,{onSubmit:function(t){s(t.AddNewPost)}}),Object(k.jsx)("div",{className:J.a.posts,children:a})]})})),X=Object(w.a)({form:"ProfileAddNewPostForm"})((function(t){var e=t.handleSubmit,s=t.reset;return Object(k.jsxs)("form",{onSubmit:function(t){e(t),s()},children:[Object(k.jsx)("div",{children:Object(k.jsx)(V.a,{component:y.b,name:"AddNewPost",placeholder:"Write your message \u2709",validate:[q.b,K]})}),Object(k.jsx)("div",{className:G.a.form__btn,children:Object(k.jsx)("button",{children:"Add post"})})]})})),W=s(66),Y=Object(U.b)((function(t){return{profilePage:Object(W.c)(t)}}),{onAddPost:T.a.addPost})(R),$=function(t){var e=t.profile,s=t.status,a=t.updateUserStatus,c=t.isOwner,o=t.savePhoto,n=t.saveProfile;return Object(k.jsxs)("section",{className:j.a.profile,children:[Object(k.jsx)(E,{profile:e,status:s,updateUserStatus:a,isOwner:c,savePhoto:o,saveProfile:n}),c&&Object(k.jsx)(Y,{})]})},tt=s(41),et=s(4),st=s(248),at=s(50),ct=function(t){Object(n.a)(s,t);var e=Object(i.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.userId;if(t||(t=this.props.authorizedUserID)||this.props.history.push(PATH.LOGIN),!t)throw new Error("ID should be exists");this.props.getUserProfile(t),this.props.getUserStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.userId!==t.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(k.jsx)($,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component),ot=Object(tt.d)(Object(U.b)((function(t){return{profile:Object(W.b)(t),isAuth:Object(at.d)(t),status:Object(W.d)(t),authorizedUserID:Object(at.a)(t)}}),{getUserProfile:T.b,getUserStatus:T.c,updateUserStatus:T.g,savePhoto:T.e,saveProfile:T.f}),(function(t){return function(e){var s=Object(et.h)(),c=Object(et.f)();return Object(k.jsx)(t,Object(a.a)(Object(a.a)({},e),{},{userId:s.userId,location:c}))}}),st.a)(ct);e.default=ot}}]);
//# sourceMappingURL=4.b7da7ad2.chunk.js.map